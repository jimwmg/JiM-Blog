---
title: 学习，总结，架构
date: 2018-01-17
categories: 架构
tags: 
---

### 1 公用组件如何进行设计

```
使用组件层 --->   数据处理层   < --- >.  UI 组件层
```

1.1 使用组件层： 指的是使用某个公用组件，对要使用的组件进行一些配置，包括数据拉去的接口，删除数据的接口，等，进行一些参数的配置

1.2 数据处理层： 指的是对于使用组件层传入的  API 配置进行数据的拉取和处理，将得到的数据作为最终的值传入UI 组件层

1.3 UI组件成主要用于数据以及一些交互的渲染，对于用户的一些操作，会反作用于数据处理层，对数据进行一个操作

### 2 数据流的操作

dataFlow是传入某个组件的配置,该配置用来：prepare配置请求参数，api 请求后台的接口，effect 请求到数据之后对与其他数据的影响；

```javascript
dataflow: [{
    api: getModuleInfo,
    prepare: [() = {return {query:'3'}},....],
    effect: [()={},...]
}, {
    api: getEntityForm,
    prepare: [() = {return {query:'3'}},....],
    effect: [()={},...]
}],
```

