!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){var n=o(2),i=o(5);!function(){if(window.iTalentPMS)return void(window.iTalentPMS&&window.iTalentPMS.clearAll&&window.iTalentPMS.clearAll());window.iTalentPMS=new n;var e=new i;document.attachEvent?e.commonListen(!0,"onclick"):document.addEventListener&&e.commonListen(!1,"click"),window.collectMobileAction=function(t,o){e.commonEvent(t,o,!0)}}()},function(e,t,o){function n(){this._sequence=[],this._splash=!1,this._splashTime=+new Date,this._current={},this._record=[],this._fetchItem=[],this.num=1,this._start_recored=!1,this.componentsBlackList=["ReactDataGrid.Cell","ReactDataGrid.Row","CheckboxCell","Avatar","VariableTree","FormulaRow","Field","ExtensionWrap","UserTextBox"]}var i=o(3),a=o(4),r=[];e.exports=n,n.prototype._getCurrentPage=function(){var e=location.hash&&decodeURIComponent(location.hash)||"";return e=e.substring(e.indexOf("#")+1,e.indexOf("?")),e="/"===e.slice(0,1)?e.split("/")[1]:e,e=e&&e.substring(0,1).toUpperCase()+e.substring(1)},n.prototype._getCurrentUserinfo=function(){if(window.BSGlobal){var e={};return e.uid=BSGlobal.loginUserInfo&&BSGlobal.loginUserInfo.Id?BSGlobal.loginUserInfo.Id:0,e.tid=BSGlobal.tenantInfo&&BSGlobal.tenantInfo.Id?BSGlobal.tenantInfo.Id:0,e.appCode=BSGlobal.application?BSGlobal.application:"",e.sessionId=BSGlobal.start&&BSGlobal.start.getTime?e.uid+BSGlobal.start.getTime():0,e.appVersion=BSGlobal.appVersion?BSGlobal.appVersion:"",e}},n.prototype.clearAll=function(){this._sequence=[],this._splash=!1,this._splashTime=+new Date,this.num=1},n.prototype.beiginRecord=function(){this._record=[],this._start_recored=!0},n.prototype.endRecord=function(){this._start_recored=!1,window.localStorage&&(localStorage.setItem("col",""),localStorage.setItem("col",JSON.stringify(this._record)))},n.prototype.setCurrent=function(e,t){"splashAction"!==this._current[e]&&(this._current[e]=t)},n.prototype.getCurrent=function(e,t){return this._current[e]},n.prototype.addPath=function(e,t,o){this._dealPath(e,t,o),this._dealRecord(e,t,o)},n.prototype.addComponent=function(e,t,o){var n=this._getBlackList();n.indexOf(e)===-1&&(this._dealPath(e,t,o),this._dealRecord(e,t,o))},n.prototype.addAjax=function(e,t,o,n,i,a){var r={name:e,time:(new Date).getTime(),url:o,method:n};if("start"===t)this._fetchItem.push(r);else if("end"===t)for(var s=this._fetchItem.length-1;s>=0;s--)if(this._fetchItem[s].name===e){var o=this._fetchItem[s].url,n=this._fetchItem[s].method,p=this._fetchItem[s].time;this._getAjaxTiming(o,n,p,(new Date).getTime(),i,a),this._fetchItem.splice(s,1)}},n.prototype.addAction=function(e,t){this._dealPath(e,"action",t),this._dealRecord(e,"action",t)},n.prototype._getBlackList=function(){var e=BSGlobal&&BSGlobal.componentsBlackList;return e=e&&a.isArray(e)?e.concat(this.componentsBlackList):this.componentsBlackList},n.prototype._dealRecord=function(e,t,o){if(this._start_recored)if("start"===o)this._record.push([e,t,+new Date]);else if("end"===o){var n=!1,i=this._record;for(var a in i)if(i[a][0]==e&&i[a][1]==t&&i[a].length<4){i[a].push(+new Date),n=!0;break}this._record=i}},n.prototype._dealArr=function(e,t){if(!(e.length<=0)){for(var o=this._getCurrentPage(),n=e[0][2],i=0,a=i+t,r=this._getCurrentUserinfo(),s=0;s<e.length;s++)e[s][2]=e[s][2]-n,e[s][3]=e[s][3]-n;e=e.filter(function(e,t){return"splash"!==e[1]});for(var s=0;s<Math.ceil(e.length/t);s++){var p=e.slice(i,a),d="";p.map(function(e,t){var e=JSON.stringify(e);d+=e+"&"}),d=d.substring(0,d.length-1);var c="?appCode="+r.appCode+"&appName="+location.host+"&appCode="+r.appCode+"&cid=3&uid="+r.uid+"&tid="+r.tid+"&col="+encodeURIComponent(d)+"&sessionId="+r.sessionId+"&pstart="+n+"&pages="+o+"&ts="+(new Date).getTime();this._sendDataToOps(c),i+=t,a+=t}}},n.prototype._dealPath=function(e,t,o){if(0===this._sequence.length&&this._splash===!1&&this._sequence.push(["splash","splash",this._splashTime]),"start"===o)this._sequence.push([e,t,+new Date]);else if("end"===o){var n=!1,i=this._sequence;for(var a in i)if(i[a][0]==e&&i[a][1]==t&&i[a].length<4){i[a].push(+new Date),n=!0;break}if(!n)return;"splash"===t&&1===this.num&&(this._splash=!0,this._sendSplash(i),this.num=0);var s=[],p=55;i.map(function(e){4===e.length?r.push(e):s.push(e)}),this._sequence=s,r.length>=p&&(this._dealArr(r,p),r=[])}},n.prototype._sendSplash=function(e){if(!(e.length<=0)){var t=e[0][2],o=e[0][3],n=o-t,r="[splash]"+location.protocol+"//"+location.host+location.hash,s=this._getCurrentPage(),p=this._getCurrentUserinfo(),d=this._pagePerformance();r=a.handleEncode(r);var c="?appCode="+p.appCode+"&appName="+location.host+"&appCode="+p.appCode+"&cid=1&label="+encodeURIComponent(r)+"&uid="+p.uid+"&tid="+p.tid+"&sessionId="+p.sessionId+"&ts="+(new Date).getTime()+"&scrWidth="+i.sw+"&scrHeight="+i.sh+"&winwidth="+i.ww+"&winheight="+i.wh+"&pages="+s+"&start="+t+"&end="+o+"&time="+n;if(d){var l=c+d;this._sendDataToOps(l)}}},n.prototype._getAjaxTiming=function(e,t,o,n,i,r){var s=r&&r.sourceActionName||"",p=r&&r.sourceActionCode||"",d=r&&r.pageCode||"",c=r&&r.dataKey||"",l=r&&r.pages||"",h="[ajax]["+t+"]"+e,u=n-o,m=this._getCurrentUserinfo();pages=l?l:this._getCurrentPage(),h=a.handleEncode(h),s=a.handleEncode(s);var f,g="?appCode="+m.appCode+"&appName="+location.host+"&cid=2&label="+encodeURIComponent(h)+"&uid="+m.uid+"&tid="+m.tid+"&start="+o+"&end="+n+"&time="+u+"&sessionId="+m.sessionId+"&ts="+(new Date).getTime()+"&pages="+pages+"&traceId="+i+"&actionName="+encodeURIComponent(s)+"&actionCode="+p+"&pageCode="+d+"&modelInfo="+JSON.stringify(c)+"&version="+m.appVersion;f=g,this._sendDataToOps(f)},n.prototype._getCommonPerf=function(e,t){var o={};return e&&(o.redirect=e.redirectEnd&&e.redirectStart?Math.ceil(e.redirectEnd-e.redirectStart):0,o.dns=e.domainLookupEnd&&e.domainLookupStart?Math.ceil(e.domainLookupEnd-e.domainLookupStart):0,o.connect=e.connectEnd&&e.connectStart?Math.ceil(e.connectEnd-e.connectStart):0,o.request=e.responseStart&&e.requestStart?Math.ceil(e.responseStart-e.requestStart):0,o.response=e.responseEnd&&e.responseStart?Math.ceil(e.responseEnd-e.responseStart):0,t?(o.domReady=e.domContentLoadedEventStart-e.responseEnd,o.pageLoaded=e.loadEventStart-e.responseEnd,o.pageTotal=e.loadEventEnd-e.navigationStart):o.totalTime=Math.ceil(e.duration)),o},n.prototype._pagePerformance=function(){if("performance"in window&&"timing"in window.performance){var e=window.performance.timing,t=e.navigationStart,o=this._getCommonPerf(e,!0);return"&pagetimestamp="+t+"&redirecttime="+o.redirect+"&dnstime="+o.dns+"&contime="+o.connect+"&reqtime="+o.request+"&resptime="+o.response+"&dreadytime="+o.domReady+"&loadtime="+o.pageLoaded+"&totaltime="+o.pageTotal}},n.prototype._sendDataToOps=function(e){if(BSGlobal.IsUseUxPMS&&BSGlobal&&BSGlobal.env){var t=a.getTerminalType(),o=BSGlobal.env.toLocaleLowerCase(),n=new Image,r=e+"&terminalType="+t;"production"==o?n.src=location.protocol+i.prodOpsUrl+r:"testing"==o?n.src=location.protocol+i.testOpsUrl+r:"development"==o?n.src=location.protocol+i.devOpsUrl+r:"labs"==o?n.src=location.protocol+i.labsOpsUrl+r:"sandbox"==o&&(n.src=location.protocol+i.sandOpsUrl+r)}},n.prototype._up=function(e,t,o,n){if(BSGlobal.IsUseUxPMS){n=void 0===n?0:n;var i=this._pagePerformance(),r=this._getCurrentUserinfo();e=a.handleEncode(e);var s,p="?appCode="+r.appCode+"&appName="+location.host+"&appCode="+r.appCode+"&label="+encodeURIComponent(e)+"&uid="+r.uid+"&tid="+r.tid+"&time="+t+"&sessionId="+r.sessionId+"&ts="+(new Date).getTime()+"&pages="+o;s=e&&e.indexOf("ajax")>0?p+"&cid=2":e&&e.indexOf("splash")>0?p+"&cid=1"+i:p+"&cid=5",this._sendDataToOps(s)}},n.prototype._upAction=function(e,t,o,n){if(BSGlobal.IsUseUxPMS){n=void 0===n?0:n;var r=o?encodeURIComponent(o):this._getCurrentPage(),s=t?t:null,p=this._getCurrentUserinfo(),d=location.href;d=a.handleEncode(d);var c="?appCode="+p.appCode+"&appName="+location.host+"&version="+p.appVersion+"&label="+encodeURIComponent(d)+"&uid="+p.uid+"&modelInfo="+e+"&tid="+p.tid+"&pathId="+s+"&sessionId="+p.sessionId+"&diaryType=1&cid=11&step="+n+"&scrWidth="+i.sw+"&scrHeight="+i.sh+"&winwidth="+i.ww+"&winheight="+i.wh+"&pages="+r+"&ts="+(new Date).getTime();this._sendDataToOps(c)}}},function(e,t){e.exports={devOpsUrl:"//dev.opsapi.beisencorp.com/opsapi/AddPerformnanceLog",testOpsUrl:"//opsapi.italent.link/opsapi/AddPerformnanceLog",prodOpsUrl:"//opsapi.beisen.com/opsapi/AddPerformnanceLog",labsOpsUrl:"//labs.opsapi.beisencorp.com/opsapi/AddPerformnanceLog",sandOpsUrl:"//opsapi.upaas.in/opsapi/AddPerformnanceLog",type:1,step:0,sw:screen.width||0,sh:screen.height||0,ww:window.innerHeight||0,wh:window.innerWidth||0}},function(e,t){e.exports={isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},uniqueArr:function(e){for(var t=JSON.parse(JSON.stringify(e)),o=[],n=0,i=t.length;n<i;n++){for(var a=n+1;a<i;a++)t[n].name==t[a].name&&(a=++n);o.push(t[n])}return o},getGuid:function(){for(var e=[],t="0123456789abcdef",o=0;o<36;o++)e[o]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var n=e.join("");return n},getTerminalType:function(){var e=navigator.userAgent,t=e.indexOf("Mobile")>0,o=!!e.match(/MicroMessenger/i),n=!!e.match(/Weibo/i),i=!!e.match(/BeisenApp/i)&&!e.match(/Apicloud/i),a=e.toLowerCase().match(/apicloud/i),r=e.toLowerCase().match(/upaasapp/i),s=!!e.match(/DingTalk/i);return t||o||n||i||a||r||s?"mobile":"pc"},handleEncode:function(e){return e&&e.indexOf("%")!==-1?decodeURIComponent(escape(e)):decodeURIComponent(e)}}},function(e,t,o){function n(){}var i=o(6),a=o(3),r=o(2);e.exports=n;var r=new r;n.prototype.findDomText=function(e){for(var t=0;t<e.childNodes.length;t++){var o=e.childNodes[t];if("#text"===o.nodeName)return o.nodeValue;if("SPAN"===o.nodeName)return o.innerText}},n.prototype.getElementXPath=function(e){var t,o="",n=this.findDomText(e);for(t=n&&n.length>20?n.substring(0,45)+"...":n;e&&1==e.nodeType;e=e.parentNode){for(var i=1,a=e.previousSibling;a;a=a.previousSibling)1==a.nodeType&&a.tagName==e.tagName&&i++;var r=e.tagName.toLowerCase();e.id?r+="#"+e.id:e.className?r+="."+e.className:i>1&&(r+="#"+i),o="/"+r+o}return{x:encodeURIComponent(o),v:encodeURIComponent(t)}},n.prototype._collectEventInfo=function(e){var t=this.getElementXPath(e.target),o=JSON.stringify([t]),n=[e.type,decodeURIComponent(t.v)],s=location.href,p=r._getCurrentUserinfo(),d=r._getCurrentPage(),c=location.hash.indexOf("?")!=-1?location.hash.split("?")[1]:location.hash,l=i(c),h=l.metaObjName?l.metaObjName:"",u="?appCode="+p.appCode+"&appName="+location.host+"&label="+encodeURIComponent(decodeURIComponent(s))+"&uid="+p.uid+"&tid="+p.tid+"&modelInfo="+JSON.stringify(n)+"&xPath="+o+"&xAxis="+e.x+"&yAxis="+e.y+"&diaryType=1&cid=10&actionName="+t.v+"&sessionId="+p.sessionId+"&ts="+(new Date).getTime()+"&pages="+d+"&scrWidth="+a.sw+"&scrHeight="+a.sh+"&winwidth="+a.ww+"&winheight="+a.wh+"&extend="+h;r._sendDataToOps(u)},n.prototype.commonEvent=function(e,t,o){var n,i,a=this;o?(i&&clearTimeout(i),i=setTimeout(function(){a._collectEventInfo(t)},3e3)):document.addEventListener(e,function(e){n&&clearTimeout(n),n=setTimeout(function(){a._collectEventInfo(e)},3e3)})},n.prototype.commonListen=function(e,t){e?document.attachEvent(t,function(e){e.target&&e.target.getAttribute("data-logtype")==t&&r._upAction(e.target.getAttribute("data-loglabel"),e.target.getAttribute("data-logcmpid"))}):(document.addEventListener(t,function(e){e.target.getAttribute("data-logtype")==t&&r._upAction(e.target.getAttribute("data-loglabel"),e.target.getAttribute("data-logcmpid"))}),this.commonEvent(t))}},function(e,t){var o=function(e){for(var t={},o=e.split("&"),n=null,i=null,a=null,r=0;r<o.length;r++)n=o[r].split("="),n[0]&&(i=n[0],a=n[1]?n[1]:"",t[i]=a);return t};e.exports=o}]);