/*! tita-web-v4 - v0.4.0 - 2018-07-09 20:51 */
require.config({paths:{backbone:"empty:",$:"empty:",jquery:"empty:",json2:"empty:",marionette:"empty:",_:"empty:",requirejs:"empty:",talent:"empty:",TitaWidget:"empty:","jquery.ui":"empty:",moment:"empty:","$.tipsy":"empty:",Uploader:"empty:",simplemodal:"empty:",UserSelector:"empty:",momentZH:"vendor/components/moment/locales/zh-cn","tita-network":"vendor/components/tita-network/index","$.caret":"vendor/components/jquery.caret/index",css:"vendor/plugins/require-css/css",webim:"vendor/components/webim/index",calendar:"vendor/components/calendar/index","$.slimScroll":"vendor/components/jquery.slimscroll/index","$.cookie":"vendor/components/jquery.cookie/index","iTalent-header":"vendor/components/iTalent-header/index","iTalent-sidebar":"vendor/components/iTalent-sidebar/index","error-cacher":"vendor/components/error-cacher/index",gantt:"vendor/components/gantt/codebase/sources/dhtmlxgantt",ganttMarker:"vendor/components/gantt/codebase/ext/dhtmlxgantt_marker",ganttTips:"vendor/components/gantt/codebase/ext/dhtmlxgantt_tooltip",ganttCN:"vendor/components/gantt/codebase/locale/locale_cn","$.modal":"vendor/components/talentjs-ui/jquery.modal","$.infotip":"vendor/components/talentjs-ui/jquery.infotip","$.pagination":"vendor/components/talentjs-ui/jquery.pagination","$.checkbox":"vendor/components/talentjs-ui/jquery.checkbox","$.jquery.sortable":"vendor/plugins/jquery.sortable","$.scrollable":"vendor/plugins/jquery/jquery.scrollable","$.dialog":"vendor/plugins/simplemodal-view","$.dateTimePicker":"vendor/plugins/jquery/jquery-ui-timepicker-addon",datePickerZH:"vendor/plugins/jquery/data-zh-cn","bootstrap-datetimepicker":"vendor/plugins/jquery/bootstrap-datetimepicker","$.bootstrapDatetimepicker":"vendor/plugins/jquery/bootstrap-datetimepicker.zh-CN","$.daterangepicker":"vendor/plugins/jquery/daterangepicker/daterangepicker","$.highlight":"vendor/plugins/jquery.highlight",iScroll:"vendor/plugins/iscroll","$.mousewheel":"vendor/plugins/jquery/jquery.mousewheel",notification:"vendor/plugins/notification",jscolor:"vendor/plugins/jscolor","$.tree":"vendor/plugins/jquery.ztree.core-3.5","$.jcrop":"vendor/plugins/jquery/jquery.Jcrop","$.switch":"vendor/plugins/jquery.switchable","$.autoresize":"vendor/plugins/jquery/jquery.autoresize",clipboard:"vendor/plugins/clipboard","$.pin":"vendor/plugins/jquery/jquery.pin","bootstrap-scrollspy":"vendor/plugins/jquery/bootstrap-scrollspy","$.truncate":"vendor/plugins/jquery/truncate","$.notice.show":"views/common/plugins/notice/notice","$.notice.set":"views/common/plugins/notice/set-notice","$.attachmentLocal":"views/common/plugins/attachment/script","$.attachment":"views/common/plugins/attachment/selectupload","$.pubrange":"views/common/plugins/pubrange/script",tdialog:"views/common/plugins/tdialog/tdialog","$.searchuserlist":"views/common/plugins/searchuserlist/script",fileUploader:"views/common/plugins/attachment/fileUploader",highCharts:"../extras/scripts/highcharts-v2.min",ext:"../extras/scripts/ext/ext-all-v1.min",sch:"../extras/scripts/ext/sch-all-v1.min"},shim:{"jquery.ui":["$"],"$.pagination":["$"],"$.jquery.sortable":["$"],"$.modal":["$"],"$.infotip":["$"],"$.checkbox":["$"],"$.jcrop":["$"],backbone:{deps:["json2","_","$"],exports:"Backbone"},marionette:{deps:["backbone"],exports:"Marionette"},talent:{deps:["marionette"],exports:"Talent"},datePickerZH:{deps:["jquery.ui"],exports:"$.datePicker"},"$.dateTimePicker":{deps:["jquery.ui","datePickerZH"],exports:"$.dateTimePicker"},"$.notice.show":{deps:["jquery.ui","datePickerZH"],exports:"PositionNoticeElement"},"$.notice.set":{deps:["jquery.ui","datePickerZH"],exports:"NoticeSettingTitaSingleton"},"$.bootstrapDatetimepicker":{deps:["jquery","bootstrap-datetimepicker"],exports:"$.bootstrapDatetimepicker"},fileUploader:["$.attachmentLocal"],calendar:["jquery.ui"],"$.caret":["$"],UserSelector:{deps:["talent","$.caret"],exports:"UserSelector"},Uploader:{deps:["$","_","backbone","marionette"],exports:"Uploader"},momentZH:["moment"],"$.daterangepicker":{deps:["$","moment"],exports:"$.daterangepicker"},sch:["ext"],gantt:{exports:"gantt"},ganttMarker:["gantt"],ganttTips:["gantt"],ganttCN:["gantt"],TitaWidget:["talent","$.tipsy","Uploader","UserSelector","simplemodal","moment","$.infotip","jquery.ui"],"iTalent-sidebar":["$.cookie"]}}),define("config",function(){}),require(["config"],function(a,b){require(["talent","collections/index","routers/index","helpers/index","network/index","tita-network"],function(a,b,c,d,e,f){f.done(function(){require(["error-cacher"],function(b){var c=new b.ErrorAttacher(window,Backbone,Marionette);c.initExpStore(),c.attachToBackboneInitialize(),c.attachToMarionetteRegionShow(),c.attachToJqueryAjax(),c.attachToBackboneDelegateEvents(),$("body").trigger("OEMGlobalIco.loadSuccess"),$(function(){a.app.start(a._.extend({},window.BSGlobal||{}))})})})})}),define("main",function(){}),define("collections/base-collection",["talent"],function(talent){return talent.Collection.extend({request:function(a){function b(a){var b=a.Code;if(1==b){var e=a.Data;a.ExtendedData&&(e=talent._.extend({},a.Data,a.ExtendedData)),d.resolve(e)}else 401==b&&c(),d.reject(a.Message)}function c(){throw location.href=talent.Context.getLoginUrl(),new Error("401")}var d=new talent.$.Deferred;return a=talent._.extend({},a),a.url=a.url||this.url,a.url&&a.url.indexOf("http://")<0&&(a.url=talent.Context.getApiUrl(a.url)),a.mockData?b(a.mockData):talent.$.ajax(a).done(b),d.promise()},request2:function(a){function b(a){var b=a.Code;if(1==b){var e=a.Data;a.ExtendedData&&(e=talent._.extend({},a.Data,a.ExtendedData)),d.resolve(e)}else 401==b&&c(),d.reject(a.Message)}function c(){throw location.href=talent.Context.getLoginUrl(),new Error("401")}var d=new talent.$.Deferred;return a=talent._.extend({},a),a.url=a.url||this.url,a.url=talent.Context.getApiUrlV2(a.url),a.mockData?b(a.mockData):talent.$.ajax(a).done(b),d.promise()},batch:function(options){function action(resp){for(x in resp)resp[x].Data=eval("("+resp[x].Data+")");deferred.resolve(resp)}var deferred=new talent.$.Deferred,urls=[];options=talent._.extend({},options),options.url=options.url||this.url;for(var i=0;i<options.url.length;i++)urls.push(talent.Context.getApiUrl(options.url[i]));return options.mockData?action(options.mockData):talent.$.ajax({url:talent.Context.getApiUrl("batch"),type:"POST",headers:{"x-bs-batch":1},data:"['"+urls.join("','")+"']",contentType:"application/json; charset=UTF-8"}).done(action),deferred.promise()}})}),define("collections/feed-collection",["talent","collections/base-collection"],function(a,b){var c=a.Model.extend({idAttribute:"FeedId"});return b.extend({model:c,initialize:function(){}})}),define("collections/feed-group-collection",["talent","collections/feed-collection","collections/base-collection"],function(a,b,c){var d=[],e=[],f=a.Model.extend({idAttribute:"FeedId"}),g=c.extend({model:f,pageCout:20,defaults:{groupMapping:{"aboutme-all":2,"aboutme-replyme":25,"aboutme-tome":23,"aboutme-fromme":1,"aboutme-myfollow":24,"aboutme-collect":26,all:7,newreply:2525,newleave:2323,profile:3,department:4},comment_count:4,count:10},initialize:function(){this.loginUserInfo=a.Context.getUserInfo()},feedAddShare:function(a){var b=new Talent.$.Deferred,c={Content:"",ObjType:"",ObjId:"",FileUrls:"",Visibility:"",IsSendSMS:""},a=Talent._.extend({},c,a),d="",e="user/feed/AddShare";return this.request2({url:e+d,type:"POST",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b},returnFeedUrl:function(a){return"user/feed?type="+a+"&feed_count="+this.pageCout+"&comment_count=4"},getData:function(c){this.type=this.defaults.groupMapping[c.type||"aboutme-all"],c.type=this.type,c.feed_count=20,c.comment_count=4,c.start=c.start||"";var f=a.Context.splicingUrl(c,["type","feed_count","comment_count","start"]),g=this,h=a.$.Deferred(),i="user/feed?"+f,j=this.request({url:i});return j.done(function(a){var c=new b;d=a.ToMeIds||[],e=a.CommandIds||[];var f=a;if(!f.Feeds)return void h.resolve({data:[],IsEnd:!0,IsEmpty:!0});c.add(f.Feeds);var i=c.toJSON();g._initFeed(i);var j={Data:i,IsEnd:f.IsEnd,IsEmpty:!1,LastId:f.LastId,IndicatorIds:d&&d.length?d:e};j.IsEnd&&j.Data.length<g.pageCout&&(j.IsEmpty=!0),h.resolve(j)}),h},deleteData:function(b){var c=new a.$.Deferred;return this.request({url:"feed?id="+b.feed_id,data:b,type:"Delete"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},getToUserIdData:function(b){var c=this,d=new a.$.Deferred,e=a.Context.splicingUrl(b,["start","to_user_id","comment_count","feed_count"]),f="user/feed?"+e;return this.request({url:f,type:"Get"}).done(function(a){if(!a||!a.Feeds||!a.Feeds.length)return void d.resolve({data:[],IsEnd:!0,IsEmpty:!0});c._initFeed(a.Feeds);var b={Data:a.Feeds,IsEnd:a.IsEnd,IsEmpty:!1,LastId:a.LastId};d.resolve(b)}).fail(function(a){d.reject(a)}),d},getIndicatorTypeData:function(b){var c=this,d=new a.$.Deferred,e="user/feed/NewReply?indicatorType="+b.type;return this.request2({url:e,type:"Get"}).done(function(a){if(!a||!a.feeds||!a.feeds.length)return void d.resolve({data:[],IsEnd:!0,IsEmpty:!0});c._initFeed(a.feeds);var b={data:a.feeds,IsEnd:a.isEnd,IsEmpty:!1,LastId:a.lastId};d.resolve(b)}).fail(function(a){d.reject(a)}),d},getWidgetFeeds:function(b){var c=new a.$.Deferred,d={app_id:0,app_type:0,type:0,tita_objId:"",tita_objtype:0,app_objid:"",app_objtype:0,start:"",feed_count:this.feedFount,comment_count:this.commentCount},b=a._.extend({},d,b),e="user/feed/Widget";return this.request2({url:e+"?"+$.param(b),type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getFeeds:function(b){var c=(new a.$.Deferred,{type:"",start:"",feed_count:this.feedFount,comment_count:this.commentCount,to_user_id:""}),b=a._.extend({},c,b),d="user/feed/Get",e=new a.$.Deferred,f="?type="+b.type+"&start="+b.start+"&feed_count="+b.feed_count+"&comment_count="+b.comment_count+"&to_user_id="+b.to_user_id;return this.request2({url:d+f,type:"Get"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getItemFeed:function(b){var c=this,d=new a.$.Deferred;return this.request2({url:"user/feed/GetById?feed_id="+b.feed_id+"&comment_count="+b.comment_count,type:"GET"}).done(function(a){if(!a)return void d.resolve(a);var b=c._initFeed(a);d.resolve(b[0])}).fail(function(a){d.reject(a)}),d},getObjFeed:function(b){var c=this,d=new a.$.Deferred,e={obj_id:"",obj_type:"",feed_count:"",comment_count:"",start:"",to_user_id:""};return b=a._.extend({},e,b),this.request2({url:"objfeed/Get",type:"GET",data:b}).done(function(a){if(!a||!a.feeds||!a.feeds.length)return void d.resolve({Data:[],IsEnd:!0,IsEmpty:!0});c._initFeed(a.feeds);var b={Data:a.feeds,IsEnd:a.isEnd,IsEmpty:!1,LastId:a.lastId};d.resolve(b)}).fail(function(a){d.reject(a)}),d},getObjTopFeed:function(b){var c=this,d=new a.$.Deferred,e={titaObj_type:"",titaObj_id:"",comment_count:"4"},b=a._.extend({},e,b),f=a.Context.splicingUrl(b,["titaObj_type","titaObj_id","comment_count"]);return this.request({url:"user/feed?"+f,type:"GET"}).done(function(a){if(!a||!a.Feeds||!a.Feeds.length)return void d.resolve({data:[],IsEnd:!0,IsEmpty:!0});var b=a.Feeds||[];b=c._isTop(b),c._initFeed(b);var e={Data:b,IsEnd:a.IsEnd,IsEmpty:!1,LastId:a.LastId};d.resolve(e)}).fail(function(a){d.reject(a)}),d},addNewData:function(b){var c=this,d=new a.$.Deferred;return this.request({url:"share",type:"Post",data:b}).done(function(a){if(!a)return void d.resolve(a);var b=c._initFeed(a);d.resolve(b[0])}).fail(function(a){d.reject(a)}),d},collectData:function(b){var c=new a.$.Deferred;return this.request({url:"user/feed/favorites?feed_id="+b.feed_id,data:b,type:"Put"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},cancelCollectData:function(b){var c=new a.$.Deferred;return this.request({url:"user/feed/favorites?feed_id="+b.feed_id,data:b,type:"DELETE"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},topData:function(b){var c=new a.$.Deferred,d={feed_id:"",titaObj_type:"2",titaObj_id:""},b=a._.extend({},d,b),e="user/feed?",f=a.Context.splicingUrl(b,["feed_id","titaObj_type","titaObj_id"]);return e+=f,this.request({url:e,data:b,type:"Post"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},cancelTopData:function(b){var c=new a.$.Deferred,d={feed_id:"",titaObj_type:"2",titaObj_id:""},b=a._.extend({},d,b),e="user/feed?",f=a.Context.splicingUrl(b,["feed_id","titaObj_type","titaObj_id"]);return e+=f,this.request({url:e,type:"DELETE"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},postSearchFeedData:function(b){var c=this,d={type:"",content:"",start:"",count:20,comment_count:4},e=a._.extend({},d,b);e.type=this.defaults.groupMapping[b.type||"aboutme-all"];var f="Search/UserFeeds",g=new a.$.Deferred;return this.request({url:f,data:e,type:"Post"}).done(function(a){if(!a.Feeds||!a.Feeds.length)return void g.resolve({data:[],IsEnd:!0,IsEmpty:!0});c._initFeed(a.Feeds);var b={Data:a.Feeds,IsEnd:a.IsEnd,IsEmpty:!1,LastId:a.LastId};g.resolve(b)}).fail(function(a){g.reject(a)}),g},_initFeed:function(a){var b=[];a.length>0?b=a:a&&"object"==typeof a&&b.push(a);this._handlerFeedInfo(b);return b},_handlerFeedInfo:function(a){for(var b=0;b<a.length;b++)this._isCollected(a[b]),this._isFromIndicator(a[b]),a[b].FeedType&&4==a[b].FeedType&&(a[b].Editable=!1)},_isFromIndicator:function(a){if("25"==this.type||"23"==this.type){if("25"==this.type&&(b=e||[]),"23"==this.type)var b=d||[];for(var c=0;c<b.length;c++)if(b[c]==a.FeedId){a.FromIndicator=!0;break}}},_attachmentsUrl:function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b].FileType;if(null!=a[b].PreviewUrl&&""!=a[b].PreviewUrl?a[b].IsPreview=!0:a[b].IsPreview=!1,this._isImage(c)){if(a[b].IsImage=!0,null!=a[b].PreviewUrl&&""!=a[b].PreviewUrl){var d=a[b].PreviewUrl,e=d.lastIndexOf(".");if(e>0){var f=d.substr(0,e)+"_b."+d.substr(e+1),g=d.substr(0,e)+"_s."+d.substr(e+1);"gif"==c&&(g=d),a[b].BigUrl=f,a[b].SmallUrl=g}}}else a[b].IsImage=!1}},_isImage:function(b){for(var c=!1,d=a.Context.getAttachmentType().image,e=0;e<d.length;e++)if(b==d[e]){c=!0;break}return c},_isTop:function(b){return b.length?(a._.each(b,function(a){a.IsTop=!0}),b):[]},_isCollected:function(a){a.IsCollected=!1,26==this.type&&(a.IsCollected=!0)}});return g}),define("collections/feed-comment-collection",["talent","collections/feed-collection","collections/base-collection"],function(a,b,c){var d=a.Model.extend({idAttribute:"FeedId"}),e=c.extend({model:d,newAddComment:function(b){var c={FeedId:"",CommentId:"",Content:"",FileUrl:"",ObjId:"",ObjType:""},b=a._.extend({},c,b),d="comment/Add",e=new a.$.Deferred;return this.request2({url:d,type:"Post",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},newAddCommentV2:function(b){var c={FeedId:"",CommentId:"",Content:"",FileUrl:"",ObjId:"",ObjType:"",IsSendSMS:!1},b=a._.extend({},c,b),d="comment/AddV2",e=new a.$.Deferred;return this.request2({url:d,type:"Post",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getFeedItemCommentV2:function(b){var c=new a.$.Deferred,d={work_id:"",comment_type:"",comment_count:4},b=a._.extend({},d,b);return this.request2({url:"comment/GetV2",type:"GET",data:b}).done(function(a){return a?void c.resolve(a):void c.resolve(a)}).fail(function(a){c.reject(a)}),c},getFeedItemComment:function(b){var c=new a.$.Deferred,d={feed_id:"",comment_type:""},b=a._.extend({},d,b);return this.request2({url:"comment/Get?feed_id="+b.feed_id+"&comment_type="+b.comment_type,type:"GET"}).done(function(a){return a?void c.resolve(a):void c.resolve(a)}).fail(function(a){c.reject(a)}),c},addNewData:function(b){var c=this,d=new a.$.Deferred;return this.request({url:"comment",data:b,type:"Post"}).done(function(a){var b=c._handlerFeedInfo(a)[0];d.resolve(b)}).fail(function(a){d.reject(a)}),d},getData:function(b){var c=this,d=new a.$.Deferred;return this.request({url:"comment?ids="+b.ids.join(","),type:"Get"}).done(function(a){return a&&a.length?(c._handlerFeedInfo(a),void d.resolve(a)):void d.resolve([])}).fail(function(a){d.reject(a)}),d},getMoreData:function(b){var c=this,d=new a.$.Deferred;return this.request({url:"comment",data:b,type:"Get"}).done(function(a){c._handlerFeedInfo(a),d.resolve(a)}).fail(function(a){d.reject(a)}),d},deleteData:function(b){var c=new a.$.Deferred;return this.request({url:"comment?feed_id="+b.feed_id+"&comment_id="+b.comment_id,data:b,type:"Delete"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},_handlerFeedInfo:function(a){var b=[];a.length>0?b=a:a&&"object"==typeof a&&(b=[a]);for(var c=0;c<b.length;c++)this._concatFeedUser(b[c]);return b},_concatFeedUser:function(a){a.Content=a.Content.replace(/(!%nr%!)/g,"<br/>").replace(/(&apos;)/g,"'"),a.ParentContent&&(a.ParentContent=a.ParentContent.replace(/(!%nr%!)/g,"<br/>").replace(/(&apos;)/g,"'")),this._attachmentsUrl(a.Attachment)},_attachmentsUrl:function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b].FileType;if(null!=a[b].PreviewUrl&&""!=a[b].PreviewUrl?a[b].IsPreview=!0:a[b].IsPreview=!1,this._isImage(c)){if(a[b].IsImage=!0,null!=a[b].PreviewUrl&&""!=a[b].PreviewUrl){var d=a[b].PreviewUrl,e=d.lastIndexOf(".");if(e>0){var f=d.substr(0,e)+"_b."+d.substr(e+1),g=d.substr(0,e)+"_s."+d.substr(e+1);"gif"==c&&(g=d),a[b].BigUrl=f,a[b].SmallUrl=g}}}else a[b].IsImage=!1}},_isImage:function(b){for(var c=!1,d=a.Context.getAttachmentType().image,e=0;e<d.length;e++)if(b==d[e]){c=!0;break}return c}});return e}),define("collections/project-group-collection",["talent","collections/base-collection"],function(a,b){return b.extend({defaults:{page_num:1,page_size:20},url:"/Work/UserWork",getData:function(b){var c=new a.$.Deferred;4===parseInt(b.relation)&&(this.url="/Work/TenantWork");var d=this.request({url:this.url+"?relation="+b.relation+"&status="+b.status+"&page_num="+b.pageIndex+"&page_size="+this.defaults.page_size+"&app_id="+b.app_id+"&app_type="+b.app_type+"&to_user_id="+b.to_user_id});return d.done(function(a){c.resolve(a)}),c.promise()},searchProject:function(b){var c=new a.$.Deferred,d={filter:"",toUserId:""},e="Work/SearchWork";return b=a._.extend({},d,b),this.request({url:e,type:"get",data:b}).done(function(a){c.resolve(a)}),c.promise()},getImplementationGant:function(b){var c=new a.$.Deferred,d={};b=a._.extend({},d,b);var e="Work/WorkImplementationGrant";return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getSearch:function(b){var c=new a.$.Deferred,d="Search/Work?filter="+b.key+"&page_num="+b.pageIndex+"&page_size="+this.defaults.page_size,e=this.request({url:d,type:"GET"});return e.done(function(a){c.resolve(a)}),c.promise()},updateData:function(a){var b,c="Work/"+a.handler;switch(a.handler){case"CancelFollow":a.data.relation=3,b=this.deleteUser(a);break;case"Follow":a.data.relation=3,b=this.addUser(a);break;case"DelMember":a.data.relation=2,b=this.deleteUser(a);break;case"AddMember":a.data.relation=2,b=this.addUser(a);break;default:b=this.request({url:c,data:a.data,type:"POST"})}return b},getAllData:function(a){return this.request({url:"Work/MyWork?app_id="+a.app_id+"&app_type="+a.app_type+"&to_user_id="+a.to_user_id,type:"GET"})},getProject:function(a){var b="Work/MyAssentWork?app_id="+a.app_id+"&app_type="+a.app_type;return a.to_user_id&&(b=b+"&to_user_id="+a.to_user_id),this.request({url:b,type:"GET"})},UpdateProgress:function(a){return this.request({url:"/Work/UpdateProgress",type:"POST",data:a.data})},deleteUser:function(a){var a=a.data,b="/Work/DeleteUser?to_user_ids="+a.to_user_ids+"&work_id="+a.work_id+"&relation="+a.relation;return this.request({url:b,type:"POST"})},addMember:function(a){return this.request({url:"/Work/AddUser?work_id="+a.work_id+"&relation="+a.relation,type:"POST",contentType:"application/json",data:JSON.stringify(a.data)})},addUser:function(a){return this.request({url:"/Work/AddUser",type:"POST",data:a.data})},addData:function(b){var c={WorkName:"",Descripition:"",StartDate:"",DeadLine:"",PrincipalId:"",Visibility:"1",AddObjectModels:"",LableId:"",DepartmentId:"",IsInvested:"",ApplyUserId:""},b=a._.extend({},c,b);return this.request({url:"Work/Add",data:b,type:"POST"})},postUpdateAllData:function(b){var c=new a.$.Deferred,d="Work/UpdateAll",e={WorkName:"",Descripition:"",StartDate:"",DeadLine:"",PrincipalId:"",Visibility:"1",AddObjectModels:"",LableId:"",DepartmentId:"",IsInvested:""},b=a._.extend({},e,b);return this.request({url:d,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},projectDateUpdate:function(b){var c=new a.$.Deferred;return this.request2({url:"work/date",type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},projectNameUpdate:function(b){var c=new a.$.Deferred;return this.request2({url:"work/name",type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},projectStatusUpdateV1:function(b){var c=new a.$.Deferred,d="Work/"+b.url;return this.request({type:"POST",url:d,data:b.data}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},projectStatusUpdateV2:function(b){var c=new a.$.Deferred,d="work/"+b.url;return this.request2({type:b.type,url:d,data:b.data}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},addUserByObj:function(a){var b={workId:"",addObjects:[],relation:""},a=Talent._.extend({},b,a),c="work/addUserByObj",d="?workId="+a.workId+"&relation="+a.relation,e=new Talent.$.Deferred;return this.request2({url:c+d,type:"POST",contentType:"application/json",data:JSON.stringify(a.addObjects)}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},deleteMembers:function(b){var c=new a.$.Deferred,d="?toUserIds="+b.toUserIds+"&workId="+b.workId+"&relation="+b.relation;return this.request2({url:"work/deleteUser"+d,type:"DELETE",dataType:"json",contentType:"application/json"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deliverTrail:function(a){return this.request2({url:"work/updateApplyUser",type:"PUT",data:a})},updateApplyUserData:function(a){var b={workId:"",user_id:"",email:""},a=Talent._.extend({},b,a),c="work/updateApplyUser",d=new Talent.$.Deferred;return this.request2({url:c,type:"PUT",data:a}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deliverData:function(a){var b={work_id:"",user_id:"",email:""},a=Talent._.extend({},b,a),c="Work/Deliver",d="",e=new Talent.$.Deferred;return this.request({url:c+d,type:"POST",data:a}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()}})}),define("collections/user-list-collection",["talent","collections/base-collection"],function(a,b){var c=new a.Collection;return c.model=a.Model.extend({idAttribute:"Id"}),b.extend({url:"user",getData:function(b){var d=this,e=b.ids,f=c.pluck("Id"),g=a._.difference(b.ids,f),h=new a.$.Deferred;if(0==g.length){var i=this._pluckUser(e);return h.resolve(i),h}return b.ids=g.join(","),this.request({url:this.url,data:b,type:"Post"}).done(function(b){var f=d._setAvatar(b);c.add(a._.values(f));var g=d._pluckUser(e);h.resolve(g)}),h},getOnlineUserData:function(b){var c=new a.$.Deferred;return this.request({url:"staff/OnlineUsers",data:b,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},_pluckUser:function(b){var d={};a._.filter(c.toJSON(),function(c){a._.map(b,function(a){return a==c.Id?(d[c.Id]=c,c):void 0})});return d},_setAvatar:function(a){for(index in a){var b=a[index].Avatar;a[index].Avatar={Small:b,Medium:b.replace("_s","_m"),IsDefault:!1},b.indexOf("default_")>-1&&(a[index].Avatar.Medium=b.replace("_small","_middle"),a[index].Avatar.IsDefault=!0)}return a},getQrcode:function(b){var c={x:"",y:"",w:"",h:"",dfs_url:""},b=a._.extend({},c,b),d="user/CutQrCodeImg",e=new a.$.Deferred;return this.request2({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e}})}),define("collections/task-list-collection",["talent","collections/base-collection"],function(a,b){return b.extend({url:"task",saveTaskFeed:function(a){var b=new Talent.$.Deferred,c={TaskId:"",TaskName:"",PrincipalUser:"",EndDate:"",StartDate:"",Participators:"",Visibility:"",Description:"",AddPlan:"",DepartmentId:"",FileUrls:"",MessageUsers:"",Importance:"",RemindType:"",RemindTime:"",RemindContent:"",TaskType:"",CycType:"",CycStartDate:"",CycStartTime:"",CycEndDate:"",CycEndTime:"",ApplyUserId:"",IsLongTerm:"",parentTaskId:"",LabId:"",LabType:"",PlanTableId:"",PlanTableType:"",TaskSource:"",PublisherId:"",WorkMileStoneId:""},a=Talent._.extend({},c,a),d="task/SaveTaskFeed",e="";return this.request({url:d+e,type:"POST",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b},getCycleTask:function(b){var c={cycle_id:""};b=a._.extend({},c,b);var d="task/GetCycleTask?cycle_id="+b.cycle_id,e=new a.$.Deferred;return this.request({url:d,type:"get"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},updateCycleTask:function(b){var c={cycle_id:""};b=a._.extend({},c,b);var d="task/UpdateCycleTask?cycle_id="+b.cycle_id,e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},closeCycleTask:function(b){var c="task/CloseCycleTask",d={cycle_id:"",task_id:""};b=a._.extend({},d,b);var e=new a.$.Deferred;return this.request({url:c+"?cycle_id="+b.cycle_id+"&task_id="+b.task_id,type:"get"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},setTaskMarkStar:function(b){var c="task/MarkImportance",d=new a.$.Deferred;return this.request({url:c,data:b,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},candelTaskMarkStar:function(b){var c="task/CancelImportance",d=new a.$.Deferred;return this.request({url:c,data:b,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},taskAddParticipator:function(b){var c="task/AddParticipator",d=new a.$.Deferred,e="task_id="+b.task_id;return this.request({url:c+"?"+e,type:"POST",contentType:"application/json",data:JSON.stringify(b.add_objects)}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},taskDeleteParticipator:function(b){var c="task/DeleteParticipator",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},taskEvaluate:function(b){var c="task/Evaluate",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},EvaluateTask:function(b){var c="task/EvaluateTask",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},taskDelete:function(b){var c="task/Delete?task_id="+b.task_id,d=new a.$.Deferred;return this.request({url:c,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},taskAddAttachment:function(b){var c="task/AddAttachment",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},taskDeleteAttachment:function(b){var c="task/DeleteAttachment",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},updateLable:function(b){var c={task_id:"",lab_type:"",lab_id:""};b=a._.extend({},c,b);var d="task/UpdateLable",e=new a.$.Deferred;return this.request({url:d,data:b,type:"POST"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},updateStatus:function(b){var c={task_id:"",status:""};b=a._.extend({},c,b);var d="task/UpdateStatus",e=new a.$.Deferred;return this.request({url:d,data:b,type:"POST"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},addData:function(b){var c=this,d=new a.$.Deferred;if("taskList"===b.handler){var e=this.url+"/AddV2?v="+Math.random();this.request({url:e,data:b,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)})}else this.request({url:"task/Add",data:b,type:"POST"}).done(function(a){var b=c._dataHandle([a]);d.resolve(b[0])}).fail(function(a){d.reject(a)});return d.promise()},getJoinTaskData:function(b){var c="task/JoinTask",d=new a.$.Deferred,e=a.Context.splicingUrl(b,["page_size","page_index"]);return this.request({url:c+"?"+e,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getTaskInfo:function(b){var c="task/TaskInfo",d=new a.$.Deferred,e={task_id:"",data:""};b=a._.extend({},e,b);var f="task_id="+b.task_id+"&data="+b.data;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},changeTask:function(b){var c="task/ChangeTask",d={task_id:"",start_date:"",end_date:"",old_parent_task_id:"",parent_task_id:""};b=a._.extend({},d,b);var e=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},taskSetMark:function(b){var c="task/Mark",d=new a.$.Deferred,e={task_id:"",type:""};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},updateTaskPrincipalUser:function(b){var c="task/UpdatePrincipal",d=new a.$.Deferred,e={task_id:"",to_user_id:""};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},updateApplyUser:function(b){var c="task/UpdateApplyUser",d=new a.$.Deferred,e={to_user_id:"",task_id:""};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},updateTaskDate:function(b){var c="task/UpdateTaskDate",d=new a.$.Deferred,e={Deadline:"",StartDate:"",IsLongTerm:"",task_id:""};return b=a._.extend({},e,b),this.request({url:c+"?task_id="+b.task_id,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},newCreateTask:function(b){var c="task/Save",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},newCreateTask2:function(b){var c="task/SaveV2",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},createTask:function(b){var c="task/Add",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){a.Tasks=[],a.level=1,d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},taskAccept:function(b){var c="task/Accept",d="start_date="+b.start_date+"&end_date="+b.end_date,e={start_date:"",end_date:"",parent_task_id:"",lab_type:"",lab_id:""};b=a._.extend({},e,b);var f=new a.$.Deferred;return this.request({url:c+"?"+d,type:"POST",data:b}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},UpdateDescription:function(b){var c="task/UpdateDescription",d={task_id:"",Description:""};b=a._.extend({},d,b);var e=new a.$.Deferred;return this.request({url:c+"?task_id="+b.task_id,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},updateTaskName:function(b){var c="task/UpdateName",d={task_id:"",TaskName:""};b=a._.extend({},d,b);var e=new a.$.Deferred;return this.request({url:c+"?task_id="+b.task_id,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},updateTask:function(b){var c="task/Update",d=new a.$.Deferred,e="task_id="+b.task_id;return this.request({url:c+"?"+e,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},_dataHandle:function(a){for(var b=0;b<a.length;b++){this._attachmentsUrl(a[b].Attachment);for(var c=0;c<a[b].Comments.length;c++)a[b].Comments[c].Private=a[b].Private,
a[b].IsInAppPage=!1,this._attachmentsUrl(a[b].Comments[c].Attachment)}return a},_attachmentsUrl:function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b].FileType;if(null!=a[b].PreviewUrl&&""!=a[b].PreviewUrl?a[b].IsPreview=!0:a[b].IsPreview=!1,this._isImage(c)){if(a[b].IsImage=!0,null!=a[b].PreviewUrl&&""!=a[b].PreviewUrl){var d=a[b].PreviewUrl,e=d.lastIndexOf(".");if(e>0){var f=d.substr(0,e)+"_b."+d.substr(e+1),g=d.substr(0,e)+"_s."+d.substr(e+1);"gif"==c&&(g=d),a[b].BigUrl=f,a[b].SmallUrl=g}}}else a[b].IsImage=!1}},_isImage:function(b){for(var c=!1,d=a.Context.getAttachmentType().image,e=0;e<d.length;e++)if(b==d[e]){c=!0;break}return c},importTask:function(b){var c=new a.$.Deferred,d={workId:"",dfsUrl:""};b=a._.extend({},d,b);a.Context.getUserInfo().Id,a.Context.getTenantInfo().Id;if("task"==b.type)var e="task/TaskImport";else var e="WorkMileStone/WorkMileStoneImport";return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()}})}),define("collections/file-list-collection",["talent"],function(a){return a.Collection.extend({mockData:{GET:{Code:1,message:"ok",Data:[{fileId:"001",fileName:"tita"},{fileId:"002",fileName:"招聘"},{fileId:"003",fileName:"IE101212"},{fileId:"004",fileName:"斑斑驳驳"},{fileId:"005",fileName:"吾问无为谓"},{fileId:"006",fileName:"ddddd"},{fileId:"007",fileName:"eeeee"},{fileId:"008",fileName:"cccc"},{fileId:"009",fileName:"ffff"},{fileId:"010",fileName:"eeqqer"}]}},getData:function(){return this.url="getData",this.fetch()}})}),define("collections/plan-list-collection",["talent"],function(a){return a.Collection.extend({mockData:{GET:{Code:1,Message:"response message",Data:[{Id:1,UserId:2,Name:"sample string 1",Editable:!0,State:1},{Id:2,UserId:2,Name:"sample string 2",Editable:!0,State:2},{Id:3,UserId:2,Name:"sample string 3",Editable:!0,State:1}],ExtendedData:{}},POST:{Code:1,Message:"sample string 2",Data:{Id:10,UserId:2,Name:"sample string 10",Editable:!0,State:1},ExtendedData:{}}}})}),define("collections/plan-group-collection",["talent","collections/base-collection","collections/plan-list-collection","TitaWidget","moment"],function(a,b,c,d,e){a.$.ajax;return b.extend({url:"User/Plan/Table/item?",getTaskData:function(b){var c=new a.$.Deferred,d={type:"personal",to_user_id:"",StartDate:"",EndDate:"",startNum:1,count:100,planTableId:"",planTableType:"",fromLevel:1,toLevel:1};b=a._.extend({},d,b);var e="PlanTableTask/PersionTask?to_user_id="+b.to_user_id;return"personal"!=b.type&&(e="PlanTableTask/TeamTask"),this.request2({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getShareAndFeed:function(b){var c=new a.$.Deferred,d={to_user_id:"",planTableId:""};b=a._.extend({},d,b);var e="PlanTableTask/GetFeed";return this.request2({url:e,type:"get",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},addComment:function(b){var c=new a.$.Deferred,d={to_user_id:"",planTalbeId:"",CommentId:0,Content:"",FileUrl:"",ObjId:0,ObjType:0,IsSendSMS:!1,FeedId:""},b=a._.extend({},d,b),e="PlanTableTask/comment/Add?to_user_id="+b.to_user_id+"&planTalbeId="+b.planTalbeId;return delete b.to_user_id,delete b.planTalbeId,this.request2({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},_formatTree:function(b){function c(b){a._.each(b,function(b){var d=b.taskId,f=a._.where(e,{PId:d});return f=a._.compact(f),f.length?(b.Tasks=f,a._.each(f,function(a){a.level=b.level+1}),void c(f)):void(b.Tasks=[])})}var d=b||{},e=d.tasks;if(e&&e.length){var f=a._.where(e,{parentTaskId:null});a._.each(f,function(a){a.level=1}),c(f)}return d.tasks=f,d},GetSubPlans:function(b){var c=new a.$.Deferred,d={type:1,to_user_id:"",userIds:"",status:"",LableModels:"",SortType:"",RelationType:"",parentTaskId:"",StartDate:"",EndDate:"",fromLevel:1,toLevel:2,IsTeam:!1};b=a._.extend({},d,b);var e="PlanTableTask/SubTask?to_user_id="+b.to_user_id+"&type="+b.type;return this.request2({url:e,data:b,type:"post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getSearchPlanData:function(b){var c=new a.$.Deferred,d={type:"personal",to_user_id:"",StartDate:"",EndDate:"",startNum:1,count:100,planTableId:"",planTableType:"",Status:"",LableModels:"",UserIds:"",SortType:"",RelationType:"",fromLevel:1,toLevel:1,IsPage:!1};b=a._.extend({},d,b);var e="PlanTableTask/PersionTask?to_user_id="+b.to_user_id;return"personal"!=b.type&&(e="PlanTableTask/TeamTask"),this.request2({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDataList:function(b){var c=new a.$.Deferred,d={to_user_id:"",plan_table_id:"",plan_table_type:"",feed_id:"",task_id:""};b=a._.extend({},d,b);var e="PlanV2/PersionlPlanItemList?to_user_id="+b.to_user_id+"&plan_table_id="+b.plan_table_id+"&plan_table_type="+b.plan_table_type+"&feed_id="+b.feed_id+"&task_id="+b.task_id;return this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getNoticeTime:function(b){var c=new a.$.Deferred,d={obj_ids:"",obj_type:"7"};b=a._.extend({},d,b);var e="RemindV2/GetByObjIds?obj_type="+b.obj_type;return this.request({url:e,type:"POST",data:JSON.stringify(b.obj_ids),contentType:"application/json"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},getDataPlanTask:function(b){var c=new a.$.Deferred,d={to_user_id:"",date:"",status:""};b=a._.extend({},d,b);var e="Plan/UserPlanItems?to_user_id="+b.to_user_id+"&date="+b.date+"&status="+b.status;return this.request({url:e,type:"Get"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},getDataTeamPlanTask:function(b){var c=new a.$.Deferred,d={date:""},b=a._.extend({},d,b),e="Plan/PlanItemStatistic?date="+b.date;return this.request({url:e,type:"Get"}).done(function(b){var b=b||[];a._.each(b,function(a){a.UserId=a.User.UserId}),c.resolve(b)}).fail(function(a){c.reject(a)}),c},planSetMark:function(b){var c=new a.$.Deferred,d={type:"",plan_id:""},b=a._.extend({},d,b),e="PlanV2/Mark";return this.request({url:e,type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDataTeamPlan:function(b){var c=new a.$.Deferred,d={to_user_id:"",plan_table_id:"",start_date:"",end_date:""},b=a._.extend({},d,b),e="PlanV2/TeamPlanItemList",f=a.Context.splicingUrl(b,["plan_table_id","plan_table_type","start_date","end_date"]);return e=e+"?"+f,this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDataWeek:function(b){var c=new a.$.Deferred,d={date:""},b=a._.extend({},d,b);return this.request({url:"Plan/WeekPlanTable?",data:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getMonthPlan:function(b){var c={diff:"my",to_user_id:"",tag_id:""},d=new a.$.Deferred,b=a._.extend({},c,b),e="Home/Index?toUserId="+b.to_user_id+"&groupId="+b.group_id;return this.request({type:"Get",url:e}).done(function(a){d.resolve(a)}),d},getExpirePlan:function(b){var c=new a.$.Deferred,d={IsSubordinate:0},b=a._.extend({},d,b),e="Plan/ExpirePlanItems?IsSubordinate="+b.IsSubordinate;return this.request({url:e,type:"Get"}).done(function(b){var b=b||[];a._.each(b,function(a){a.UserId=a.User.UserId}),c.resolve(b)}).fail(function(a){c.reject(a)}),c},updateStatusData:function(a){return this.request({url:"PlanV2/UpdateStatus?"+a.queryUrl,type:"PUT"})},updateData:function(a){return a&&a.Description&&a.Description.replace(/[\n\r]/g,"<br>"),this.request({url:this.url,data:a,type:"PUT"})},updateDesc:function(a){return url="PlanV2/UpdateDescription",a&&a.Description&&a.Description.replace(/[\n\r]/g,"<br>"),this.request({url:url,data:a,type:"PUT"})},updateName:function(a){return url="PlanV2/UpdateName",a&&a.Description&&a.Description.replace(/[\n\r]/g,"<br>"),this.request({url:url,data:a,type:"PUT"})},updateDate:function(a){return url="PlanV2/UpdateDate",a&&a.Description&&a.Description.replace(/[\n\r]/g,"<br>"),this.request({url:url,data:a,type:"PUT"})},deleteData:function(a){return this.request({url:"PlanV2/Remove?"+a.queryUrl,type:"DELETE"})},addData:function(b){var c={Name:"",GroupId:"",PlanTableId:"",TagId:"",StartDate:"",DeadLine:"",LabType:"",LabName:"",LabId:"",Source:1,IsLongTerm:""},d="User/Plan/Table/item",b=a._.extend({},c,b);return b.table&&(d="User/Plan/Table"),this.request({url:d,data:b,type:"POST"})},getLinkPlan:function(b){var c=new a.$.Deferred;return this.request({url:"User/Plan/Table/item/",data:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},addDataByNameTime:function(b){var c={time:"",name:"",LabType:"",LabName:"",LabId:""},b=a._.extend({},c,b),d="User/Plan/Table/item?time="+b.time;return this.request({url:d,data:b,type:"Post"})},getItemData:function(b){var c=new a.$.Deferred;return this.request({url:"User/Plan/Table/item/"+b.plan_item_id,data:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getShareUserData:function(b){var c=new a.$.Deferred;return this.request({url:"planshare/UserPlanShare/GetCanLookMyPlanUsers",data:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},addShareUserData:function(b){var c=new a.$.Deferred;return this.request({url:"planshare/UserPlanShare/AddShareUser?tag_id="+b.tag_id+"&group_id="+b.group_id+"&plan_table_id="+b.plan_table_id,data:JSON.stringify(b.data),type:"Post",contentType:"application/json"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteShareUserData:function(b){var c=new a.$.Deferred,d=a.Context.splicingUrl(b,["to_user_id","tag_id","group_id","plan_table_id"]);return this.request({url:"planshare/UserPlanShare/DeleteShareUser?"+d,data:b,type:"Post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getShareWidthMeData:function(b){var c=new a.$.Deferred;return this.request({url:"planshare/UserPlanShare/GetShareMePlanUsers",data:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getAllHistroyData:function(b){var c=this,d=new a.$.Deferred;return this.request({url:"User/Plan/operation",data:b,type:"Get"}).done(function(a){return a?(c._dateHandler(a),c._hashUrl(a,"plan/histroy"),void d.resolve(a)):(a=[],void d.resolve(a))}).fail(function(a){d.reject(a)}),d},getHistroyData:function(b){var c=this,d=new a.$.Deferred,e=a.Context.splicingUrl(b,["group_id","tag_id","plan_table_id","to_user_id"]);return this.request({url:"User/Plan/operation?"+e,type:"Get"}).done(function(a){return a?(c._dateHandler(a),c._hashUrl(a,"plan"),void d.resolve(a)):(a=[],void d.resolve(a))}).fail(function(a){d.reject(a)}),d},getChartsData:function(b){var c="Plan/PlanTableStatistic?type="+b.type,d=new a.$.Deferred;return this.request({url:c,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},_dateHandler:function(a){var b=new Date,c=b.getFullYear(),d=b.getMonth()+1,e=b.getDate();b.setDate(e-1);var f=b.getDate(),g=a[0];g&&c==g.Year&&d==g.Month&&e==g.Day&&(a[0].Today="今天"),g&&c==g.Year&&d==g.Month&&f==g.Day&&(a[0].Today="昨天");var h=a[1];h&&c==h.Year&&d==h.Month&&e==h.Day&&(a[1].Today="今天"),h&&c==h.Year&&d==h.Month&&f==h.Day&&(a[1].Today="昨天")},_hashUrl:function(a,b){for(x in a)a[x].Hash=b},getDataTask:function(b){var c="Plan/Table/item/Tasks?plan_item_id="+b.planItemId,d=new a.$.Deferred;return this.request({url:c,data:b,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getPermanentShareUser:function(b){var c=new a.$.Deferred,d={};b=a._.extend({},d,b);var e="planshare/UserPlanShare/GetPermanentShareUser";return this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postAddPermanentShareUser:function(b){var c=new a.$.Deferred,d={to_user_id:""};b=a._.extend({},d,b);var e="planshare/UserPlanShare/AddPermanentShareUser?to_user_id="+b.to_user_id;return this.request({url:e,type:"Post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postDeletePermanentShareUser:function(b){var c=new a.$.Deferred,d={to_user_id:""},b=a._.extend({},d,b),e="planshare/UserPlanShare/DeletePermanentShareUser?to_user_id="+b.to_user_id;return this.request({url:e,type:"Post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postUpdateLable:function(b){var c=new a.$.Deferred,d={planItem_id:"",lable_id:"",lable_type:""},b=a._.extend({},d,b),e="PlanV2/UpdateLable";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getLabelFullName:function(b){var c=new a.$.Deferred,d={lableId:0},b=a._.extend({},d,b),e="Lable/GetFullName?lableId="+b.lableId;return this.request({url:e,type:"get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getPlanDetailData:function(b){var c=new a.$.Deferred;return this.request({url:"PlanV2/GetObj?plan_item_id="+b.plan_item_id,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getMockDateData:function(b){var c=JSON.stringify(d.PlanDataJson),e={Data:JSON.parse(c)},f=this._findData(e,b),g=new a.$.Deferred;return g.resolve(f),g.promise()},_findData:function(b,c){var d=b.Data.taglist,f=c.date.split("/");if(0==c.group_id&&e().year()==f[0]){var g=a._.findWhere(d,{GroupName:f[0]}),h=g;return h.Active=!0,b}if(0!=c.group_id&&e().year()!=f[0]){var g=a._.findWhere(d,{GroupId:c.group_id}),h=g,i=h.PlanTableListModels[2],j=i.PlanTableModels[0];return h.Active=!0,i.Active=!0,j.Active=!0,b}for(var k=!1,l=0;l<d.length;l++){var g=d[l],m=g.PlanTableListModels||[];if(k)break;for(var n=0;n<m.length;n++){var o=m[n]||{},p=o.PlanTableModels||[],q=o.TagId;if(k)break;for(var r=0;r<p.length;r++){var s=p[r],t=this._formatDate(s.StartDate),u=this._formatDate(s.EndDate);if(t<=c.date&&u>=c.date&&q>1&&14>q&&0!=r){if(g.GroupId==c.group_id||0==c.group_id)s.Active=!0,s.IsCurrentDate=!0,o.Active=!0,g.Active=!0;else{var g=a._.findWhere(d,{GroupId:c.group_id}),h=g,i=h.PlanTableListModels[2],j=i.PlanTableModels[0];h.Active=!0,i.Active=!0,j.Active=!0}k=!0}t>c.date&&(s.IsCurrentDate=!1)}}}return b},_formatDate:function(a){var a=a.replace("年","/");return a=a.replace("月","/"),a=a.replace("日",""),e(new Date(a)).format("YYYY/MM/DD")}})}),define("collections/user-collection",["talent","collections/base-collection"],function(a,b){return b.extend({url:"contact",getData:function(b){var c=new a.$.Deferred;return this.request({data:b,type:"GET"}).done(function(b){c.resolve(a._.values(b))}),c},search:function(b){var c=new a.$.Deferred;return this.request({url:"user",data:b,type:"GET"}).done(function(a){c.resolve(a)}),c},getSeeUserData:function(b){var c=new a.$.Deferred;return this.request({url:"RemindV2/Get",data:b,type:"GET"}).done(function(a){c.resolve(a)}),c},getByIds:function(a){var b={ids:[]},c=new Talent.$.Deferred,a=Talent._.extend({},b,a),d="user/GetByIds",e="?ids="+a.ids;return this.request2({url:d+e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},loginValidate:function(a){var b={password:""},c=new Talent.$.Deferred,a=Talent._.extend({},b,a),d="user/login/validate";return this.request2({url:d,type:"POST",data:a}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},cancelUserGuide:function(b){var c={type:""},b=a._.extend({},c,b),d="user/cancelUserGuide",e="?type="+b.type,f=new a.$.Deferred;return this.request2({url:d+e,type:"POST",data:b}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},cancelMenuGuide:function(b){var c={type:""},b=a._.extend({},c,b),d="user/cancelMenuGuide",e="?type="+b.type,f=new a.$.Deferred;return this.request2({url:d+e,type:"POST",data:b}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()}})}),define("collections/plan-tag-collection",["talent","collections/base-collection"],function(a,b){return b.extend({url:"User/Plan/Table/Tag",create:function(b){var c=new a.$.Deferred,d={UserIds:"",MessageContent:"",EmailContent:"",GroupId:"",TagId:"",PlanTableId:"",MessageType:"12",Date:"",IsStatistics:0};b=a._.extend({},d,b);var e="PlanNotify/Notify";return this.request({url:e,type:"Post",data:b}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},update:function(b){var c=new a.$.Deferred;return this.request({data:JSON.stringify(b),type:"POST",contentType:"application/json"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},getData:function(b){var c=new a.$.Deferred;return this.request({data:b,type:"GET"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},notifyAdmin:function(b){var c=new a.$.Deferred;return this.request({url:"Notify/NotifyAdmin?notifyType="+b.notifyType,data:b,type:"Post"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c}})}),define("collections/user-subordinate-collection",["talent","collections/base-collection"],function(a,b){var c=[];return b.extend({url:"user",getData:function(b){var c=new a.$.Deferred,d={lv:1,type:0};return b=a._.extend({},d,b),this.request({url:"org/GetMySubordinates",type:"GET",data:b}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c},getDirectSuperior:function(b){var c=new a.$.Deferred;return this.request({url:"org/DirectSuperior",type:"GET",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSubordinate:function(b){var d=new a.$.Deferred;return this.request({url:"org/GetMySubordinates?lv="+b.level+"&type=0",type:"GET"}).done(function(b){var e=a.Context.getUserInfo().Id,f=a._.values(b),g=a._.pluck(f,"User");g=a._.compact(g);var h=a._.filter(g,function(a){return a.Id!=e});c=h,d.resolve(h)}).fail(function(a){d.reject(a)}),d},getAll:function(){var b=new a.$.Deferred;return this.request({url:"org/Get",type:"GET"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b},getDottedInfo:function(b){var c=new a.$.Deferred;return this.request({url:"org/GetMyDottedLineSuperior",type:"GET",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSubInfo:function(b){var c=new a.$.Deferred;return this.request({url:"org/GetDottedLineSuperiors",type:"GET",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},addDotted:function(b){var c=new a.$.Deferred;return this.request({url:"org/AddDottedLineReporting",type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteDotted:function(b){var c=new a.$.Deferred;return this.request({url:"org/Remove",type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},addData:function(b){var c=new a.$.Deferred;return this.request({data:b,type:"PUT"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteData:function(b){var c=new a.$.Deferred;return this.request({url:"user?subordinate_user_id="+b.subordinate_user_id,type:"DELETE"}).done(function(b){c.resolve(a._.values(b))}).fail(function(a){c.reject(a)}),c}})}),define("collections/plan-common-collection",["talent","collections/base-collection"],function(a,b){return b.extend({postSendNotice:function(b){var c=new a.$.Deferred,d={UserIds:"",MessageContent:"",EmailContent:"",GroupId:"",TagId:"",PlanTableId:"",MessageType:"12",Date:"",IsStatistics:0};b=a._.extend({},d,b);var e="PlanNotify/Notify";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/feed-attachment-collection",["talent","collections/base-collection"],function(a,b){var c=b.extend({getData:function(b){var c=new a.$.Deferred;return this.request({url:"Document/AddFavorites/"+b.id,data:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}});return c}),define("collections/schedule-list-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getData:function(b){var c="Schedule/Today?time="+b.time,d=new a.$.Deferred;return this.request({url:c,type:"GET"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d}})}),define("collections/indicator-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getData:function(b){var c=new a.$.Deferred;return this.request({url:"Indicator/Get",data:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteData:function(b){var c=new a.$.Deferred;return this.request({url:"Indicator/Delete?indicatorType="+b.indicatorType,type:"DELETE"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getPlanOperationData:function(b){var c=new a.$.Deferred;return this.request({url:"Indicator/PlanOperation",data:b,type:"Get"}).done(function(a){a>99&&(a="99+"),0>a&&(a=0),c.resolve(a)}).fail(function(a){c.reject(a)}),c},indicatorClear:function(a){var b=new Talent.$.Deferred,c={messageType:0,indicatorType:0},a=Talent._.extend({},c,a),d="Indicator/Clear",e="?message_type="+a.messageType+"&indicator_type="+a.indicatorType;return this.request({url:d+e,type:"DELETE"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b}})}),define("collections/project-detail-collection",["talent","collections/base-collection"],function(a,b){var c={feed:"Trends",task:"taskV2",principal:"TasksWithOutLevel",conference:"Conferences",file:"Documents",user:"Members",statisticsTasks:"StatisticsTasks"};return b.extend({defaults:{page_num:1,page_size:5},url:"Work/",getData:function(a){var b=this.url+c[a.detail_type]+"?work_id="+a.work_id;if("task"==a.detail_type&&(b="WorkMileStone/GetWorkMileStones?workId="+a.work_id+"&AppId="+a.appId+"&AppType="+a.appType),"conference"==a.detail_type){var d=a.conference_status?a.conference_status:1;b=b+"&status="+d}if("file"==a.detail_type){var e=a.pageNum||1,f=a.pageSize||20;b=b+"&pageNum="+e+"&pageSize="+f}return"operate"==a.detail_type&&(b="work/GetOperationV2?work_id="+a.work_id),"statistics"==a.detail_type&&(b="work/TaskStatistics?work_id="+a.work_id),"milepost"==a.detail_type&&(b="WorkMileStone/GetWorkMileStones?workId="+a.work_id),"statisticsTasks"==a.detail_type&&(b="Work/Grant?work_id="+a.work_id+"&sort_type="+(a.sort_type||1)),this.request({url:b})},_formatTree:function(b){function c(b){a._.each(b,function(b){var d=b.taskId,f=a._.where(e,{parentTaskId:d});return f=a._.compact(f),f.length?(b.Tasks=f,a._.each(f,function(a){a.level=b.level+1}),void c(f)):void(b.Tasks=[])})}var d=b||{},e=d.tasks;if(e&&e.length){var f=a._.where(e,{parentTaskId:null});a._.each(f,function(a){a.level=1}),c(f)}return d.tasks=f,d},getTask:function(b){var c={userObjects:"",status:"",date:"",lableModels:"",sortType:"",relationType:"",work_id:"",mile_stone_id:"",startNum:"",count:""},d=new a.$.Deferred,b=a._.extend({},c,b),e="Work/Task?work_id="+b.work_id+"&mile_stone_id="+b.mile_stone_id;return this.request({type:"POST",url:e,data:b}).done(function(a){d.resolve(a)}),d.promise()},getApprovalCenterTypes:function(a){var b=new Talent.$.Deferred,c={objId:""};a=Talent._.extend({},c,a);var d="approvalFlow/getApprovalCenterTypes",e="?objId="+a.objId;return this.request({url:d+e,type:"GET"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},searchTask:function(b){var c={workId:"",filter:"",pageIndex:"",pageSize:""},d=new a.$.Deferred,b=a._.extend({},c,b),e=e=a.Context.splicingUrl(b,["workId","filter","pageIndex","pageSize"]),f="work/searchTask?"+e;return this.request2({type:"GET",url:f}).done(function(a){d.resolve(a)}),d.promise()},getDetailHeadData:function(b){var c=new a.$.Deferred,d="work/headInfo?workId="+b.work_id;return this.request2({type:"GET",url:d}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getDetailData:function(b){var c=new a.$.Deferred,d=a.Context.getApiUrl(this.url+"Get?work_id="+b.work_id);return a.$.ajax({url:d,type:"GET"}).done(function(a){0==a.Code?c.resolve(a):c.resolve(a.Data)}),c.promise()},getUserMembers:function(b){var c=new a.$.Deferred,d="work/users?workId="+b.work_id;return this.request2({type:"GET",url:d}).done(function(a){c.resolve(a)}),c.promise()},updateData:function(){},deleteData:function(){},addData:function(a){},shareData:function(a){return this.request(a)}})}),define("collections/message-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getData:function(b){var c,d=new a.$.Deferred,e="";return c=a.Context.splicingUrl(b,["pageIndex","pageSize","isRead","appType","appId"]),e="messages/GetMessages?"+c,this.request({url:e,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getMessage:function(b){var c={page_size:20,page_num:1,status:1,app_type:-1,app_id:-1};b=a._.extend({},c,b);var d=new a.$.Deferred,e="messages/Get";return this.request({url:e,data:b,type:"get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getDaiban:function(b){var c={app_type:-1,app_id:-1,page_num:1,page_size:20,status:1};b=a._.extend({},c,b);var d=new a.$.Deferred,e="todo/Get";return this.request({url:e,data:b,type:"GET"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getMessageApproval:function(b){var c=new a.$.Deferred,d={},b=a._.extend({},d,b),e="Apply/Plan/GetSuperRule",f="is_dailyset="+!0;return this.request({url:e+"?"+f,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getMessageSubMenulist:function(b){var c=new a.$.Deferred,d={message_type:1},b=a._.extend({},d,b),e="messages/GetAppList";return this.request({url:e,type:"Get",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getAtReply:function(b){var c=new a.$.Deferred,d={page_num:1,page_size:20,status:1},b=a._.extend({},d,b),e="comment/messages";return this.request({url:e,type:"Get",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/membership-collection",["talent","collections/base-collection"],function(a,b){return b.extend({url:"user",getData:function(a){var b=new $.Deferred;return this.request({url:this.url,type:"POST",data:{ids:a.data.join(",")}}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()}})}),define("collections/membership-group-collection",["talent","collections/base-collection","collections/membership-collection"],function(a,b,c){return b.extend({getData:function(b){var d=new $.Deferred,e=(a.Context.getUserInfo().Id,parseInt(b.id)),f=b.activeId&&parseInt(b.activeId)||0,g=this;return this.request({url:"org/all",type:"Get"}).done(function(b){if(!b.Res)return void d.resolve(b.Res);b=b.Data,b=g.getSuperiorAndSubordinate(b);var h=a._.where(b,{Id:parseInt(e)}),i=a._.pluck(a._.where(b,{Superior:e}),"Id");i=a._.compact(i);var j=a._.indexOf(i,f);-1!=j&&(i=i.slice(0,j).concat(i.slice(j+1,i.length)),i=[f].concat(i));var k=h&&h[0]&&h[0].Superior||0,l=[k,e].concat(i),m=new c;m.getData({data:l}).done(function(c){var f=a._.map(i,function(d){var e=c[d];if(e)return e.subordinateCount=a._.where(b,{Superior:d}).length,e.level=3,e});f=a._.compact(f);var g=c[e]||{Id:0};g.subordinateCount=a._.where(b,{Superior:e}).length,g.level=2,g.subordinate=f;var h=c[k]||{Id:0};h.level=1,h.subordinateCount=a._.where(b,{Superior:k}).length,h.subordinate=[g];var j=[h];d.resolve(j)})}).fail(function(a){d.reject(a)}),d.promise()},getDataType:function(b){var d=new $.Deferred,e=(a.Context.getUserInfo().Id,parseInt(b.id)),f=b.activeId&&parseInt(b.activeId)||0,g=this,h="org/allByType";if(1==b.type)var h=h+"?type=1";return this.request({url:h,type:"Get"}).done(function(b){if(!b.Res)return void d.resolve(b.Res);b=b.Data;var h=b;b=g.getSuperiorAndSubordinate(b);var i=a._.where(b,{Id:parseInt(e)}),j=a._.pluck(a._.where(b,{Superior:e}),"Id");j=a._.compact(j);var k=a._.indexOf(j,f);-1!=k&&(j=j.slice(0,k).concat(j.slice(k+1,j.length)),j=[f].concat(j));var l=i&&i[0]&&i[0].Superior||0,m=[l,e].concat(j),n=new c;n.getData({data:m}).done(function(c){var f=a._.map(j,function(d){var e=c[d];if(e)return e.subordinateCount=a._.where(b,{Superior:d}).length,e.level=3,e});f=a._.compact(f),a._.map(f,function(b,c){var d=a._.where(h,{Id:b.Id});if(d.length>1)var d=a._.where(d,{Superior:e});b.Type=d&&d[0]?d[0].Type:0}),a._.sortBy(f,"Type");var g=c[e]||{Id:0};g.subordinateCount=a._.where(b,{Superior:e}).length,g.level=2,g.subordinate=f;var i=c[l]||{Id:0};i.level=1,i.subordinateCount=a._.where(b,{Superior:l}).length,i.subordinate=[g];var k=[i];d.resolve(k)})}).fail(function(a){d.reject(a)}),d.promise()},getSubordinateData:function(b){b=b||{};var c=new a.$.Deferred,d="org/GetMySubordinates?lv=2";return d+=1==b.type?"&type=1":"&type=0",this.request({url:d,type:"Get"}).done(function(b){b&&b.length||c.resolve([]);var d=[];a._.each(b,function(a){a.User.Type=a.Type,d.push(a.User)}),c.resolve(d)}).fail(function(a){c.reject(a)}),c},getToUserIdSuperior:function(b){b=b||{};var c=new a.$.Deferred,d="org/Superiors?to_user_id="+b.to_user_id+"&lv=2";return this.request({url:d,type:"Get"}).done(function(a){var b=a||[];b.length?c.resolve(b[0].ParentUser):c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSuperior:function(b){var c=new $.Deferred,d=this,e=(a.Context.getUserInfo().Id,parseInt(b.id));return this.request({url:"org/allByType",type:"Get"}).done(function(b){b=b.Data;var b=d.getSuperiorAndSubordinate(b),f=a._.where(b,{Id:e});if(0==f.length)var g=0;else var g=f[0].Superior||0;c.resolve(g)}),c.promise()},getOpenUserOrg:function(a){var b=new $.Deferred;return this.request({url:"org/AppOpenUserOrg",type:"POST"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},getSuperiorAndSubordinate:function(b){function c(d){var e=a._.where(b,{Superior:d});a._.each(e,function(a,b){f.push(a),1!=a.Type&&c(a.Id)})}var d=a.Context.getUserInfo().Id,e=a._.where(b,{Id:d})[0];if(a._.isEmpty(b))return b;if(0==e.Superior)return b;var f=[];e.Superior;return f.push({Id:d,Superior:0}),c(d),f},checkDottedLineSubs:function(b){b=b||{};var c=new a.$.Deferred,d="org/CheckDottedLineSubs";return this.request({url:d,type:"Get",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/remind-me-list-collection",["talent","collections/base-collection"],function(a,b){return b.extend({url:"RemindV2/Get",getData:function(b){var c=this,d={dateTime:""},e=new a.$.Deferred,b=a._.extend({},d,b),f="RemindV2/Get";return this.request({type:"Get",url:f,data:b}).done(function(a){a&&a.Reminds&&a.Reminds.length&&c._parseData(a.Reminds),e.resolve(a)}),e},deleteData:function(a){return this.request({url:"RemindV2/Delete",type:"POST",data:a})},deleteOneData:function(a){return this.request({url:"RemindV2/Delete?obj_id="+a.obj_id+"&obj_type="+a.obj_type,type:"POST",data:a})},addOneData:function(a){return this.request({url:"RemindV2/Add?time="+a.time,type:"POST",data:a})},updateData:function(a){return this.request({url:"RemindV2/Update",type:"POST",data:a})},setData:function(a){return this.request({url:"RemindV2/Set?time="+a.time,type:"POST",data:a})},setAllData:function(a){return this.request({url:"RemindV2/BatchSet?time="+a.time,type:"POST",data:a})},deleteAllData:function(a){return this.request({url:"RemindV2/BatchDelete",type:"POST",data:a})},_parseData:function(b){var c=a.Context.getI18n();return a._.map(b,function(a,b){var d;switch(a.ObjType){case 7:d=c.task_1;break;case 4:d=c.work_1;break;case 10:d=c.home_1;break;case 11:d=c.plan_1;break;case 8:d="日报";break;case 20:d="会议";break;case 21:d="出差"}return a.typeText=d}),b}})}),define("collections/smember-group-collection",["talent"],function(a){return a.Collection.extend({getContact:function(){var b=this;return this.viewType="Contact",b.deferred&&b.deferred.reject(),b.deferred=new $.Deferred,$.ajax({url:a.Context.getApiUrl("Contact?v=")+(new Date).getTime(),type:"GET",success:function(c){if("Contact"==b.viewType)if(c&&1==c.Code){var d=a._.values(c.Data);d.length>0?(a._.map(d,function(b){return b.MidAvatar=b.UserAvatar.Medium,b.imgTemplate=a._.convertImage({shape:"radius",name:b.Name,src:b.MidAvatar,bgColor:b.UserAvatar.Color})}),b.deferred.resolve(d)):b.deferred.resolve([])}else b.deferred.resolve([])}}),b.deferred.promise()},getExtraContact:function(){var b=this;return this.viewType="Contact",
b.deferred&&b.deferred.reject(),b.deferred=new $.Deferred,$.ajax({url:Talent.Context.getApiUrl("external/GetExistingExternalContactStaffs"),type:"GET",success:function(c){if("Contact"==b.viewType)if(c&&1==c.Code){var d=a._.values(c.Data);d.length>0?(a._.map(d,function(b){return b.MidAvatar=b.UserAvatar.Medium,b.imgTemplate=a._.convertImage({shape:"radius",name:b.Name,src:b.MidAvatar,bgColor:b.UserAvatar.Color})}),b.deferred.resolve(d)):b.deferred.resolve([])}else b.deferred.resolve([])}}),b.deferred.promise()},getSubordinate:function(){var b=this;this.viewType="Subordinates",b.deferred&&b.deferred.reject(),b.deferred=new $.Deferred;return $.ajax({url:a.Context.getApiUrl("org/GetMySubordinates?lv=2&type=0"),type:"GET",success:function(c){if("Subordinates"==b.viewType)if(c&&1==c.Code){var d=a._.values(c.Data);d.length>0?(a._.map(d,function(b){return b.User&&(b.User.imgTemplate=a._.convertImage({shape:"radius",name:b.User.Name,src:b.User.MidAvatar,bgColor:b.User.UserAvatar.Color})),b}),d=a._.filter(d,function(b){return b.User.Id!=a.Context.getUserInfo().Id}),d=a._.pluck(d,"User"),b.deferred.resolve(d)):b.deferred.resolve([])}else b.deferred.resolve([])}}),b.deferred.promise()},getSearch:function(b){var c=this;this.viewType="Search",c.deferred&&c.deferred.reject(),c.deferred=new $.Deferred;var d=b&&b.searchCondition||{};this.filters=d.name;var e=a.Context.getApiUrl("user?v="+(new Date).getTime()+"&filters="+encodeURIComponent(d.name)||"");return""==d.name?c.deferred.resolve([]):$.ajax({url:e,type:"GET",success:function(b){if("Search"==c.viewType)if(b&&1==b.Code){var d=b&&b.Data||{};if(d.Filters==c.filters){var e=d.SimpleUserModel||{};e=a._.values(e),a._.map(e,function(b){return b.MidAvatar=b.UserAvatar.Medium,b.imgTemplate=a._.convertImage({shape:"radius",name:b.Name,src:b.MidAvatar,bgColor:b.UserAvatar.Color})}),c.deferred.resolve(e)}}else c.deferred.resolve([])}}),c.deferred.promise()},getExtraSearch:function(b){var c=this;this.viewType="Search",c.deferred&&c.deferred.reject(),c.deferred=new $.Deferred;var d=b&&b.searchCondition||{};this.filters=d.name;var e=a.Context.getApiUrl("external/GetExistingExternalStaffs");return""==d.name?c.deferred.resolve([]):$.ajax({url:e,type:"GET",data:{filter:this.filters},success:function(b){if("Search"==c.viewType)if(b&&1==b.Code){var d=b&&b.Data||{};if(d.Filters==c.filters){var e=d.SimpleUserModel||{};e=a._.values(e),a._.map(e,function(b){return b.MidAvatar=b.UserAvatar.Medium,b.imgTemplate=a._.convertImage({shape:"radius",name:b.Name,src:b.MidAvatar,bgColor:b.UserAvatar.Color})}),c.deferred.resolve(e)}}else c.deferred.resolve([])}}),c.deferred.promise()},getDepartmentData:function(){var b=new $.Deferred;return $.ajax({url:a.Context.getApiUrl("department/All"),type:"GET",success:function(c){if(c&&1==c.Code){var d=c.Data||[];a._.map(d,function(a,b){a.count=a.TotalUserCount,a.Data=[],a.type="department"}),b.resolve(d)}else b.resolve([])}}),b.promise()},getDepartment:function(){var b=this;this.viewType="Department",b.deferred&&b.deferred.reject(),b.deferred=new $.Deferred;return this.getDepartmentData().done(function(c){if("Department"==b.viewType){var d=c;d=a._.filter(d,function(a,b){return 0==a.PId}),b.deferred.resolve(d)}}),b.deferred.promise()},getDepartmentDetail:function(b){var c=this;this.viewType="Department",c.deferred&&c.deferred.reject(),c.deferred=new $.Deferred;var d=parseInt(b.id);return this.getDepartmentData().done(function(e){var f=e;f=a._.filter(f,function(a,b){return a.PId==d}),f=f||[],b.getDepartmentPeople?$.ajax({url:a.Context.getApiUrl("department/DepartmentOfUser?department_id=")+b.id,type:"GET",success:function(b){if("Department"==c.viewType){var d=b.Data||[];a._.map(d,function(b){return b.imgTemplate=a._.convertImage({shape:"radius",name:b.Name,src:b.MidAvatar,bgColor:b.UserAvatar.Color})}),f=d.concat(f),c.deferred.resolve(f)}}}):c.deferred.resolve(f)}),c.deferred.promise()},invite:function(b){var c=new $.Deferred;return $.ajax({url:a.Context.getApiUrl("userinvite/inviteUser"),type:"POST",data:b}).done(function(a){c.resolve(a)}),c.promise()}})}),define("collections/staff-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getData:function(b){var c,d=new a.$.Deferred,e="";return c=a.Context.splicingUrl(b,["name","page_num","page_size","id"]),e="staff/Staffs?"+c,this.request({url:e,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},addManager:function(b){var c={to_user_id:1,role_type:3};b=a._.extend({},c,b);var d=new a.$.Deferred,e="EnterpriseManage/AddTitaManager?to_user_id="+b.to_user_id+"&role_type="+b.role_type;return this.request({url:e,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},deleteManager:function(b){var c={to_user_id:1,role_type:3};b=a._.extend({},c,b);var d=new a.$.Deferred,e="EnterpriseManage/DeleteTitaManager?to_user_id="+b.to_user_id+"&role_type="+b.role_type;return this.request({url:e,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},addBoss:function(b){var c={to_user_id:1};b=a._.extend({},c,b);var d="EnterpriseManage/AddBoss?to_user_id="+b.to_user_id,e=new a.$.Deferred;return this.request({url:d,type:"POST"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},deleteBoss:function(b){var c={to_user_id:1};b=a._.extend({},c,b);var d="EnterpriseManage/DeleteBoss?to_user_id="+b.to_user_id,e=new a.$.Deferred;return this.request({url:d,type:"POST"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},getAllMark:function(){var b="EnterpriseManage/GetAllMark",c=new a.$.Deferred;return this.request({url:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},setMark:function(b){var c={mark_id:0,to_user_id:0};b=a._.extend({},c,b);var d=new a.$.Deferred,e="EnterpriseManage/SetMark?mark_id="+b.mark_id+"&to_user_id="+b.to_user_id;return this.request({url:e,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},addDepartmentLeader:function(b){var c={to_user_id:1,department_id:0};b=a._.extend({},c,b);var d=new a.$.Deferred,e="department/AddLeader?to_user_id="+b.to_user_id+"&department_id="+b.department_id;return this.request({url:e,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},deleteDepartmentLeader:function(b){var c={to_user_id:1,department_id:0};b=a._.extend({},c,b);var d=new a.$.Deferred,e="department/DeleteLeader?to_user_id="+b.to_user_id+"&department_id="+b.department_id;return this.request({url:e,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},deliverSuper:function(b){var c={to_user_id:1};b=a._.extend({},c,b);var d=new a.$.Deferred,e="EnterpriseManage/ChangeSystemManagerV2?to_user_id="+b.to_user_id;return this.request({url:e,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getBoss:function(){var b="EnterpriseManage/GetBoss",c=new a.$.Deferred;return this.request({url:b,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSimpleDeparts:function(b){var c=new a.$.Deferred,d="Department/AllSimple";return this.request({url:d,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSimpleDepartsV2:function(b){var c=new a.$.Deferred,d="Department/AllSimple";return this.request({url:d,type:"Get"}).done(function(b){function d(c){a._.each(c,function(c){var e=c.Id,f=a._.where(b,{PId:e});f=a._.compact(f),f.length?(c.children=f,c.isEnd=!1):(c.children=null,c.isEnd=!0),d(f)})}var e=[],f=a._.where(b,{PId:-1});f=a._.compact(f),e=e.concat(f),d(e),c.resolve(e)}).fail(function(a){c.reject(a)}),c},GetDepartmentUsers:function(b){var c={department_id:"",to_departmentId:"",type:"",obj_type:""},d=new a.$.Deferred,e="PlanStatistic/GetDepartmentUsers";return b=a._.extend({},c,b),this.request({url:e+"?department_id="+b.department_id+"&to_departmentId="+b.to_departmentId+"&type="+b.type+"&obj_type="+b.obj_type,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getAllDeparts:function(b){var c={department_id:""},d=new a.$.Deferred,e="PlanStatistic/DepartmentList";return b=a._.extend({},c,b),this.request({url:e+"?department_id="+b.department_id,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getAllDepartsV2:function(b){var c={department_id:""},d=new a.$.Deferred,e="PlanStatistic/DepartmentList";return b=a._.extend({},c,b),this.request({url:e+"?department_id="+b.department_id,type:"Get"}).done(function(c){function e(b){a._.each(b,function(b){var d=b.Id,f=a._.where(c,{PId:d});f=a._.compact(f),f.length?(b.children=f,b.isEnd=!1):(b.children=null,b.isEnd=!0),e(f)})}var c=c||[],f=[],g=a._.where(c,{Id:b.department_id});g=a._.compact(g),f=f.concat(g),e(f),d.resolve(f)}).fail(function(a){d.reject(a)}),d},attentionData:function(b){var c,d=new a.$.Deferred,e="";return c=a.Context.splicingUrl(b,["to_user_id"]),e="staff/Follow?"+c,this.request({url:e,type:"Post"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},cancelAttentionData:function(b){var c,d=new a.$.Deferred,e="";return c=a.Context.splicingUrl(b,["to_user_id"]),e="staff/CancelFollow?"+c,this.request({url:e,type:"Post"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getManagersData:function(b){var c=new a.$.Deferred,d="staff/ManagersV2?";return this.request({url:d,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDeptLeaderData:function(b){params=a.Context.splicingUrl(b,["department_id"]);var c=new a.$.Deferred,d="department/DepartmentLeaders?"+params;return this.request({url:d,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},searchData:function(b){var c,d=new a.$.Deferred,e="";return c=a.Context.splicingUrl(b,["filter","pinyin","page_num","page_size"]),e="Search/Staffs?"+c,this.request({url:e,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},contactManager:function(){var b=new a.$.Deferred,c="staff/contactManager";return this.request2({url:c,type:"GET"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b}})}),define("collections/daily-collection",["talent","collections/base-collection"],function(a,b){return b.extend({planDialyAdd:function(a){var b=new Talent.$.Deferred,c={content:"",visibility:"",fileUrls:"",objId:"",objType:"",dateTime:"",reportType:8,planTableId:""},a=Talent._.extend({},c,a),d="PlanDialy/AddV2",e="?dateTime="+a.dateTime;return this.request({url:d+e,type:"POST",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b},getAllDailyByDate:function(b){var c=new a.$.Deferred,d={toUserId:"",date:"2014/03/26",type:1,dailyType:1};b=a._.extend({},d,b);var e="planDaily/userAll",f=[8,26,27],g=f[b.dailyType-1];return 2==b.type&&(e="planDaily/teamAll"),e=e+"?toUserId="+b.toUserId+"&date="+b.date+"&reportType="+g,b.planTableId&&(e+="&planTableId="+b.planTableId),this.request2({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getMonthCompleteStatus:function(b){var c=new a.$.Deferred,d={toUserId:"",date:"2014/03/25",type:"1",dailyType:1};b=a._.extend({},d,b);var e=[8,26,27],f=e[b.dailyType-1],g="PlanDaily/month?toUserId="+b.toUserId+"&date="+b.date+"&type="+b.type+"&reportType="+f;return this.request2({url:g,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getAllDailyByDay:function(b){var c=new a.$.Deferred,d={toUserId:"",date:"2014/03/25",type:"1",dailyType:1};b=a._.extend({},d,b);var e="PlanDaily/userDay",f=[8,26,27],g=f[b.dailyType-1];return 2==b.type&&(e="PlanDaily/TeamDay"),e=e+"?toUserId="+b.toUserId+"&reportType="+g,b.planTableId&&(e+="&planTableId="+b.planTableId),b.date&&(e+="&date="+b.date),this.request2({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getAllDailyFeed:function(b){var c=new a.$.Deferred,d={toUserId:"",date:"",reportType:"",planTableId:"",dailyType:1};b=a._.extend({},d,b);var e="planDaily/feeds",f=[8,26,27],g=f[b.dailyType-1];return e=e+"?toUserId="+b.toUserId+"&reportType="+g,b.planTableId&&(e+="&planTableId="+b.planTableId),b.date&&(e+="&date="+b.date),this.request2({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getMySubmitDailySetting:function(b){var c=new a.$.Deferred,d="PlanDialy/MySubmitDailySetting",e={dailyType:1};b=a._.extend({},e,b);var f=[8,26,27],g=f[b.dailyType-1];return d=d+"?report_type="+g,this.request({url:d,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDialyShareData:function(b){var c=new a.$.Deferred,d={to_user_id:""};b=a._.extend({},d,b);var e="PlanDialy/ShareUsers";return e=e+"?to_user_id="+b.to_user_id,this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postAddDailyData:function(b){var c=new a.$.Deferred,d={content:"",fileUrls:"",dateTime:"",visibility:"1",objType:"",objId:"",dailyType:1,planTableId:""};b=a._.extend({},d,b);var e="PlanDialy/Add?dateTime="+b.dateTime,f=[8,26,27],g=f[b.dailyType-1];return this.request({url:e,type:"Post",data:{content:b.content,fileUrls:b.fileUrls,visibility:b.visibility,objId:b.objId,objType:b.objType,reportType:g,planTableId:b.planTableId}}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},updateVisibility:function(b){var c=new a.$.Deferred,d={plan_item_id:"",visibility:"1",obj_id:"",obj_type:""};b=a._.extend({},d,b);var e="PlanDialy/UpdateVisibility";return this.request({url:e+"?plan_item_id="+b.plan_item_id+"&visibility="+b.visibility+"&obj_id="+b.obj_id+"&obj_type="+b.obj_type,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},addAttachment:function(b){var c=new a.$.Deferred,d={objId:"",dfsUrls:"",documents:[]};b=a._.extend({},d,b);var e="PlanDialy/AddAttachment";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteAttachment:function(b){var c=new a.$.Deferred,d={plan_item_id:"",document_id:""};b=a._.extend({},d,b);var e="PlanDialy/DeleteAttachment";return this.request({url:e+"?plan_item_id="+b.plan_item_id+"&document_id="+b.document_id,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDetailDaiyData:function(b){var c=new a.$.Deferred,d={daily_id:""};b=a._.extend({},d,b);var e="planDaily/info?id="+b.daily_id;return this.request2({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteDailyData:function(b){var c=new a.$.Deferred,d={dailyId:""};b=a._.extend({},d,b);var e="PlanDaily/delete?dailyId="+b.dailyId;return this.request2({url:e,type:"DELETE"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postUpdateDaily:function(b){var c=new a.$.Deferred,d={daily_id:"",content:"",fileUrls:""};b=a._.extend({},d,b);var e="PlanDialy/Update";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSetDailySubmitDate:function(b){var c=new a.$.Deferred,d="PlanDialy/MySubmitDailySetting";return this.request({url:d,type:"get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postSetDailySubmitDate:function(b){var c=new a.$.Deferred,d="PlanDialy/SetSubmitDailySetting",e={dailyPeriodType:"",time:""};return b=a._.extend({},e,b),this.request({url:d,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSetDailyAutoRemindDate:function(b){var c=new a.$.Deferred,d="PlanDialy/MyAutoNotifyDailySetting";return this.request({url:d,type:"get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getAllRemindDate:function(){var b=new a.$.Deferred,c="PlanDialy/MyAllReportSetting";return this.request({url:c,type:"get"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b},setAllRemindDate:function(b){var c=new a.$.Deferred,d=b.dailyType||1,e=b.PeriodType||0,f=b.lateDay,g=[8,26,27][d-1],h={};h.ReportType=g,1==d?(h.SubmitType=f,h.RemindType=e):2==d?(h.SubmitType=5,h.RemindType=e>0?5:0):3==d&&(h.SubmitType=6,h.RemindType=e>0?6:0),h.SubmitDate=1==d?0:b.lateDay,h.RemindDate=1==d||0==e?0:b.remindDay,h.SubmitTime=b.lateHour,h.RemindTime=b.remindHour,1==d&&3==e&&(h.RemindTime=b.remindDay);var i="PlanDialy/SetReportSetting";return this.request({url:i,type:"post",data:h}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getTodayDoneDaiy:function(b){var c=new a.$.Deferred,d="PlanDialy/Today";return this.request({url:d,type:"get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},EvaluateDaily:function(b){var c=new a.$.Deferred,d="PlanDialy/EvaluatePlan",e={objId:"",objType:"",remark:"",evaluateInfo:[]},b=a._.extend({},e,b);return this.request({url:d,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getAutoDaily:function(b){var c=new a.$.Deferred,d="PlanDialy/Auto",e={date:"",report_type:8,plan_table_id:null},b=a._.extend({},e,b),d=d+"?date="+b.date+"&report_type="+b.report_type+"&plan_table_id="+b.plan_table_id;return this.request({url:d,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDailyShareUser:function(b){var c=new a.$.Deferred,d={};b=a._.extend({},d,b);var e="PlanDialy/MyShareUser?to_user_id="+b.to_user_id;return this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDailyShareMeUser:function(b){var c=new a.$.Deferred,d={};b=a._.extend({},d,b);var e="PlanDialy/ShareMeUser";return this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},addDailyShareUser:function(b){var c=new a.$.Deferred,d={toUser_id:""};b=a._.extend({},d,b);var e="PlanDialy/AddShareUser?toUser_id="+b.toUser_id;return this.request({url:e,type:"Post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteDailyShareUser:function(b){var c=new a.$.Deferred,d={toUser_id:""},b=a._.extend({},d,b),e="PlanDialy/DeleteShareUser?toUser_id="+b.toUser_id;return this.request({url:e,type:"Post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},AutoDailyNotify:function(b){var c=new a.$.Deferred,d={UserIds:"",EmailContent:"",Date:""},b=a._.extend({},d,b),e="PlanDialy/AutoDailyNotify";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getMockDateData:function(b){var c={Code:1,Message:null,Data:{taglist:[{GroupId:1,GroupName:"2013",Active:!1,PlanTableListModels:[{TagId:2,TagName:"1月",TagType:1,Date:"2013/01/01",Active:!1,PlanTableModels:[]},{TagId:3,TagName:"2月",TagType:1,Date:"2013/02/01",Active:!1,PlanTableModels:[]},{TagId:4,TagName:"3月",TagType:1,Date:"2013/03/01",Active:!1,PlanTableModels:[]},{TagId:5,TagName:"4月",TagType:1,Date:"2013/04/01",Active:!1,PlanTableModels:[]},{TagId:6,TagName:"5月",TagType:1,Date:"2013/05/01",Active:!1,PlanTableModels:[]},{TagId:7,TagName:"6月",TagType:1,Date:"2013/06/01",Active:!1,PlanTableModels:[]},{TagId:8,TagName:"7月",TagType:1,Date:"2013/07/01",Active:!1,PlanTableModels:[]},{TagId:9,TagName:"8月",TagType:1,Date:"2013/08/01",Active:!1,PlanTableModels:[]},{TagId:10,TagName:"9月",TagType:1,Date:"2013/09/01",Active:!1,PlanTableModels:[]},{TagId:11,TagName:"10月",TagType:1,Date:"2013/10/01",Active:!1,PlanTableModels:[]},{TagId:12,TagName:"11月",TagType:1,Date:"2013/11/01",Active:!1,PlanTableModels:[]},{TagId:13,TagName:"12月",TagType:1,Date:"2013/12/01",Active:!1,PlanTableModels:[]}]},{GroupId:2,GroupName:"2014",Active:!1,PlanTableListModels:[{TagId:2,TagName:"1月",TagType:1,Date:"2014/01/01",Active:!1,PlanTableModels:[]},{TagId:3,TagName:"2月",TagType:1,Date:"2014/02/01",Active:!1,PlanTableModels:[]},{TagId:4,TagName:"3月",TagType:1,Date:"2014/03/01",Active:!1,PlanTableModels:[]},{TagId:5,TagName:"4月",TagType:1,Date:"2014/04/01",Active:!1,PlanTableModels:[]},{TagId:6,TagName:"5月",TagType:1,Date:"2014/05/01",Active:!1,PlanTableModels:[]},{TagId:7,TagName:"6月",TagType:1,Date:"2014/06/01",Active:!1,PlanTableModels:[]},{TagId:8,TagName:"7月",TagType:1,Date:"2014/07/01",Active:!1,PlanTableModels:[]},{TagId:9,TagName:"8月",TagType:1,Date:"2014/08/01",Active:!1,PlanTableModels:[]},{TagId:10,TagName:"9月",TagType:1,Date:"2014/09/01",Active:!1,PlanTableModels:[]},{TagId:11,TagName:"10月",TagType:1,Date:"2014/10/01",Active:!1,PlanTableModels:[]},{TagId:12,TagName:"11月",TagType:1,Date:"2014/11/01",Active:!1,PlanTableModels:[]},{TagId:13,TagName:"12月",TagType:1,Date:"2014/12/01",Active:!1,PlanTableModels:[]}]},{GroupId:3,GroupName:"2015",Active:!1,PlanTableListModels:[{TagId:2,TagName:"1月",TagType:1,Date:"2015/01/01",Active:!1,PlanTableModels:[]},{TagId:3,TagName:"2月",TagType:1,Date:"2015/02/01",Active:!1,PlanTableModels:[]},{TagId:4,TagName:"3月",TagType:1,Date:"2015/03/01",Active:!1,PlanTableModels:[]},{TagId:5,TagName:"4月",TagType:1,Date:"2015/04/01",Active:!1,PlanTableModels:[]},{TagId:6,TagName:"5月",TagType:1,Date:"2015/05/01",Active:!1,PlanTableModels:[]},{TagId:7,TagName:"6月",TagType:1,Date:"2015/06/01",Active:!1,PlanTableModels:[]},{TagId:8,TagName:"7月",TagType:1,Date:"2015/07/01",Active:!1,PlanTableModels:[]},{TagId:9,TagName:"8月",TagType:1,Date:"2015/08/01",Active:!1,PlanTableModels:[]},{TagId:10,TagName:"9月",TagType:1,Date:"2015/09/01",Active:!1,PlanTableModels:[]},{TagId:11,TagName:"10月",TagType:1,Date:"2015/10/01",Active:!1,PlanTableModels:[]},{TagId:12,TagName:"11月",TagType:1,Date:"2015/11/01",Active:!1,PlanTableModels:[]},{TagId:13,TagName:"12月",TagType:1,Date:"2015/12/01",Active:!1,PlanTableModels:[]}]},{GroupId:4,GroupName:"2016",Active:!1,PlanTableListModels:[{TagId:2,TagName:"1月",TagType:1,Date:"2016/01/01",Active:!1,PlanTableModels:[]},{TagId:3,TagName:"2月",TagType:1,Date:"2016/02/01",Active:!1,PlanTableModels:[]},{TagId:4,TagName:"3月",TagType:1,Date:"2016/03/01",Active:!1,PlanTableModels:[]},{TagId:5,TagName:"4月",TagType:1,Date:"2016/04/01",Active:!1,PlanTableModels:[]},{TagId:6,TagName:"5月",TagType:1,Date:"2016/05/01",Active:!1,PlanTableModels:[]},{TagId:7,TagName:"6月",TagType:1,Date:"2016/06/01",Active:!1,PlanTableModels:[]},{TagId:8,TagName:"7月",TagType:1,Date:"2016/07/01",Active:!1,PlanTableModels:[]},{TagId:9,TagName:"8月",TagType:1,Date:"2016/08/01",Active:!1,PlanTableModels:[]},{TagId:10,TagName:"9月",TagType:1,Date:"2016/09/01",Active:!1,PlanTableModels:[]},{TagId:11,TagName:"10月",TagType:1,Date:"2016/10/01",Active:!1,PlanTableModels:[]},{TagId:12,TagName:"11月",TagType:1,Date:"2016/11/01",Active:!1,PlanTableModels:[]},{TagId:13,TagName:"12月",TagType:1,Date:"2016/12/01",Active:!1,PlanTableModels:[]}]},{GroupId:5,GroupName:"2017",Active:!1,PlanTableListModels:[{TagId:2,TagName:"1月",TagType:1,Date:"2017/01/01",Active:!1,PlanTableModels:[]},{TagId:3,TagName:"2月",TagType:1,Date:"2017/02/01",Active:!1,PlanTableModels:[]},{TagId:4,TagName:"3月",TagType:1,Date:"2017/03/01",Active:!1,PlanTableModels:[]},{TagId:5,TagName:"4月",TagType:1,Date:"2017/04/01",Active:!1,PlanTableModels:[]},{TagId:6,TagName:"5月",TagType:1,Date:"2017/05/01",Active:!1,PlanTableModels:[]},{TagId:7,TagName:"6月",TagType:1,Date:"2017/06/01",Active:!1,PlanTableModels:[]},{TagId:8,TagName:"7月",TagType:1,Date:"2017/07/01",Active:!1,PlanTableModels:[]},{TagId:9,TagName:"8月",TagType:1,Date:"2017/08/01",Active:!1,PlanTableModels:[]},{TagId:10,TagName:"9月",TagType:1,Date:"2017/09/01",Active:!1,PlanTableModels:[]},{TagId:11,TagName:"10月",TagType:1,Date:"2017/10/01",Active:!1,PlanTableModels:[]},{TagId:12,TagName:"11月",TagType:1,Date:"2017/11/01",Active:!1,PlanTableModels:[]},{TagId:13,TagName:"12月",TagType:1,Date:"2017/12/01",Active:!1,PlanTableModels:[]}]},{GroupId:6,GroupName:"2018",Active:!1,PlanTableListModels:[{TagId:2,TagName:"1月",TagType:1,Date:"2018/01/01",Active:!1,PlanTableModels:[]},{TagId:3,TagName:"2月",TagType:1,Date:"2018/02/01",Active:!1,PlanTableModels:[]},{TagId:4,TagName:"3月",TagType:1,Date:"2018/03/01",Active:!1,PlanTableModels:[]},{TagId:5,TagName:"4月",TagType:1,Date:"2018/04/01",Active:!1,PlanTableModels:[]},{TagId:6,TagName:"5月",TagType:1,Date:"2018/05/01",Active:!1,PlanTableModels:[]},{TagId:7,TagName:"6月",TagType:1,Date:"2018/06/01",Active:!1,PlanTableModels:[]},{TagId:8,TagName:"7月",TagType:1,Date:"2018/07/01",Active:!1,PlanTableModels:[]},{TagId:9,TagName:"8月",TagType:1,Date:"2018/08/01",Active:!1,PlanTableModels:[]},{TagId:10,TagName:"9月",TagType:1,Date:"2018/09/01",Active:!1,PlanTableModels:[]},{TagId:11,TagName:"10月",TagType:1,Date:"2018/10/01",Active:!1,PlanTableModels:[]},{TagId:12,TagName:"11月",TagType:1,Date:"2018/11/01",Active:!1,PlanTableModels:[]},{TagId:13,TagName:"12月",TagType:1,Date:"2018/12/01",Active:!1,PlanTableModels:[]}]},{GroupId:7,GroupName:"2019",Active:!1,PlanTableListModels:[{TagId:2,TagName:"1月",TagType:1,Date:"2019/01/01",Active:!1,PlanTableModels:[]},{TagId:3,TagName:"2月",TagType:1,Date:"2019/02/01",Active:!1,PlanTableModels:[]},{TagId:4,TagName:"3月",TagType:1,Date:"2019/03/01",Active:!1,PlanTableModels:[]},{TagId:5,TagName:"4月",TagType:1,Date:"2019/04/01",Active:!1,PlanTableModels:[]},{TagId:6,TagName:"5月",TagType:1,Date:"2019/05/01",Active:!1,PlanTableModels:[]},{TagId:7,TagName:"6月",TagType:1,Date:"2019/06/01",Active:!1,PlanTableModels:[]},{TagId:8,TagName:"7月",TagType:1,Date:"2019/07/01",Active:!1,PlanTableModels:[]},{TagId:9,TagName:"8月",TagType:1,Date:"2019/08/01",Active:!1,PlanTableModels:[]},{TagId:10,TagName:"9月",TagType:1,Date:"2019/09/01",Active:!1,PlanTableModels:[]},{TagId:11,TagName:"10月",TagType:1,Date:"2019/10/01",Active:!1,PlanTableModels:[]},{TagId:12,TagName:"11月",TagType:1,Date:"2019/11/01",Active:!1,PlanTableModels:[]},{TagId:13,TagName:"12月",TagType:1,Date:"2019/12/01",Active:!1,PlanTableModels:[]}]},{GroupId:8,GroupName:"2020",Active:!1,PlanTableListModels:[{TagId:2,TagName:"1月",TagType:1,Date:"2020/01/01",Active:!1,PlanTableModels:[]},{TagId:3,TagName:"2月",TagType:1,Date:"2020/02/01",Active:!1,PlanTableModels:[]},{TagId:4,TagName:"3月",TagType:1,Date:"2020/03/01",Active:!1,PlanTableModels:[]},{TagId:5,TagName:"4月",TagType:1,Date:"2020/04/01",Active:!1,PlanTableModels:[]},{TagId:6,TagName:"5月",TagType:1,Date:"2020/05/01",Active:!1,PlanTableModels:[]},{TagId:7,TagName:"6月",TagType:1,Date:"2020/06/01",Active:!1,PlanTableModels:[]},{TagId:8,TagName:"7月",TagType:1,Date:"2020/07/01",Active:!1,PlanTableModels:[]},{TagId:9,TagName:"8月",TagType:1,Date:"2020/08/01",Active:!1,PlanTableModels:[]},{TagId:10,TagName:"9月",TagType:1,Date:"2020/09/01",Active:!1,PlanTableModels:[]},{TagId:11,TagName:"10月",TagType:1,Date:"2020/10/01",Active:!1,PlanTableModels:[]},{TagId:12,TagName:"11月",TagType:1,Date:"2020/11/01",Active:!1,PlanTableModels:[]},{TagId:13,TagName:"12月",TagType:1,Date:"2020/12/01",Active:!1,PlanTableModels:[]}]}]}},d=c.Data,e=b.date.split("/");if(0==b.group_id)var f=a._.findWhere(d.taglist,{GroupName:e[0]})||d.taglist[0];else var f=a._.findWhere(d.taglist,{GroupId:b.group_id})||d.taglist[0];f.Active=!0;var g=f.PlanTableListModels[0];if(f.GroupName==e[0]){var h=Number(e[1])+1;g=a._.findWhere(f.PlanTableListModels,{TagId:h}),g.Date=b.date}g.Active=!0;var i=new a.$.Deferred;return i.resolve(c),i.promise()}})}),define("collections/document-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getYifangyun:function(b){var c=new a.$.Deferred,d="YiFangyun/SSO";return this.request({url:d,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getUserDoc:function(b){var c=new a.$.Deferred,d={parent_doc_id:0,page_index:1,page_size:10};b=a._.extend({},d,b);var e="Document/GetUserDoc";return e=e+"?parent_doc_id="+b.parent_doc_id+"&page_index="+b.page_index+"&page_size="+b.page_size,this.request({url:e,type:"Get"}).done(function(b){function d(b){var c=a._.findWhere(e,{PId:b});if(c){g.push(c);var f=c.Id;d(f)}}var e=b.ParentFolders,f=a.Context.getI18n(),g=[{Id:0,PId:0,FileName:"个人"+f.document_1}];d(0),b.ParentFolders=g,c.resolve(b)}).fail(function(a){c.reject(a)}),c},getShareDocData:function(b){var c=new a.$.Deferred,d={parent_doc_id:0,page_index:1,page_size:10};b=a._.extend({},d,b);var e="Document/GetShareDoc";return e=e+"?parent_doc_id="+b.parent_doc_id+"&page_index="+b.page_index+"&page_size="+b.page_size,this.request({url:e,type:"Get"}).done(function(b){function d(b){var c=a._.findWhere(e,{PId:b});if(c){g.push(c);var f=c.Id;d(f)}}var e=b.ParentFolders,f=a.Context.getI18n(),g=[{Id:0,PId:0,FileName:"企业"+f.document_1}];d(0),b.ParentFolders=g,c.resolve(b)}).fail(function(a){c.reject(a)}),c},postAddShareFolder:function(b){var c=new a.$.Deferred,d={parent_doc_id:0,folder_name:""};b=a._.extend({},d,b);var e="Document/AddShareFolder";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postAddPersonalShareFolder:function(b){var c=new a.$.Deferred,d={parent_doc_id:0,folder_name:""};b=a._.extend({},d,b);var e="Document/AddUserFolder?parent_doc_id="+b.parent_doc_id;return this.request({url:e,type:"Post",data:{"":b.folder_name}}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postDeleteShareDocument:function(b){var c=new a.$.Deferred,d={parent_document_id:0,document_ids:[]};b=a._.extend({},d,b),b.document_ids=b.document_ids.join(",");var e="Document/DeleteShareDocument";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postDeletePersonalShareDocument:function(b){var c=new a.$.Deferred,d={parent_document_id:0,document_ids:[]};b=a._.extend({},d,b),b.document_ids=b.document_ids.join(",");var e="Document/DeleteUserDocument?document_ids="+b.document_ids;return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postUpdateDocAllowDownloadData:function(b){var c=new a.$.Deferred,d={document_id:0,allow_download:[]};b=a._.extend({},d,b);var e="Document/UpdateDocAllowDownload";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postAddShareDocumentData:function(b){var c=new a.$.Deferred,d={parent_doc_id:0,dfs_urls:""};b=a._.extend({},d,b);var e="Document/AddShareDocument";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postAddPersonalShareDocumentData:function(b){var c=new a.$.Deferred,d={parent_doc_id:0,dfs_urls:""};b=a._.extend({},d,b);var e="Document/AddUserDocument?parent_doc_id="+b.parent_doc_id+"&dfs_urls="+b.dfs_urls;return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postUpdateDocNameData:function(b){var c=new a.$.Deferred,d={document_id:0,new_name:[]};b=a._.extend({},d,b);var e="Document/UpdateDocName";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postUpdatePersonalDocNameData:function(b){var c=new a.$.Deferred,d={document_id:0,new_name:[]};b=a._.extend({},d,b);var e="Document/UpdateUserDocName?document_id="+b.document_id;return this.request({url:e,type:"Post",contentType:"application/json",data:JSON.stringify(b.new_name)}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postMoveDocumentData:function(b){var c=new a.$.Deferred,d={document_ids:[],new_parent_id:""};b=a._.extend({},d,b),b.document_ids=b.document_ids.join(",");var e="Document/MoveDocument";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postMovePersonalDocumentData:function(b){var c=new a.$.Deferred,d={document_ids:[],new_parent_id:""};b=a._.extend({},d,b),b.document_ids=b.document_ids.join(",");var e="Document/MoveUserDocument?document_ids="+b.document_ids+"&new_parent_id="+b.new_parent_id;return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getShareFoldersData:function(b){var c=new a.$.Deferred,d={};b=a._.extend({},d,b);var e="Document/GetShareFolders";return this.request({url:e,type:"Get"}).done(function(b){function d(c){a._.each(c,function(c){var e=c.Id,f=a._.where(b,{
PId:e});f=a._.compact(f),f.length?(c.children=f,c.isEnd=!1):(c.children=null,c.isEnd=!0),d(f)})}var e={};e.original=b;var f=a.Context.getI18n(),g=[{Id:0,PId:0,FileName:"企业"+f.document_1}],h=a._.where(b,{PId:0});h=a._.compact(h),d(g),e.process=g,c.resolve(e)}).fail(function(a){c.reject(a)}),c},getPersonalFolders:function(b){var c=new a.$.Deferred,d={};b=a._.extend({},d,b);var e="Document/GetUserFolders";return this.request({url:e,type:"Get"}).done(function(b){function d(c){a._.each(c,function(c){var e=c.Id,f=a._.where(b,{PId:e});f=a._.compact(f),f.length?(c.children=f,c.isEnd=!1):(c.children=null,c.isEnd=!0),d(f)})}var e={};e.original=b;var f=a.Context.getI18n(),g=[{Id:0,PId:0,FileName:"我的"+f.document_1}],h=a._.where(b,{PId:0});h=a._.compact(h),d(g),e.process=g,c.resolve(e)}).fail(function(a){c.reject(a)}),c},getUploadDocumentData:function(b){var c=new a.$.Deferred;return this.request({url:"Document/Upload?",data:b,type:"post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},addMessageFileData:function(b){var c=new a.$.Deferred,d={workId:"",parent_doc_id:0,dfs_urls:"",isCreateWorkFile:!0};b=a._.extend({},d,b);var e="Document/AddWorkDocument";return e=e+"?workId="+b.workId+"&parent_doc_id="+b.parent_doc_id+"&dfs_urls="+b.dfs_urls+"&isCreateWorkFile="+b.isCreateWorkFile,this.request({url:e,type:"post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},delMessageFile:function(a){var b=new Talent.$.Deferred,c={workId:0,document_ids:""};a=Talent._.extend({},c,a);var d="?document_ids="+a.document_ids+"&workId="+a.workId;return this.request({url:"Document/DeleteWorkDocument"+d,type:"POST"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()}})}),define("collections/bench-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getBenchItemModuleData:function(b){var c={type:"my",StartDate:"",EndDate:"",startNum:"",count:50,WorkTableType:0,fromLevel:1,toLevel:2,startNum:"",WorkTableType:0},d=new a.$.Deferred,b=a._.extend({},c,b),e="WorkTable/PersonalPlan";"group"==b.type&&(e="WorkTable/TeamPlan"),delete b.type;return this.request2({type:"post",url:e,data:b}).done(function(a){d.resolve(a)}),d},getBenchSearchPlanData:function(b){var c={type:"my",userIds:"",status:"",LableModels:"",StartDate:"",EndDate:"",SortType:"",RelationType:"",startNum:"",count:50,WorkTableType:0,fromLevel:1,toLevel:2,IsPage:!1},d=new a.$.Deferred,b=a._.extend({},c,b),e="WorkTable/PersonalPlan";"group"==b.type&&(e="WorkTable/TeamPlan"),delete b.type;return this.request2({type:"post",url:e,data:b}).done(function(a){d.resolve(a)}),d},getModuleData:function(b){var c={channel_type:1,view_name:"",StartDate:"",EndDate:"",startNum:1,count:50,WorkTableType:0},d=new a.$.Deferred,b=a._.extend({},c,b),e="WorkTable/View?channel_type="+b.channel_type+"&view_name="+b.view_name;delete b.channel_type;return this.request2({type:"post",url:e,data:b}).done(function(a){d.resolve(a.data)}),d},_formatTree:function(b){function c(b){a._.each(b,function(b){var d=b.taskId,f=a._.where(e,{parentTaskId:d});return f=a._.compact(f),f.length?(b.Tasks=f,a._.each(f,function(a){a.level=b.level+1}),void c(f)):void(b.Tasks=[])})}var d=b||{},e=d.tasks;if(e&&e.length){var f=a._.where(e,{parentTaskId:null});a._.each(f,function(a){a.level=1}),c(f)}return d.tasks=f,d},getRightPartData:function(b){var c={channel_type:1},d=new a.$.Deferred,b=a._.extend({},c,b),e="WorkTable/Views";return this.request2({type:"get",url:e,data:b}).done(function(a){d.resolve(a)}),d},getBenchMorePlanData:function(b){var c={diff:"my",UserIds:"",LableIds:"",Status:"",Date:"",Mark:0,PageIndex:"",PageCount:10,Type:""},d=new a.$.Deferred,b=a._.extend({},c,b),e="workTable/SearchPersionlPlanByPage";return"group"==b.diff&&(e="workTable/SearchTeamPlanByPage"),this.request({type:"POST",url:e,data:b}).done(function(a){d.resolve(a)}),d},setBenchFirstData:function(b){var c=new a.$.Deferred;return this.request({data:b,type:"POST",url:"Preference/Set?type="+b.type}).done(function(b){c.resolve(a._.values(b))}),c}})}),define("collections/pay-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getPackageData:function(b){var c="PayService/GetPackageProduct?package_id="+b.package_id,d=new a.$.Deferred;return this.request({type:"GET",url:c}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getBuyTypeData:function(b){var c="PayService/BuyTitaInfo?order_type="+b.order_type,d=new a.$.Deferred;return this.request({type:"GET",url:c}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},postOrderData:function(b){var c="PayService/CommitOrder",d=new a.$.Deferred;return this.request({type:"POST",url:c,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},postPayMoneyData:function(b){var c="PayService/PayOrder",d=new a.$.Deferred;return this.request({type:"Post",url:c,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getOffLinePayData:function(b){var c="PayService/OffLineNotify?order_id="+b.order_id+"&mobile="+b.mobile,d=new a.$.Deferred;return this.request({type:"GET",url:c}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getOrderByIdData:function(b){var c="PayService/PayOrder?order_id="+b.order_id,d=new a.$.Deferred;return this.request({type:"GET",url:c}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},tenantAuthorizeSet:function(){var b="TenantAuthorize/Set",c=new a.$.Deferred;return this.request({type:"POST",url:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/home-collection",["talent","collections/base-collection"],function(a,b){return b.extend({postApplyOPenMeetting:function(b){var c,d={type:1},e=new a.$.Deferred,f=[700,901];return b=a._.extend({},d,b),c="Notify/OpenApp?app_id="+f[b.type-1],this.request({url:c,type:"Post"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e}})}),define("collections/evaluation-collection",["talent","collections/base-collection"],function(a,b){return b.extend({postAddEvaluation:function(b){var c=new a.$.Deferred,d={objectType:"",objectId:"",evaluateType:1,evaluateValue:""};b=a._.extend({},d,b);var e="Evaluate/Add";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postUpdateEvaluation:function(b){var c=new a.$.Deferred,d={objectType:"",objectId:"",evaluateType:1,evaluateValue:""};b=a._.extend({},d,b);var e="Evaluate/Update";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/italent-collection",["talent","collections/base-collection"],function(a,b){return b.extend({postDelete:function(b){var c=new a.$.Deferred,d={meta_objid:"",obj_dataid:""};b=a._.extend({},d,b);var e="iTalent/user/view/Delete?meta_objid="+b.meta_objid+"&obj_dataid="+b.obj_dataid;return this.request({url:e,type:"Post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/sms-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getSmsCheck:function(b){var c=new a.$.Deferred,d={to_user_id:""};b=a._.extend({},d,b);var e="SMS/Check?to_user_id="+b.to_user_id;return this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postSmsNotifyAddNum:function(b){var c=new a.$.Deferred,d={to_user_id:"",phoneNum:"",is_notify:""};b=a._.extend({},d,b);var e="SMS/NotifyAddNum";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/task-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getTaskListData:function(b){var c,d=new a.$.Deferred,e="";return 0==b.relation?(c=a.Context.splicingUrl(b,["pageNum","pageSize"]),e="task/UserFinishTask?"+c):4==b.relation?(c=a.Context.splicingUrl(b,["pageNum","pageSize"]),e="task/UserSubstituteTask?"+c):(c=a.Context.splicingUrl(b,["relation"]),e="task/UserTask?"+c),this.request({url:e,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},participatorAccept:function(b){var c={task_id:""},d=new a.$.Deferred,e=a._.extend({},c,b),f="task/ParticipatorAccept";return this.request({url:f,type:"post",data:e}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},addFollower:function(b){var c={taskId:"",followers:[]},d=new a.$.Deferred,e=a._.extend({},c,b),f="task/AddFollower?taskId="+e.taskId;return this.request({url:f,type:"post",contentType:"application/json",data:JSON.stringify(e.followers)}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},deleteFollower:function(b){var c={taskId:"",toUserId:""},d=new a.$.Deferred,e=a._.extend({},c,b),f="task/Deletefollower?taskId="+e.taskId+"&toUserId="+e.toUserId;return this.request({url:f,type:"post"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d}})}),define("collections/lable-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getLableData:function(b){var c=new a.$.Deferred,d={obj_id:"",obj_type:"1"},b=a._.extend({},d,b),e="lable/get";return 2==b.obj_type?e=e+"?obj_id="+b.obj_id+"&obj_type="+b.obj_type:b.to_userId&&(e+="?to_userId="+b.to_userId),this.request({url:e,type:"Get"}).done(function(b){function d(c,e){a._.each(c,function(c){var f=c.id;e&&(c.fullName=e.fullName+"/"+c.name);var g=a._.where(b,{parent_id:f});g=a._.compact(g),g.length?(c.children=g,c.isEnd=!1):(c.children=null,c.isEnd=!0),d(g,c)})}var b=b.lables||[],e={};e.lables=b;var f=[{id:"0",parent_id:"0",name:"类别",fullName:"类别"}],g=a._.where(b,{parent_id:"0"});g=a._.compact(g),d(f),e.lables=f,c.resolve(e)}).fail(function(a){c.reject(a)}),c},GetDepartmentData:function(b){var c=new a.$.Deferred,d={obj_id:"",obj_type:"1",lvl:10},b=a._.extend({},d,b),e="lable/getDepartment";return e=e+"?obj_id="+b.obj_id+"&obj_type="+b.obj_type+"lvl="+b.lvl,this.request({url:e,type:"Get"}).done(function(b){function d(c){a._.each(c,function(c){var e=c.id,f=a._.where(b,{parent_id:e});f=a._.compact(f),f.length?(c.children=f,c.isEnd=!1):(c.children=null,c.isEnd=!0),d(f)})}var b=b.lables||[],e={};e.lables=b;var f=[{id:"0",parent_id:"0",name:"我的分类",enterName:"我的分类"}],g=a._.where(b,{parent_id:"0"});g=a._.compact(g),d(f),e.lables=f,c.resolve(e)}).fail(function(a){c.reject(a)}),c},addLabel:function(b){var c=new a.$.Deferred;return this.request({url:"org/Add",type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},postAddLableData:function(b){var c=new a.$.Deferred,d={obj_id:"",obj_type:"1",name:"",parent_id:""},b=a._.extend({},d,b),e="lable/add";return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteLableData:function(b){var c=new a.$.Deferred,d={lable_id:""},b=a._.extend({},d,b),e="lable/remove";return e=e+"?lable_id="+b.lable_id,this.request({url:e,type:"delete"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},putRenameLableData:function(b){var c=new a.$.Deferred,d={lable_id:"",name:""},b=a._.extend({},d,b),e="lable/name";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getEnterLableData:function(b){var c=new a.$.Deferred,d={obj_id:"",obj_type:"2"},b=a._.extend({},d,b),e="lable/Get";return e=e+"?obj_id="+b.obj_id+"&obj_type="+b.obj_type,this.request({url:e,type:"Get"}).done(function(b){function d(c){a._.each(c,function(c){var e=c.id,f=a._.where(b,{parent_id:e});f=a._.compact(f),f.length?(c.children=f,c.isEnd=!1):(c.children=null,c.isEnd=!0),d(f)})}var b=[]||b.lables,e={};e.lables=b;var f=[{id:"0",parent_id:"0",name:"我的分类",enterName:"我的分类"}],g=a._.where(b,{parent_id:"0"});g=a._.compact(g),d(f),e.lables=f,c.resolve(e)}).fail(function(a){c.reject(a)}),c},postEnterAddLableData:function(b){var c=new a.$.Deferred,d={obj_id:"",obj_type:"2",name:"",parent_id:""},b=a._.extend({},d,b),e="lable/add";return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},deleteEnterLableData:function(b){var c=new a.$.Deferred,d={lable_id:""},b=a._.extend({},d,b),e="lable/remove";return e=e+"?lable_id="+b.lable_id,this.request({url:e,type:"delete"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSeeUserList:function(b){var c=new a.$.Deferred,d={lable_id:""},b=a._.extend({},d,b),e="lable/GetLablePrivilegedUsers";return e=e+"?lable_id="+b.lable_id,this.request({url:e,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},putEnterRenameLableData:function(b){var c=new a.$.Deferred,d={lable_id:"",name:""},b=a._.extend({},d,b),e="lable/name";return this.request({url:e,type:"Post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},ifAddClassLableData:function(b){var c=new a.$.Deferred,d={lable_id:"",is_allow:""},b=a._.extend({},d,b),e="lable/allow?lable_id="+b.lable_id+"&is_allow="+b.is_allow;return this.request({url:e,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},classPerEnterLableData:function(b){var c=new a.$.Deferred,d={LableId:"",AddObjectModels:""},b=a._.extend({},d,b),e="lable/UpdateUsers";return this.request({url:e,type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.resolve(a)}),c},searchClassData:function(b){var c=new a.$.Deferred,d={},b=a._.extend({},d,b),e="Lable/Search";return this.request({url:e,type:"POST",data:{"":b.filter}}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/work-hour-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getWorkHourList:function(b){var c="worktime/Get",d=new a.$.Deferred,e={obj_id:"",obj_type:""};b=a._.extend({},e,b);var f="obj_id="+b.obj_id+"&obj_type="+b.obj_type;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},addWorkHour:function(b){var c="worktime/Add",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},updateWokHour:function(b){var c="worktime/Update?work_time_id="+b.work_time_id,d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deleteWorkHour:function(b){var c="worktime/Delete",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},addAttachment:function(b){var c="WorkTime/AddAttachment",d=new a.$.Deferred,e={work_time_id:"",dfs_urls:""};b=a._.extend({},e,b);var f="work_time_id="+b.work_time_id+"&dfs_urls="+b.dfs_urls;return this.request({url:c+"?"+f,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deleteAttachment:function(b){var c="WorkTime/DeleteAttachment",d=new a.$.Deferred,e={work_time_id:"",document_id:""};b=a._.extend({},e,b);var f="work_time_id="+b.work_time_id+"&document_id="+b.document_id;return this.request({url:c+"?"+f,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/share-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getShareList:function(b){var c="PlanV2/GetExperience",d=new a.$.Deferred,e={plan_item_id:""};b=a._.extend({},e,b);var f="plan_item_id="+b.plan_item_id;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},addShare:function(b){var c="PlanV2/AddExperience",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},editShare:function(b){var c="PlanV2/UpdateExperience",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},editShareDate:function(b){var c="PlanV2/UpdateExperienceDate",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deleteShare:function(b){var c="PlanV2/DeleteExperience",d={plan_item_id:"",comment_id:""};b=a._.extend({},d,b);var e="plan_item_id="+b.plan_item_id+"&comment_id="+b.comment_id,f=new a.$.Deferred;return this.request({url:c+"?"+e,type:"POST"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},addAttachment:function(b){var c="PlanV2/AddExperienceAttachment",d=new a.$.Deferred,e={comment_id:"",dfs_urls:""};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deleteAttachment:function(b){var c="PlanV2/DeleteExperienceAttachment",d=new a.$.Deferred,e={comment_id:"",document_id:""};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/meet-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getMeetList:function(b){var c="Meet/Get",d=new a.$.Deferred,e={obj_id:"",obj_type:"",type:1},b=a._.extend({},e,b),f="obj_id="+b.obj_id+"&obj_type="+b.obj_type+"&type="+b.type;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getDetail:function(b){var c="Meet/MeetInfo",d=new a.$.Deferred,e={id:""};b=a._.extend({},e,b);var f="id="+b.id;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getTravelList:function(b){var c="Meet/Get",d=new a.$.Deferred,e={obj_id:"",obj_type:"",type:2};b=a._.extend({},e,b);var f="obj_id="+b.obj_id+"&obj_type="+b.obj_type+"&type="+b.type;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},updateMeet:function(b){var c={Title:"",StartDate:"",DeadLine:"",MeetType:"",meet_id:"",StartDate:"",DeadLine:"",ContractUser:""};b=a._.extend({},c,b);var d="Meet/Update?meet_id="+b.meet_id,e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},addMeet:function(b){var c="Meet/Add",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deleteMeet:function(b){var c="Meet/Delete",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},addAttachment:function(b){var c="Meet/AddAttachment",d=new a.$.Deferred,e={meet_id:"",dfs_urls:""};b=a._.extend({},e,b);var f="meet_id="+b.meet_id+"&dfs_urls="+b.dfs_urls;return this.request({url:c+"?"+f,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deleteAttachment:function(b){var c="Meet/DeleteAttachment",d=new a.$.Deferred,e={meet_id:"",document_id:""};b=a._.extend({},e,b);var f="meet_id="+b.meet_id+"&document_id="+b.document_id;return this.request({url:c+"?"+f,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},addParticipator:function(b){var c="Meet/AddParticipator",d=new a.$.Deferred,e={meet_id:"",add_objects:""};b=a._.extend({},e,b);var f="meet_id="+b.meet_id;return this.request({url:c+"?"+f,type:"POST",contentType:"application/json",data:JSON.stringify(b.add_objects)}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deleteParticipator:function(b){var c="Meet/DeleteParticipator",d=new a.$.Deferred,e={meet_id:"",to_user_id:""};b=a._.extend({},e,b);var f="meet_id="+b.meet_id+"&to_user_id="+b.to_user_id;return this.request({url:c+"?"+f,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/report-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getWorkImplementation:function(b){var c="Work/WorkImplementation",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getWorkTotal:function(b){var c="PlanStatistic/TeamPlanItemList",d=new a.$.Deferred,e={UserDepartmentId:"",ToDepartmentId:"",StartDate:"",EndDate:"",UserIds:"",LableModels:"",Type:""};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getHourTotal:function(b){var c="PlanStatistic/TeamPlanItemWorkTimeList",d=new a.$.Deferred,e={UserDepartmentId:"",ToDepartmentId:"",StartDate:"",EndDate:"",UserIds:"",LableModels:"",Type:""};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getWorkingHoursTotal:function(b){var c="Statistic/TeamPlanItemWorkTimeList",d=new a.$.Deferred,e={UserDepartmentId:"",ToDepartmentId:"",StartDate:"",EndDate:"",UserIds:"",LableModels:""};return b=a._.extend({},e,b),this.request2({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getProgressTotal:function(b){var c="Statistic/TeamPlanItemProgressList",d=new a.$.Deferred,e={UserDepartmentId:"",ToDepartmentId:"",StartDate:"",EndDate:"",UserIds:"",LableModels:""};return b=a._.extend({},e,b),this.request2({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getDailyTotal:function(b){var c="PlanStatistic/TeamPlanDailyStatistic",d=new a.$.Deferred,e={department_id:"",toDepartment_id:"",date:"",type:"",get_type:"",report_type:"8"};return b=a._.extend({},e,b),this.request({url:c+"?department_id="+b.department_id+"&toDepartment_id="+b.toDepartment_id+"&date="+b.date+"&type="+b.type+"&get_type="+b.get_type+"&report_type="+b.report_type,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getExcel:function(b){var c=new a.$.Deferred;return this.request({type:"post",url:"PlanStatistic/"+b.url,data:b.data}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getDailyExcel:function(b){var c=new a.$.Deferred,d={department_id:"",toDepartment_id:"",date:"",type:"",get_type:"",report_type:"8"};return b=a._.extend({},d,b),this.request2({type:"GET",url:"planDaily/Export",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getProjectTotal:function(b){var c=new a.$.Deferred;return b=a._.extend({},b),this.request({type:"POST",url:"PlanStatistic/TeamWorkList",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/note-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getNoteList:function(b){var c="Note/GetNotes",d=new a.$.Deferred,e={user_id:""};b=a._.extend({},e,b);var f="user_id="+b.user_id;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getNotePage:function(b){var c="Note/GetNotesPage",d=new a.$.Deferred,e={user_id:"",page_num:1,page_size:5};b=a._.extend({},e,b);var f="user_id="+b.user_id+"&page_num="+b.page_num+"&page_size="+b.page_size;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},addNote:function(b){var c="Note/Add",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},editNote:function(b){var c="Note/Update",d=new a.$.Deferred;return this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},deleteNote:function(b){var c="Note/Delete",d=new a.$.Deferred,e={user_id:"",noteId:""};b=a._.extend({},e,b);var f="noteId="+b.noteId+"&user_id="+b.user_id;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/apply-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getGroupApplyList:function(b){if("work"==b.name)var c={state:"",obj_type:11,to_userId:"",page_num:1,page_size:20},d="Apply/Work/GetByUser";else var c={state:"",obj_type:11},d="Apply/Plan/GetByUser";delete b.name,b=a._.extend({},c,b);var e=new a.$.Deferred;return this.request({url:d,type:"Get",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},GetByObjList:function(b){var c="Apply/Plan/GetByObj",d=new a.$.Deferred,e={obj_id:"",obj_type:11};b=a._.extend({},e,b);var f="obj_id="+b.obj_id+"&obj_type="+b.obj_type;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},updateApplyBatchState:function(b){if("work"==b.name)var c={applyIds:"",state:"",applyContent:""},d="Apply/Work/UpdateStateWork";else var c={ApplyIds:"",State:"",ApplyContent:""},d="Apply/Plan/UpdateState";delete b.name,b=a._.extend({},c,b);var e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getPlanApplyList:function(b){var c="Apply/Plan/GetByObj",d=new a.$.Deferred,e={state:"",obj_id:"",obj_type:""};b=a._.extend({},e,b);var f="obj_id="+b.obj_id+"&obj_type="+b.obj_type+"&state="+b.state;return this.request({url:c+"?"+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/temp-storage-collection",["talent","collections/base-collection"],function(a,b){return b.extend({saveData:function(a){var a=a||{};return this.request({url:"HelpUI/save",type:"POST",data:a})},getData:function(a){var a=a||{};return this.request({url:"HelpUI/get",type:"GET",data:a})}})}),define("collections/approval-collection",["talent","collections/base-collection"],function(a,b){return b.extend({postAddLableData:function(b){var c=new a.$.Deferred,d={LableIds:"",PlanApplySetTypes:""},b=a._.extend({},d,b),e="Apply/Plan/AddApplySet";return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getMyApprovalData:function(b){var c=new a.$.Deferred,d={},b=a._.extend({},d,b),e="";return this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},revokeApproval:function(b){var c=new a.$.Deferred,d=b.url;return this.request({type:b.type,url:d,data:b.data}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/resourceUI-collection",["talent","collections/base-collection"],function(a,b){return b.extend({setLanguage:function(b){var c=new a.$.Deferred,d={appId:100,language:1};b=a._.extend({},d,b);var e="Resource/SetLanguage?appId="+b.appId+"&language="+b.language;return this.request({url:e,type:"POST"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()}})}),define("collections/customize-collection",["talent","collections/base-collection"],function(a,b){return b.extend({postUpdateNavigation:function(b){var c={customize_BehaviorType:"",navigation_itemModels:[{id:0,Value:[],Score:0}]},b=a._.extend({},c,b),d="Customize/UpdateNavigation",e=new a.$.Deferred,f="customize_BehaviorType="+b.customize_BehaviorType;return this.request({url:d+"?"+f,type:"POST",contentType:"application/json",data:JSON.stringify(b.navigation_itemModels)}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getData:function(b){var c={obj_id:"",obj_type:1,customize_type:"1,2"},d=new a.$.Deferred,b=a._.extend({},c,b),e="Customize/Get?obj_id="+b.obj_id+"&obj_type="+b.obj_type+"&customize_type="+b.customize_type;return this.request({type:"Get",url:e}).done(function(a){d.resolve(a)}),d},setData:function(b){var c={ObjId:"",TenantId:"",ObjType:1,CustomizaBehaviorType:"1,2",Fields:""},d=new a.$.Deferred,b=a._.extend({},c,b),e="Customize/Add";return this.request({type:"post",url:e,data:b}).done(function(a){d.resolve(a)}),d}})}),define("collections/signin-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getListData:function(b){var c=new a.$.Deferred,d={UserDepartmentId:"",ToDepartmentId:"",UserIds:"",StartDate:"",EndDate:"",Type:""},b=a._.extend({},d,b),e="Signin/SigninStatistic";return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},getSigninByFeedId:function(b){var c=new a.$.Deferred,d={to_user_id:"",feedId:""},b=a._.extend({},d,b),e="Signin/GetSigninByFeedId";return e=e+"?to_user_id="+b.to_user_id+"&feedId="+b.feedId,this.request({url:e,type:"Get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},exportExcel:function(b){var c=new a.$.Deferred,d={user_departmentId:"",to_departmentId:"",user_ids:"",start_time:"",end_time:"",type:""},b=a._.extend({},d,b),e="Signin/ExportSigninReport";return this.request({url:e,type:"get",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/tenant-collection",["talent","collections/base-collection"],function(a,b){return b.extend({postUpdateTenant:function(b){var c={Logo:"",Abbreviation:""},b=a._.extend({},c,b),d="Tenant/Update",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getPlatformApp:function(b){var c={},b=a._.extend({},c,b),d="Tenant/PlatformApp",e=new a.$.Deferred;return this.request({url:d,type:"get",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},postPlatformApp:function(b){var c={data:b.data},b=a._.extend({},c,b),d="Tenant/UpdatePlatformApps",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b.data}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()}})}),define("collections/work-table-colletion",["talent","collections/base-collection"],function(a,b){return b.extend({sendMail:function(b){var c="WorkTable/SendDailyEmail",d=new a.$.Deferred,e={startDate:"",endDate:"",userIds:""};return b=a._.extend({},e,b),this.request({url:c,type:"post",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},_formatTree:function(b){function c(b){a._.each(b,function(b){var d=b.taskId,f=a._.where(e,{parentTaskId:d});return f=a._.compact(f),f.length?(b.Tasks=f,a._.each(f,function(a){a.level=b.level+1}),void c(f)):void(b.Tasks=[])})}var d=b||[],e=d;if(e&&e.length){var f=a._.where(e,{parentTaskId:null});a._.each(f,function(a){a.level=1}),c(f)}return d=f},GetSubPlans:function(b){var c=new a.$.Deferred,d={diff:"my",userIds:"",status:"",date:"",LableModels:"",SortType:"",RelationType:"",parentTaskId:"",planTimeType:0,work_id:"",mile_stone_id:""};b=a._.extend({},d,b);var e="Work/SubTask?work_id="+b.work_id+"&mile_stone_id="+b.mile_stone_id;return this.request({url:e,data:b,type:"post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},checkworkuser:function(b){var c=new a.$.Deferred,d={workId:"",toUserId:""};b=a._.extend({},d,b);var e="Work/CheckWorkUser";return this.request({url:e,type:"get",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getRemindContent:function(b){var c=new a.$.Deferred,d={objSettingType:"",objType:""};b=a._.extend({},d,b);var e="WorkManageSetting/GetReminderContent";return this.request({url:e,type:"get",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()}})}),define("collections/work-mile-stone-collection",["talent","collections/base-collection"],function(a,b){return b.extend({addMile:function(b){var c=new a.$.Deferred,d={workId:"",mileStoneName:"",startDate:"",endDate:"",PrincipalId:""};b=a._.extend({},d,b);var e="WorkMileStone/Add";return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getMileTask:function(b){
var c=new a.$.Deferred,d={workId:"",mileStoneId:""};b=a._.extend({},d,b);var e="WorkMileStone/GetMileStoneTask";return this.request({url:e,type:"get",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},deleteMile:function(b){var c=new a.$.Deferred,d={workMileStoneId:""};b=a._.extend({},d,b);var e="WorkMileStone/Delete?workMileStoneId="+b.workMileStoneId;return this.request({url:e,type:"post"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},updateName:function(b){var c=new a.$.Deferred,d={workMileStoneId:"",workId:"",mileStoneName:"",startDate:"",endDate:"",principalId:""};b=a._.extend({},d,b);var e="WorkMileStone/UpdateName?workMileStoneId="+b.workMileStoneId;return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},updateDate:function(b){var c=new a.$.Deferred,d={workMileStoneId:"",workId:"",mileStoneName:"",startDate:"",endDate:"",principalId:""};b=a._.extend({},d,b);var e="WorkMileStone/UpdateDate?workMileStoneId="+b.workMileStoneId;return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},updatePrincipal:function(b){var c=new a.$.Deferred,d={workMileStoneId:"",workId:"",mileStoneName:"",startDate:"",endDate:"",principalId:""};b=a._.extend({},d,b);var e="WorkMileStone/UpdatePrincipal?workMileStoneId="+b.workMileStoneId;return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},updateTaskMileStone:function(b){var c=new a.$.Deferred,d={workMileStoneId:"",oldWorkMileStoneId:"",workId:"",taskId:""};b=a._.extend({},d,b);var e="WorkMileStone/UpdateTaskMileStone";return this.request({url:e,type:"post",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()}})}),define("collections/notify-collection",["talent","collections/base-collection"],function(a,b){return b.extend({sendEmail:function(b){var c="Notify/SendEmail",d=new a.$.Deferred,e={};b=a._.extend({},e,b);var f="";return this.request({url:c+f,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/work-tag-collection",["talent","collections/base-collection"],function(a,b){return b.extend({tagAddTo:function(b){var c={tagId:"",objId:"",objType:""},b=a._.extend({},c,b),d="tag/addto",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},tagCreateTo:function(b){var c={tagName:"",color:"",objId:"",objType:""};b=a._.extend({},c,b);var d="tag/createto",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getTagAll:function(b){var c="tag/all",d=a.$.Deferred();return this.request({url:c,type:"GET"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},tagRemovefrom:function(b){var c={tagId:"",objId:"",objType:""},b=a._.extend({},c,b),d="tag/removefrom",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getMyUsedTag:function(b){var c={user_id:"",objType:""},b=a._.extend({},c,b),d="tag/myused",e=new a.$.Deferred;return this.request({url:d,type:"GET",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},tagAdd:function(b){var c={tagName:"",color:"",shareTypes:""},b=a._.extend({},c,b),d="tag/add",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},tagShare:function(b){var c={tagIds:[],shareTypes:[]},b=a._.extend({},c,b),d="tag/share",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},tagDelete:function(b){var c={tagIds:[]},b=a._.extend({},c,b),d="tag/delete",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},tagDragSort:function(b){var c={beforeId:"",tagId:"",afterId:""},b=a._.extend({},c,b),d="tag/drag",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getWorkItemsByTag:function(b){var c={pageIndex:"",pageSize:"",tagId:"",objType:"4"},b=a._.extend({},c,b),d="?pageIndex="+b.pageIndex+"&pageSize="+b.pageSize+"&tagId="+b.tagId+"&objType="+b.objType,e="tag/workitems",f=new a.$.Deferred;return this.request({url:e+d,type:"GET"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()}})}),define("collections/todo-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getTodoData:function(b){var c={app_type:-1,app_id:-1,page_num:1,page_size:20,status:1},b=a._.extend({},c,b),d="todo/Get",e="",f=new a.$.Deferred;return this.request({url:d+e,type:"get",data:b}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()}})}),define("collections/wxpay-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getPayCashResult:function(b){var c={},b=a._.extend({},c,b),d="wx/pay/cash/result",e=new a.$.Deferred;return this.request({url:d,type:"GET"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getPayRecord:function(b){var c={page_num:"",page_size:"",type:""},b=a._.extend({},c,b),d="wx/pay/record",e="?page_num="+b.page_num+"&page_size="+b.page_size+"&type="+b.type,f=new a.$.Deferred;return this.request({url:d+e,type:"GET"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},getPayCashRecord:function(b){var c={page_num:"",page_size:""},b=a._.extend({},c,b),d="wx/pay/cash/record",e="?page_num="+b.page_num+"&page_size="+b.page_size,f=new a.$.Deferred;return this.request({url:d+e,type:"GET"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},addPayCash:function(b){var c={totalFee:""},b=a._.extend({},c,b),d="wx/pay/cash/add",e="?totalFee="+b.totalFee,f=new a.$.Deferred;return this.request({url:d+e,type:"POST"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},received:function(b){var c={page_num:1,page_size:10},d=$(document).width();c.page_size=Math.floor(d/75);var b=a._.extend({},c,b),e="wx/pay/order/received",f="?page_num="+b.page_num+"&page_size="+b.page_size,g=new a.$.Deferred;return this.request({url:e+f,type:"Get"}).done(function(a){g.resolve(a)}).fail(function(a){g.reject(a)}),g.promise()}})}),define("collections/manage-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getManagerListData:function(b){var c={pageIndex:0,pageSize:0},d=new a.$.Deferred,b=a._.extend({},c,b),e="manage/datamanagers";return this.request({type:"get",url:e,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getAuthorityListData:function(){var b=new a.$.Deferred,c="manage/objlist";return this.request({type:"get",url:c}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b},addManages:function(b){var c={UserIds:[],MenuIds:[]},d=new a.$.Deferred,b=a._.extend({},c,b),e="manage/datamanager";return this.request({type:"post",url:e,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},resetAuthority:function(b){var c={UserIds:[],MenuIds:[]},d=new a.$.Deferred,b=a._.extend({},c,b),e="manage/reset";return this.request({type:"post",url:e,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},deleteManage:function(b){var c={UserIds:[]},d=new a.$.Deferred,b=a._.extend({},c,b),e="manage/deldatamanager";return this.request({type:"post",url:e,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getAssessListData:function(b){var c={pageIndex:1,pageSize:20},d=new a.$.Deferred,b=a._.extend({},c,b),e="manage/assesslist";return this.request({type:"get",url:e,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getProjectListData:function(b){var c={appId:0,appType:0,pageNum:0,pageSize:0,searchObj:[],status:0,applyStatus:0,relation:0,orderType:0,filterKey:"",isAll:!1},d=new a.$.Deferred,b=a._.extend({},c,b),e="manage/work";return this.request({type:"post",url:e,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getMenuListData:function(){var b=new a.$.Deferred,c="manage/menulist";return this.request({type:"get",url:c}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b}})}),define("collections/work-v2-collection",["talent","collections/base-collection"],function(a,b){return b.extend({createProject:function(b){var c={workName:"",description:"",startDate:"",endDate:"",visibility:2,isLong:!1,reCreateWorkId:"",workRoles:{},departmentId:"",lableId:"",isReCreate:!1,FlowCode:"",IsOpenExternal:!1},b=a._.extend({},c,b),d="work/create",e=new a.$.Deferred;return this.request2({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getFormRoleInfo:function(){var b="work/formRoleInfo",c=new a.$.Deferred;return this.request2({url:b,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getBasicInfo:function(b){var c={workId:""},b=a._.extend({},c,b),d="work/basicInfo",e=new a.$.Deferred;return this.request2({url:d,type:"GET",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getSmipleInfo:function(b){var c={workId:""},b=a._.extend({},c,b),d="work/smipleInfo",e=new a.$.Deferred;return this.request2({url:d,type:"GET",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},editWorkName:function(b){var c={workId:"",workName:""},b=a._.extend({},c,b),d="work/name",e=new a.$.Deferred;return this.request2({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},editWorkDescription:function(b){var c={workId:"",description:""},b=a._.extend({},c,b),d="work/description",e=new a.$.Deferred;return this.request2({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},editWorkVisibility:function(b){var c={workId:"",visibility:""},b=a._.extend({},c,b),d="work/visiblity",e=new a.$.Deferred;return this.request2({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},editSmipleInfo:function(b){var c={workId:"",workName:"",description:"",startDate:"",endDate:"",visibility:2,isLong:!1,workRoles:{},departmentId:"",lableId:""},b=a._.extend({},c,b),d="work/edit",e=new a.$.Deferred;return this.request2({url:d,type:"PUT",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getSecondaryNavigation:function(b){var c={toUserId:"",appId:"",appType:""},b=a._.extend({},c,b),d="work/secondaryNavigation",e="?toUserId="+b.toUserId+"&appId="+b.appId+"&appType="+b.appType,f=new a.$.Deferred;return this.request2({url:d+e,type:"GET"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},getWorkList:function(b){var c={toUserId:"",relation:"",status:"",userObjects:"",departmentIds:"",categoryIds:"",scope:"",orderType:"",startDate:"",endDate:"",pageNum:"",pageSize:"",keywords:"",appId:"",appType:""},b=a._.extend({},c,b),d="work/listv2",e="?toUserId="+b.toUserId,f=new a.$.Deferred;return this.request2({url:d+e,type:"POST",data:b}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},getWorkLeftList:function(b){var c={toUserId:"",relation:"",status:"",userObjects:"",departmentIds:"",categoryIds:"",scope:"",orderType:"",startDate:"",endDate:"",pageNum:"",pageSize:"",keywords:"",appId:"",appType:""},b=a._.extend({},c,b),d="work/leftlist",e="?toUserId="+b.toUserId,f=new a.$.Deferred;return this.request2({url:d+e,type:"POST",data:b}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},getWorksByTag:function(b){var c={pageNum:"",pageSize:"",tagId:"",user_id:""},b=a._.extend({},c,b),d=("?pageIndex="+b.pageIndex+"&pageSize="+b.pageSize+"&tagId="+b.tagId+"&objType="+b.objType,"work/byTag"),e=new a.$.Deferred;return this.request2({url:d,type:"GET",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},TaskDrag:function(b){var c=new a.$.Deferred,d={workId:"",mileStoneId:"",baseOn:"",referenceObjId:"",movingObjId:"",positionType:""};b=a._.extend({},d,b);var e="work/task/drag";return this.request2({url:e,data:b,type:"POST"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getTaskCondition:function(b){var c=new a.$.Deferred,d={workId:"",mileStoneId:""};b=a._.extend({},d,b);var e="work/task/getcondition",f="?workId="+b.workId+"&mileStoneId="+b.mileStoneId;return this.request2({url:e+f,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getUserRoletypelist:function(){var b=new a.$.Deferred;return this.request2({url:"work/roletypelist",type:"GET"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},savesort:function(b){var c=new a.$.Deferred,d={sortType:"",workId:"",mileStoneId:0};b=a._.extend({},d,b);var e="?workId="+b.workId+"&mileStoneId="+b.mileStoneId;return this.request2({url:"work/task/savesort"+e,type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},savecondition:function(b){var c=new a.$.Deferred,d={status:"",userObjects:"",sortType:"",workId:"",mileStoneId:0};b=a._.extend({},d,b);var e="?workId="+b.workId+"&mileStoneId="+b.mileStoneId;return this.request2({url:"work/task/savecondition"+e,type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},deleteCondition:function(b){var c=new a.$.Deferred,d={workId:"",mileStoneId:0};b=a._.extend({},d,b);var e="?workId="+b.workId+"&mileStoneId="+b.mileStoneId;return this.request2({url:"work/task/deletecondition"+e,type:"DELETE",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getByAppObj:function(b){var c=new a.$.Deferred,d={appObjId:null,appObjRname:null};b=a._.extend({},d,b);var e="?appObjId="+b.appObjId+"&appObjRname="+b.appObjRname;return this.request2({url:"work/getByAppObj"+e,type:"get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getMilestoneProgress:function(b){var c=new a.$.Deferred,d={workId:""};b=a._.extend({},d,b);var e="?workId="+b.workId;return this.request2({url:"work/milestoneProgress"+e,type:"get"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},workSupervise:function(b){var c=new a.$.Deferred,d={workIds:"",content:"",isBatch:0};return b=a._.extend({},d,b),this.request2({url:"work/supervise",type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},externalUserData:function(b){var c=new a.$.Deferred,d={workId:""};return b=a._.extend({},d,b),this.request2({url:"work/externalUsers",type:"GET",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},editWorkExternal:function(b){var c={workId:"",isOpenExternal:""},b=a._.extend({},c,b),d="work/isopenexternal",e=new a.$.Deferred;return this.request2({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},copyMilepost:function(b){var c=new a.$.Deferred,d={workId:"",principalId:"",startDate:""};return b=a._.extend({},d,b),this.request2({url:"work/copyMilestones",type:"GET",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},copyTasks:function(b){var c=new a.$.Deferred,d={workId:"",principalId:"",startDate:"",StartNum:1,Count:20};return b=a._.extend({},d,b),this.request2({url:"work/copyTasks",type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},copySubTasks:function(b){var c=new a.$.Deferred,d={workId:"",parentFeedId:"",principalId:"",startDate:""};return b=a._.extend({},d,b),this.request2({url:"work/copySubTasks?",type:"GET",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},getCopyWorkInfo:function(b){var c=new a.$.Deferred,d={workId:""};return b=a._.extend({},d,b),this.request2({url:"work/copyWorkInfo",data:b,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},saveCopyWork:function(b){var c=new a.$.Deferred,d={workId:0,principalId:0,workInfo:{},isCopyMilestone:!0,milestones:[],copyTaskType:2,tasks:[]};return b=a._.extend({},d,b),this.request2({url:"work/saveCopyWork",data:b,type:"POST"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()}})}),define("collections/menu-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getHomePage:function(b){var c={toUser_id:""},b=a._.extend({},c,b),d="menu/homepage",e=new a.$.Deferred,f="?toUser_id="+b.toUser_id;return this.request({url:d+f,type:"GET"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getHomeLeft:function(b){var c={},b=a._.extend({},c,b),d="menu/home/left",e=new a.$.Deferred,f="";return this.request2({url:d+f,type:"GET"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()}})}),define("collections/setting-collection",["talent","collections/base-collection"],function(a,b){return b.extend({setAvatar:function(b){var c="Upload/AvatarV2",d=new a.$.Deferred,e={x:"",y:"",w:"",h:"",dfs_url:""};b=a._.extend({},e,b);var f="?x="+b.x+"&y="+b.y+"&w="+b.w+"&h="+b.h+"&dfs_url="+b.dfs_url;return this.request({url:c+f,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},resetAvatar:function(b){var c="Upload/RestoreAvatarV2",d=new a.$.Deferred,e={};return b=a._.extend({},e,b),this.request({url:c,type:"Get"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/profile-edit-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getEditInfo:function(b){var c={to_user_id:""},b=a._.extend({},c,b),d="user/geteditinfo",e=new a.$.Deferred;return this.request2({url:d,type:"GET",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},updateUserInfo:function(b){var c={userId:"",name:"",mobile:"",workPhone:"",position:"",qq:"",sex:"",address:"",weChat:""},d=new a.$.Deferred,b=a._.extend({},c,b),e="user/update";return this.request2({type:"PUT",url:e,data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d}})}),define("collections/assess-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getAssessShareUsers:function(b){var c={},d=new a.$.Deferred,b=a._.extend({},c,b),e="Assess/GetShareUsers";return this.request2({type:"Get",url:e}).done(function(a){d.resolve(a)}),d},addAssessShareUser:function(b){var c={toUserId:""},d=new a.$.Deferred,b=a._.extend({},c,b),e="Assess/AddAssessShareUser",f="?toUserId="+b.toUserId;return this.request2({type:"POST",url:e+f}).done(function(a){d.resolve(a)}),d},deleteAssessShareUser:function(b){var c={toUserId:"",type:1},d=new a.$.Deferred,b=a._.extend({},c,b),e="Assess/DelAssessShareUser",f="?toUserId="+b.toUserId+"&type="+b.type;return this.request2({type:"DELETE",url:e+f}).done(function(a){d.resolve(a)}),d},getUserAuthority:function(b){var c="Assess/getUserAuthority",d=new a.$.Deferred;return this.request2({url:c,type:"GET",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/customizequery-collection",["talent","collections/base-collection"],function(a,b){return b.extend({deleteCondition:function(b){var c={dataKey:"",pageId:""},b=a._.extend({},c,b),d="customizequery/condition/delete",e="?dataKey="+b.dataKey+"&pageId="+b.pageId,f=new a.$.Deferred;return this.request({url:d+e,type:"DELETE"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},getCondition:function(b){var c={dataKey:"",pageId:""},b=a._.extend({},c,b),d="customizequery/condition/get",e="?dataKey="+b.dataKey+"&pageId="+b.pageId,f=new a.$.Deferred;return this.request({url:d+e,type:"GET"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},saveCondition:function(b){var c={dataKey:"",pageId:0,status:"",startTime:"",endTime:"",departmentIds:"",userObjects:"",scope:"",categoryIds:"",sortType:""},b=a._.extend({},c,b),d="customizequery/condition/save",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},deleteSortCondition:function(b){var c={dataKey:"",pageId:""},b=a._.extend({},c,b),d="customizequery/sort/delete",e="?dataKey="+b.dataKey+"&pageId="+b.pageId,f=new a.$.Deferred;return this.request({url:d+e,type:"DELETE"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},saveSortCondition:function(b){var c={dataKey:"",pageId:0,status:"",startTime:"",endTime:"",departmentIds:"",userObjects:"",scope:"",categoryIds:"",sortType:""},b=a._.extend({},c,b),d="customizequery/sort/save",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()}})}),define("collections/customizequeryV2-collection",["talent","collections/base-collection"],function(a,b){return b.extend({deleteCondition:function(b){var c={pageId:""},b=a._.extend({},c,b),d="customizequery/tabletask/deletecondition",e="?pageId="+b.pageId,f=new a.$.Deferred;return this.request2({url:d+e,type:"DELETE"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},getCondition:function(b){var c={pageId:""},b=a._.extend({},c,b),d="customizequery/tabletask/getcondition",e="?pageId="+b.pageId,f=new a.$.Deferred;return this.request2({url:d+e,type:"GET"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},saveCondition:function(b){var c={status:"",userIds:"",scope:"",appIds:"",categoryIds:"",sortType:""},b=a._.extend({},c,b),d="customizequery/tabletask/savecondition",e="?pageId="+b.pageId,f=new a.$.Deferred;return this.request2({url:d+e,type:"POST",data:b}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},deleteSortCondition:function(b){var c={pageId:""},b=a._.extend({},c,b),d="customizequery/sort/delete",e="?pageId="+b.pageId,f=new a.$.Deferred;return this.request2({url:d+e,type:"DELETE"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},saveSortCondition:function(b){var c={pageId:0,sortType:""},b=a._.extend({},c,b),d="customizequery/tabletask/savesort",e=new a.$.Deferred,f="?pageId="+b.pageId;return this.request2({url:d+f,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()}})}),define("collections/project-progress-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getProgressOperation:function(b){var c={work_id:"",count:""},b=a._.extend({},c,b),d="Work/GetProgress",e="?work_id="+b.work_id+"&count="+b.count,f=new a.$.Deferred;return this.request({url:d+e,type:"GET"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},editProgress:function(b){var c={workId:"",progressDescription:"",progress:""},b=a._.extend({},c,b),d="Work/progress",e=new a.$.Deferred;return this.request2({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()}})}),define("collections/feed-channel-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getByChannelIdData:function(b){var c={channelId:"",startId:"",pageSize:"",commentCount:4,objId:""},b=a._.extend({},c,b),d="feedchannel/feeds",e="?channelId="+b.channelId+"&startId="+b.startId+"&pageSize="+b.pageSize+"&commentCount="+b.commentCount+"&objId="+b.objId+"&user_id="+b.to_user,f=new a.$.Deferred;return this.request({url:d+e,type:"get"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()},userFeedSearch:function(b){var c={type:"",content:"",start:"",count:20,comment_count:"4"},b=a._.extend({},c,b),d="user/feed/Search",e=new a.$.Deferred,f="";return this.request2({url:d+f,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},userFeedSearchV2:function(b){var c={content:"",channelId:"",startId:"",pageSize:20,commentCount:"4",appObj_id:""},b=a._.extend({},c,b),d="feedchannel/feeds/search",e=new a.$.Deferred,f="?content="+encodeURIComponent(b.content)+"&channelId="+b.channelId+"&startId="+b.startId+"&pageSize="+b.pageSize+"&commentCount="+b.commentCount+"&appObj_id="+b.appObj_id+"&user_id="+b.to_user;return this.request({url:d+f,type:"Get"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},feedSearchByUser:function(b){var c={searchUserId:"",searchType:"",channelId:"",startId:"",pageSize:20,commentCount:"4",appObj_id:""},b=a._.extend({},c,b),d="feedchannel/feeds/searchbyuserid",e=new a.$.Deferred,f="?channelId="+b.channelId+"&searchUserId="+b.searchUserId+"&searchType="+b.searchType+"&startId="+b.startId+"&pageSize="+b.pageSize+"&commentCount="+b.commentCount+"&appObj_id="+b.appObj_id;return this.request({url:d+f,type:"Get"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},searchGlobal:function(b){var c={pageNum:"",pageSize:"",commentCount:"",keywords:"",feedType:"",appId:"",userObjects:[],startDate:"",endDate:"",isExact:""},b=a._.extend({},c,b),d="feedchannel/feeds/searchglobal",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},commentCount:4,feedFount:20,getUserFeed:function(b){var c={type:"",start:"",feed_count:this.feedFount,comment_count:this.commentCount},b=a._.extend({},c,b),d="user/feed/Get",e=new a.$.Deferred,f="?type="+b.type+"&start="+b.start+"&feed_count="+b.feed_count+"&comment_count="+b.comment_count;return this.request2({url:d+f,type:"Get"}).done(function(c){26==b.type&&a._.each(c.feeds,function(a){a.isCollect=!0}),e.resolve(c)}).fail(function(a){e.reject(a)}),e},widgetSearch:function(b){var c={app_id:"",appObj_type:"",appObj_id:"",feed_type:"",startId:"",pageSize:20,commentCount:4},b=a._.extend({},c,b),d="feedchannel/widget/search",e="?app_id="+b.app_id+"&appObj_type="+b.appObj_type+"&appObj_id="+b.appObj_id+"&feed_type="+b.feed_type+"&startId="+b.startId+"&pageSize="+b.pageSize+"&commentCount="+b.commentCount,f=new a.$.Deferred;return this.request({url:d+e,type:"get"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()}})}),define("collections/planDailyV2Api-collection",["talent","collections/base-collection"],function(a,b){return b.extend({reportStatusV2:function(a){var b=new Talent.$.Deferred,c={date:"",reportType:"",isEdit:0,plantableId:""},a=Talent._.extend({},c,a),d="planDaily/reportStatusV2",b=new Talent.$.Deferred;return this.request2({url:d,type:"GET",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},getTaskOverView:function(a){var b=new Talent.$.Deferred,c={reportType:"",reportType:"",PlanTableId:"",planDailyType:0,FromLevel:1,ToLevel:2,StartDate:"",EndDate:"",IsPage:!0,StartNum:1,Count:20},a=Talent._.extend({},c,a),d="planDaily/taskOverView?reportType="+a.reportType;a.dailyId&&(d+="&dailyId="+a.dailyId),delete a.dailyId,delete a.reportType;var b=new Talent.$.Deferred;return this.request2({url:d,type:"POST",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},getSubTask:function(a){var b=new Talent.$.Deferred,c={reportType:"",PlanTableId:"",planDailyType:0,FromLevel:1,ToLevel:2,ParentTaskId:"",StartDate:"",EndDate:"",IsPage:!0,StartNum:1,Count:20},a=Talent._.extend({},c,a),d="planDaily/subTask?reportType="+a.reportType;a.dailyId&&(d+="&dailyId="+a.dailyId),delete a.dailyId,delete a.reportType;var b=new Talent.$.Deferred;return this.request2({url:d,type:"POST",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},submitDaily:function(a){var b=new Talent.$.Deferred,c={planDailyId:"",content:"",contentOnlyText:"",workPlan:"",workPlanOnlyText:"",remindUserIds:"",isSendEmail:"",visibility:2,fileUrls:"",objId:"",objType:"",dateTime:"",reportType:"",planTableId:"",otherDocuments:[]},a=Talent._.extend({},c,a),d="planDaily/add",b=new Talent.$.Deferred;return this.request2({url:d,type:"POST",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},getDailyInfo:function(a){var b=new Talent.$.Deferred,c={id:""},a=Talent._.extend({},c,a),d="planDaily/simpleInfo",b=new Talent.$.Deferred;return this.request2({url:d,type:"GET",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},detialRemind:function(a){var b=new Talent.$.Deferred,c={planDailyId:"",remindUserIds:[],isSendEmail:!1},a=Talent._.extend({},c,a),d="planDaily/remind",b=new Talent.$.Deferred;return this.request2({url:d,type:"POST",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},saveDraft:function(a){var b=new Talent.$.Deferred,c={reportType:"",date:"",content:"",workPlan:""},a=Talent._.extend({},c,a),d="planDaily/saveDraft",b=new Talent.$.Deferred;return this.request2({url:d,type:"POST",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()},getDraft:function(a){var b=new Talent.$.Deferred,c={reportType:"",date:""},a=Talent._.extend({},c,a),d="planDaily/getDraft",b=new Talent.$.Deferred;return this.request2({url:d,type:"GET",data:a}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b.promise()}})}),define("collections/plan-statistic-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getDepartmentListByObjType:function(b){var c={obj_type:"8"},b=a._.extend({},c,b),d="PlanStatistic/GetDepartmentListByObjType",e="?obj_type="+b.obj_type,f=new a.$.Deferred;return this.request({url:d+e,type:"get"}).done(function(a){f.resolve(a)}).fail(function(a){f.reject(a)}),f.promise()}})}),define("collections/approval-setting-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getApprovalTypeSetting:function(b){var c={obj_type:4},d=new a.$.Deferred,b=a._.extend({},c,b),e="approvalTypeSetting/get",f="?obj_type="+b.obj_type;return this.request({type:"Get",url:e+f}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getApprovalType:function(b){var c={obj_type:4},d=new a.$.Deferred,b=a._.extend({},c,b),e="approvalType/get",f="?obj_type="+b.obj_type;return this.request({type:"Get",url:e+f}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},getApprovalFlow:function(b){var c={obj_type:4},d=new a.$.Deferred,b=a._.extend({},c,b),e="approvalFlow/get",f="?obj_type="+b.obj_type;return this.request({type:"Get",url:e+f}).done(function(a){d.resolve(a)}),d},addApprovalTypeSetting:function(b){var c={obj_type:4},d=new a.$.Deferred,b=a._.extend({},c,b),e="approvalTypeSetting/add",f="?obj_type="+b.obj_type+"&labelId="+b.labelId+"&approval_types="+b.approval_types+"&flow_code="+b.flow_code;return this.request({type:"POST",url:e+f}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},deleteApprovalTypeSetting:function(b){var c={obj_type:4},d=new a.$.Deferred,b=a._.extend({},c,b),e="approvalTypeSetting/delete",f="?obj_type="+b.obj_type+"&labelId="+b.labelId+"&approval_types="+b.approval_types;return this.request({type:"POST",url:e+f}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d},updateApprovalTypeSetting:function(b){var c={obj_type:4,labelId:0,old_approval_types:1,new_approval_types:1,flow_code:"defaultapprovalflow"},d=new a.$.Deferred,b=a._.extend({},c,b),e="approvalTypeSetting/update",f="?obj_type="+b.obj_type+"&labelId="+b.labelId+"&old_approval_types="+b.old_approval_types+"&new_approval_types="+b.new_approval_types+"&flow_code="+b.flow_code;return this.request({type:"POST",url:e+f}).done(function(a){d.resolve(a)}).fail(function(a){
d.reject(a)}),d},getApprovalLabelFlowRelation:function(b){var c=new a.$.Deferred,d={obj_type:4,labelId:0,approval_type:48,objId:0,isReCreated:!1};b=a._.extend({},d,b);var e="approvalFlow/getApprovalLabelFlowRelation",f="?obj_type="+b.obj_type+"&labelId="+b.labelId+"&approval_type="+b.approval_type+"&isReCreated="+b.isReCreated+"&objId="+b.objId;return this.request({url:e+f,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()}})}),define("collections/approvalFlow-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getApprovalWindow:function(b){var c={objType:4,labelId:0,objId:0},d=new a.$.Deferred,b=a._.extend({},c,b),e="approvalFlow/GetApprovalWindow",f="?labelId="+b.labelId+"&objId="+b.objId+"&objType="+b.objType+"&approvalType="+b.approvalType+"&isReCreated="+b.isReCreated;return this.request({type:"Get",url:e+f}).done(function(a){d.resolve(a)}),d},getApprovalInfo:function(b){var c={objType:4,objId:0},d=new a.$.Deferred,b=a._.extend({},c,b),e="approvalFlow/GetApprovalInfo",f="?objId="+b.objId+"&objType="+b.objType;return this.request({type:"Get",url:e+f}).done(function(a){d.resolve(a)}),d}})}),define("collections/invite-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getInviteData:function(b){var c={},b=a._.extend({},c,b),d="userinvite/get",e=new a.$.Deferred;return this.request({url:d,type:"GET"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},sendInviteEmails:function(b){var c=new a.$.Deferred,d={emails:""},e="userinvite/inviteAccounts";return b=a._.extend({},d,b),this.request({url:e,type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},inviteAccountsByMobile:function(b){var c=new a.$.Deferred,d={workId:0,invitationType:2,invitions:[]};b=a._.extend({},d,b);var e="userinvite/inviteAccountsByMobile";return this.request({url:e,type:"POST",data:b}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},sendInviteEmailsByGroup:function(b){var c=new a.$.Deferred,d={groupEmail:"",type:1};b=a._.extend({},d,b);var e="userinvite/inviteGroup",f="?groupEmail="+b.groupEmail+"&type="+b.type;return this.request({url:e+f,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},removeInviteEmail:function(b){var c=new a.$.Deferred,d={invitedEmail:""};b=a._.extend({},d,b);var e="userinvite/delete",f="?invitedEmail="+b.invitedEmail;return this.request({url:e+f,type:"GET"}).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c}})}),define("collections/remind-collection",["talent","collections/base-collection"],function(a,b){return b.extend({_getDate:function(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate();return 10>c&&(c="0"+c),10>d&&(d="0"+d),b+"/"+c+"/"+d},getReminds:function(b){var c=new a.$.Deferred,d=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e=this._getDate();return d.open("GET",a.Context.getApiUrl("RemindV2/Get?dateTime=")+e,!0),d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){var a=JSON.parse(d.responseText);c.resolve(a)}},d.setRequestHeader("Accept","*"),d.setRequestHeader("Content-Type","application/json;charset=utf-8"),d.setRequestHeader("X-Beisen-ts",(new Date).getTime()),d.send(null),c.promise()}})}),define("collections/work-lotSize-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getTaskWithMileList:function(b){var c="Work/TaskBatch",d=new a.$.Deferred,e={work_id:0,startNum:1,count:20};return b=a._.extend({},e,b),c+="?work_id="+b.work_id,delete b.work_id,this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},getWorkSubTask:function(b){var c="Work/GetWorkSubTask",d=new a.$.Deferred,e={work_id:0,parent_id:0};return b=a._.extend({},e,b),c+="?work_id="+b.work_id+"&parent_id="+b.parent_id,this.request({url:c,type:"POST"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()},batchOperate:function(b){var c="work/task/BatchOperate",d=new a.$.Deferred,e={WorkId:0,TaskIds:[],operateType:0};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/manage-regations-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getRelations:function(b){var c={objSettingTypes:[11,24],setType:1},b=Talent._.extend({},c,b),d="WorkManageSetting/GetByObjSettingTypes",e=new a.$.Deferred;return d+="?setType="+b.setType+"&objSettingTypes="+b.objSettingTypes,this.request({url:d,type:"GET"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},postRegations:function(b){var c="WorkManageSetting/AddList",d=new a.$.Deferred,e={setType:1,isOpen:1,setting:[]};return b=a._.extend({},e,b),this.request({url:c,type:"POST",data:b}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/work-manage-setting-collection",["talent","collections/base-collection"],function(a,b){return b.extend({setTaskApplySet:function(b){var c={lableIds:"string",planApplySetTypes:"string",isOpenTaskApplySet:!0,scope:0},d="WorkManageSetting/SetTaskApplySet";b=a._.extend({},c,b);var e=new a.$.Deferred;return this.request({url:d,type:"post",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},getTaskApplySet:function(b){var c={scope:0},d="WorkManageSetting/GetTaskApplySet";b=a._.extend({},c,b);var e=new a.$.Deferred,f="?scope="+b.scope;return this.request({url:d+f,type:"get"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()}})}),define("collections/externalUser-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getQRCodeAndShortUrl:function(b){var c={workId:""},b=a._.extend({},c,b),d="external/GetQRCodeAndShortUrl",e=new a.$.Deferred;return this.request({url:d,type:"GET",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},addExistUser:function(b){var c={workId:"",addUserIdArr:[]},b=a._.extend({},c,b),d="external/AddExistUser?workId="+b.workId,e=new a.$.Deferred;return this.request({url:d,type:"POST",data:{"":b.addUserIdArr}}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},sendInvitation:function(b){var c={workId:"",invitationType:"",invitions:[]},b=a._.extend({},c,b),d="external/SendInvitation",e=new a.$.Deferred;return this.request({url:d,type:"POST",data:b}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},deleteUser:function(b){var c={workId:"",invitationName:""},b=a._.extend({},c,b),d="external/delete?workId="+b.workId+"&invitationName="+b.invitationName,e=new a.$.Deferred;return this.request({url:d,type:"DELETE"}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()}})}),define("collections/udesk-collection",["talent","collections/base-collection"],function(a,b){return b.extend({getUserToken:function(b){var c="GetUserToken",d=new a.$.Deferred;return this.request({url:c,type:"GET"}).done(function(a){d.resolve(a)}).fail(function(a){d.reject(a)}),d.promise()}})}),define("collections/discountcard-collection",["talent","collections/base-collection"],function(a,b){return b.extend({saleActivity:function(a){var b={},c=new Talent.$.Deferred,a=Talent._.extend({},b,a),d="sale/activity";return this.request({type:"Get",url:d}).done(function(a){c.resolve(a)}),c},discountCard:function(a){var b=new Talent.$.Deferred,c="user/discountCard",d={};return a=Talent._.extend({},d,a),this.request({url:c,type:"GET"}).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}),b}})}),require(["talent","collections/feed-group-collection","collections/feed-comment-collection","collections/project-group-collection","collections/user-list-collection","collections/task-list-collection","collections/file-list-collection","collections/plan-group-collection","collections/user-collection","collections/plan-tag-collection","collections/user-subordinate-collection","collections/plan-common-collection","collections/feed-attachment-collection","collections/schedule-list-collection","collections/indicator-collection","collections/project-detail-collection","collections/message-collection","collections/membership-group-collection","collections/remind-me-list-collection","collections/smember-group-collection","collections/staff-collection","collections/daily-collection","collections/document-collection","collections/bench-collection","collections/pay-collection","collections/home-collection","collections/evaluation-collection","collections/italent-collection","collections/sms-collection","collections/task-collection","collections/lable-collection","collections/work-hour-collection","collections/share-collection","collections/meet-collection","collections/report-collection","collections/note-collection","collections/apply-collection","collections/temp-storage-collection","collections/approval-collection","collections/resourceUI-collection","collections/customize-collection","collections/signin-collection","collections/tenant-collection","collections/work-table-colletion","collections/work-mile-stone-collection","collections/notify-collection","collections/work-tag-collection","collections/todo-collection","collections/wxpay-collection","collections/manage-collection","collections/work-v2-collection","collections/menu-collection","collections/setting-collection","collections/profile-edit-collection","collections/assess-collection","collections/customizequery-collection","collections/customizequeryV2-collection","collections/project-progress-collection","collections/feed-channel-collection","collections/planDailyV2Api-collection","collections/plan-statistic-collection","collections/approval-setting-collection","collections/approvalFlow-collection","collections/invite-collection","collections/remind-collection","collections/work-lotSize-collection","collections/manage-regations-collection","collections/work-manage-setting-collection","collections/externalUser-collection","collections/udesk-collection","collections/discountcard-collection"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){a.app.reqres.setHandler("Discountcard",function(a,b){var c=new qa;return c[b](a)}),a.app.reqres.setHandler("Invite",function(a,b){var c=new ja;return c[b](a)}),a.app.reqres.setHandler("ApprovalFlow",function(a,b){var c=new ia;return c[b](a)}),a.app.reqres.setHandler("ApprovalSetting",function(a,b){var c=new ha;return c[b](a)}),a.app.reqres.setHandler("Notify",function(a,b){var c=new T;return c[b](a)}),a.app.reqres.setHandler("Feed",function(a,c){var d=new b;return d[c](a)}),a.app.reqres.setHandler("Comment",function(a,b){var d=new c;return d[b](a)}),a.app.reqres.setHandler("Plan",function(a,b){var c=new h;return c[b](a)}),a.app.reqres.setHandler("Project",function(a,b){var c=new d;return c[b](a)}),a.app.reqres.setHandler("User",function(a,b){return e.instance||(e.instance=new e),e.instance[b](a)}),a.app.reqres.setHandler("File",function(a,b){var c=new g;return c[b](a)}),a.app.reqres.setHandler("Task",function(a,b){var c=new f;return c[b](a)}),a.app.reqres.setHandler("Users",function(a,b){var c=new i;return c[b](a)}),a.app.reqres.setHandler("PlanTag",function(a,b){var c=new j;return c[b](a)}),a.app.reqres.setHandler("UserSubordinate",function(a,b){var c=new k;return c[b](a)}),a.app.reqres.setHandler("PlanCommmon",function(a,b){var c=new l;return c[b](a)}),a.app.reqres.setHandler("Attachment",function(a,b){var c=new m;return c[b](a)}),a.app.reqres.setHandler("Schedule",function(a,b){var c=new n;return c[b](a)}),a.app.reqres.setHandler("Indicator",function(a,b){var c=new o;return c[b](a)}),a.app.reqres.setHandler("ProjectDetail",function(a,b){var c=new p;return c[b](a)}),a.app.reqres.setHandler("Message",function(a,b){var c=new q;return c[b](a)}),a.app.reqres.setHandler("Membership",function(a,b){return r.instance||(r.instance=new r),r.instance[b](a)}),a.app.reqres.setHandler("Remindme",function(a,b){return s.instance||(s.instance=new s),s.instance[b](a)}),a.app.reqres.setHandler("SMember",function(a,b){return t.instance||(t.instance=new t),t.instance[b](a)}),a.app.reqres.setHandler("Staff",function(a,b){return u.instance||(u.instance=new u),u.instance[b](a)}),a.app.reqres.setHandler("Xtcc",function(a,b){return XtccCollection.instance||(XtccCollection.instance=new XtccCollection),XtccCollection.instance[b](a)}),a.app.reqres.setHandler("Daily",function(a,b){return v.instance||(v.instance=new v),v.instance[b](a)}),a.app.reqres.setHandler("Document",function(a,b){return w.instance||(w.instance=new w),w.instance[b](a)}),a.app.reqres.setHandler("Bench",function(a,b){return x.instance||(x.instance=new x),x.instance[b](a)}),a.app.reqres.setHandler("Pay",function(a,b){return y.instance||(y.instance=new y),y.instance[b](a)}),a.app.reqres.setHandler("Home",function(a,b){return z.instance||(z.instance=new z),z.instance[b](a)}),a.app.reqres.setHandler("Evaluation",function(a,b){return A.instance||(A.instance=new A),A.instance[b](a)}),a.app.reqres.setHandler("Italent",function(a,b){return B.instance||(B.instance=new B),B.instance[b](a)}),a.app.reqres.setHandler("TaskCenter",function(a,b){return D.instance||(D.instance=new D),D.instance[b](a)}),a.app.reqres.setHandler("SMS",function(a,b){return C.instance||(C.instance=new C),C.instance[b](a)}),a.app.reqres.setHandler("Lable",function(a,b){return E.instance||(E.instance=new E),E.instance[b](a)}),a.app.reqres.setHandler("WorkHour",function(a,b){return F.instance||(F.instance=new F),F.instance[b](a)}),a.app.reqres.setHandler("Share",function(a,b){return G.instance||(G.instance=new G),G.instance[b](a)}),a.app.reqres.setHandler("Meet",function(a,b){return H.instance||(H.instance=new H),H.instance[b](a)}),a.app.reqres.setHandler("Report",function(a,b){return I.instance||(I.instance=new I),I.instance[b](a)}),a.app.reqres.setHandler("Note",function(a,b){return J.instance||(J.instance=new J),J.instance[b](a)}),a.app.reqres.setHandler("Apply",function(a,b){return K.instance||(K.instance=new K),K.instance[b](a)}),a.app.reqres.setHandler("TempStorage",function(a,b){return L.instance||(L.instance=new L),L.instance[b](a)}),a.app.reqres.setHandler("Approval",function(a,b){return M.instance||(M.instance=new M),M.instance[b](a)}),a.app.reqres.setHandler("ResourceUI",function(a,b){return N.instance||(N.instance=new N),N.instance[b](a)}),a.app.reqres.setHandler("Customize",function(a,b){return O.instance||(O.instance=new O),O.instance[b](a)}),a.app.reqres.setHandler("SignIn",function(a,b){return P.instance||(P.instance=new P),P.instance[b](a)}),a.app.reqres.setHandler("Tenant",function(a,b){return Q.instance||(Q.instance=new Q),Q.instance[b](a)}),a.app.reqres.setHandler("WorkTable",function(a,b){return R.instance||(R.instance=new R),R.instance[b](a)}),a.app.reqres.setHandler("WorkMile",function(a,b){return S.instance||(S.instance=new S),S.instance[b](a)}),a.app.reqres.setHandler("WorkTag",function(a,b){return U.instance||(U.instance=new U),U.instance[b](a)}),a.app.reqres.setHandler("Todo",function(a,b){return V.instance||(V.instance=new V),V.instance[b](a)}),a.app.reqres.setHandler("Wxpay",function(a,b){return W.instance||(W.instance=new W),W.instance[b](a)}),a.app.reqres.setHandler("Manage",function(a,b){return X.instance||(X.instance=new X),X.instance[b](a)}),a.app.reqres.setHandler("WorkV2",function(a,b){return Y.instance||(Y.instance=new Y),Y.instance[b](a)}),a.app.reqres.setHandler("Menu",function(a,b){return Z.instance||(Z.instance=new Z),Z.instance[b](a)}),a.app.reqres.setHandler("Setting",function(a,b){return $.instance||($.instance=new $),$.instance[b](a)}),a.app.reqres.setHandler("ProfileEdit",function(a,b){return _.instance||(_.instance=new _),_.instance[b](a)}),a.app.reqres.setHandler("Assess",function(a,b){return aa.instance||(aa.instance=new aa),aa.instance[b](a)}),a.app.reqres.setHandler("Customizequery",function(a,b){return ba.instance||(ba.instance=new ba),ba.instance[b](a)}),a.app.reqres.setHandler("CustomizequeryV2",function(a,b){return ca.instance||(ca.instance=new ca),ca.instance[b](a)}),a.app.reqres.setHandler("ProjectProgress",function(a,b){return da.instance||(da.instance=new da),da.instance[b](a)}),a.app.reqres.setHandler("Feedchannel",function(a,b){return ea.instance||(ea.instance=new ea),ea.instance[b](a)}),a.app.reqres.setHandler("PlanDailyV2",function(a,b){return fa.instance||(fa.instance=new fa),fa.instance[b](a)}),a.app.reqres.setHandler("PlanStatistic",function(a,b){return ga.instance||(ga.instance=new ga),ga.instance[b](a)}),a.app.reqres.setHandler("RemindAjax",function(a,b){return ka.instance||(ka.instance=new ka),ka.instance[b](a)}),a.app.reqres.setHandler("workLotSize",function(a,b){return la.instance||(la.instance=new la),la.instance[b](a)}),a.app.reqres.setHandler("ManageRegations",function(a,b){return ma.instance||(ma.instance=new ma),ma.instance[b](a)}),a.app.reqres.setHandler("workManageSetting",function(a,b){return na.instance||(na.instance=new na),na.instance[b](a)}),a.app.reqres.setHandler("externalUser",function(a,b){return oa.instance||(oa.instance=new oa),oa.instance[b](a)}),a.app.reqres.setHandler("UdeskApi",function(a,b){return pa.instance||(pa.instance=new pa),pa.instance[b](a)})}),define("collections/index",function(){}),define("routers/home/index-router",["talent"],function(a){return a.Router.extend({routes:{"home/feeds":"handler"},handler:function(){alert("handler")}})}),define("routers/index",["talent","routers/home/index-router"],function(a,b){a.app.addInitializer(function(){new b})}),define("helpers/context",["talent"],function(a){var b=BSGlobal.apiPath,c={},d={start:BSGlobal.start,getGlobal:function(a){return BSGlobal[a]},changeHash:function(b,c,d){var e=decodeURIComponent(location.hash),f=e.split("?"),g=a.Context.parseUrl(e),h=[],i="",j=c||[],k=d||!1;a._.extend(g,b);for(var l=0,m=j.length;m>l;l++)delete g[j[l]];for(var n in g)h.push(n+"="+g[n]);i=h.length?f[0]+"?"+h.join("&"):f[0],a.app.execute("history:navigate",i,k)},setPosition:function(b,c,d){var e=a.$("body"),f={parentEl:e,pos:"bottomRight",leftBias:0,topBias:0,boundingEl:e};d=a._.extend({},f,d);var g=d.parentEl,h=b.outerHeight(),i=b.outerWidth(),j=c.outerWidth(),k=c.outerHeight(),l=d.boundingEl,m=l.offset(),n=g.offset(),o={},p=b.position();switch(b==g&&(p={left:0,top:0}),d.pos){case"top":o={top:-k,left:-(j-i)/2};break;case"topLeft":o={top:-k,left:0};break;case"topRight":o={top:-k,left:i-j};break;case"bottom":o={top:h,left:-(j-i)/2};break;case"bottomLeft":o={top:h,left:0};break;case"bottomRight":o={top:h,left:i-j}}o.left+=p.left,o.top+=p.top,d.leftBias&&(o.left=o.left+d.leftBias),d.topBias&&(o.top=o.top+d.topBias),n.left+=o.left,n.top+=o.top,n.left<m.left?o.left+=m.left-n.left:n.left-m.left>l[0].scrollWidth-j&&(o.left-=n.left-m.left-(l[0].scrollWidth-j)),n.top<m.top?o.top+=m.top-n.top:n.top-m.top>l[0].scrollHeight-k&&(o.top-=n.top-m.top-(l[0].scrollHeight-k)),c.css(o)},setPosition:function(a,b,c){var d={container:Talent.$("body"),pos:"bottom",leftBias:0,topBias:0,autoFrames:"body"},c=Talent._.extend({},d,c),e=c.container||Talent.$("body"),f=e.offset(),g=a.offset(),h=a.outerHeight(),i=a.outerWidth(),j=b.outerWidth(),k=b.outerHeight(),l={},m="",n=g.top,o=g.left,p=n-f.top,q=o-f.left;switch(c.pos){case"top":l={top:p-k,left:q},m="bottom";break;case"topCenter":l={top:p-k,left:q+i/2-j/2},m="bottom";break;case"topRight":l={top:p-k,left:q+i-j},l.left<0&&(l.left=0),m="bottom";break;case"bottom":l={top:p+h,left:q},m="top";break;case"bottomCenter":l={top:p+h,left:q+i/2-j/2},m="top";break;case"bottomRight":l={top:p+h,left:q+i-j},l.left<0&&(l.left=0),m="top";break;case"left":l={top:p,left:q-j},m="right";break;case"leftCenter":l={top:p+h/2-k/2,left:q-j},m="right";break;case"leftBottom":l={top:p+h-k,left:q-j},m="right";break;case"right":l={top:p,left:q+i},m="left";break;case"rightCenter":l={top:p+h/2-k/2,left:q+i},m="left";break;case"rightBottom":l={top:p+h-k,left:q+i},m="left"}c.leftBias&&(l.left=l.left+c.leftBias),c.topBias&&(l.top=l.top+c.topBias);var r=Talent.$(window).height(),s=Talent.$(window).width(),t=Talent.$(document).scrollTop(),u=Talent.$(document).scrollLeft();if(f.top+l.top+k>r+t){var v=r+t-(f.top+l.top+k);l.top=l.top+v}if(f.top+l.top<t){var v=t-(f.top+l.top);l.top=l.top+v}if(f.left+l.left+j>s+u){var w=s+u-(f.left+l.left+j);l.left=l.left+w}if(f.left+l.left<u){var w=u-(f.left+l.left);l.left=l.left+w}b.css(l)},getLocalStorage:function(){if("object"==typeof localStorage)return localStorage;if("object"==typeof globalStorage)return globalStorage[location.host];throw new Error("local storage not available")},localStorage:function(){var a=window.localStorage,b={};return b.serialize=function(a){return JSON.stringify(a)},b.deserialize=function(a){if("string"==typeof a)try{return JSON.parse(a)}catch(b){return a||void 0}},b.set=function(c,d){return void 0===d?b.remove(c):(a.setItem(c,b.serialize(d)),d)},b.get=function(c,d){var e=b.deserialize(a.getItem(c));if(_.isNumber(d)&&_.isObject(e)&&!_.isEmpty(e)){var f=(new Date).getTime(),g=e.__setTime;_.isNumber(g)&&f-g>d&&(b.remove(c),e=void 0)}return e},b.remove=function(b){a.removeItem(b)},b.clear=function(){a.clear()},b.forEach=function(c){for(var d=0;d<a.length;d++){var e=a.key(d);c(e,b.get(e))}},b.getAll=function(){var a={};return b.forEach(function(b,c){a[b]=c}),a},{set:b.set,get:b.get,remove:b.remove,clear:b.clear,getAll:b.getAll}},deleteGlobalProp:function(a){delete BSGlobal[a]},setGlobal:function(a,b){BSGlobal[a]=b},setPageTitle:function(a){var b=location.hash.split("?")[0];if(a)document.title=this.decodeScript(a),c[b]=a;else{var d=c[b]||"tita";if(!d)return;document.title=this.decodeScript(c[b])}},getTenantInfo:function(){return BSGlobal.tenantInfo},getUserInfo:function(){return BSGlobal.loginUserInfo},getStaticUrl:function(a){var b=BSGlobal.staticPath;return b+"/"+a},getApiUrl:function(a){var c=this.getUserInfo().Id,d=this.getTenantInfo().Id;return b+"/api/v1/"+d+"/"+c+"/"+a},getApiUrlV2:function(a){var c=this.getUserInfo().Id,d=this.getTenantInfo().Id;return b+"/api/v2/"+d+"/"+c+"/"+a},getApiHost:function(){return b},getI18n:function(){var b={home_1:"动态",plan_1:"计划",work_1:"项目",document_1:"文件",workmate_1:"同事",app_1:"应用",task_1:"任务",task_2:"循环任务",schedule_1:"日程",share_1:"分享",sharing_1:"分享",follow_1:"立即关注",following_1:"正在关注",cancelfollow_1:"取消关注",myfollowmate_1:"我关注的",myfans_1:"我的粉丝",publishshare_1:"发分享",publishtask_1:"派任务",myfollowfeed_1:"与我相关",mypublishfeed_1:"我发表的",myleavefeed_1:"@我的",myreplayfeed_1:"回复我的",mycollectfeed_1:"我收藏的",myallfeed_1:"所有动态",message_1:"消息",remind_1:"提醒",myschedule_1:"我的日程",href_1:"常用链接",invitemate_1:"邀请同事",helpcenter_1:"帮助中心",onlineuser_1:"在线同事"},c={guide_1:"打开导览"};return BSGlobal&&BSGlobal.BSi18n?a._.extend({},BSGlobal.BSi18n,c):a._.extend({},b,c)},getWebUrl:function(a){return BSGlobal.titaHost+"/"+a},parseUrl:function(a){var b={};if(!a)return b;var c=a.indexOf("?");if(c>-1)for(var d=a.slice(c+1),e=d.split("&"),f=0;f<e.length;f++){var g=e[f].split("=");b[g[0]]=decodeURIComponent(g[1])}return b},getLoginUrl:function(){var a=this.getWebUrl("Account/LogIn");return a+"?ReturnUrl="+encodeURIComponent(location.href)},getLoading:function(){var a=(this.getStaticUrl("images/load_m.gif"),['<div class="_tt_loading_m">',"  加载中...","</div>"].join(""));return a},getModuleLoading:function(){var a=(this.getStaticUrl("images/load_m.gif"),['<div class="tt_module_loading_m">',"<span></span> 加载中...","</div>"].join(""));return a},removeModuleLoading:function(a){a&&a.length&&a.find(".tt_module_loading_m").remove()},getAttachmentType:function(a){return{image:["jpg","png","gif","jpeg","JPG","PNG","GIF","JPEG"],file:["rar","zip","exe","pdf","txt","doc","docx","ppt","pptx","XLS","XLSX","RAR","ZIP","EXE","PDF","TXT","DOC","DOCX","PPT","PPTX","XLS","XLSX"],music:["mp3","wma","wav","flac","ape","ogg","aac","m4a","MP3","WMA","WAV","FLAC","APE","OGG","AAC","M4A"],video:["mp4","mkv","rm","rmvb","avi","3gp","flv","wmv","asf","mpeg","mpg","mov","ts","m4v"]}},getEmptyTemplate:function(b,c){if(b){var d=a._.extend({},{className:""},c),e=b.replace(/<[^>].*?>/g,"").replace(/[&nbsp;]/g,"").length,f="content_emptyinit";e>24&&(f="small_content_emptyinit");var g=['<div class="tt_common_emptyinit '+d.className+'">','<div class="'+f+'">',b,"</div>","</div>"].join("");return g}},removeEmptyTemplate:function(a){a&&a.length&&a.find(".tt_common_emptyinit").remove()},packDialog:function(b,c){var d={arrowPos:"",sure:null,cancel:null,arrow:1},e=$.extend({},d,c);2==c.arrow?e.arrow=" arrow2":1==c.arrow&&(e.arrow="");var f=['<div class="_tt_dialog">','<div class="arrow '+e.arrowPos+e.arrow+'"></div>','<div class="content_dialog"></div>','<div class="uibutton">','<a href="javascript:void(0);" title="" class="btn btn-sure">确定</a>','<a href="javascript:void(0);" title="" class="btn btn-cancel">取消</a>',"</div>","</div>"];e.arrow===!1&&(f[1]=""),e.cancel||(f[5]=""),e.sure||(f[4]=""),e.cancel||e.sure||(f[3]="",f[4]="",f[5]="",f[6]="");var g=a.$(f.join(""));return g.find(".content_dialog").html(b),g},setMainRegionsHeight:function(b){var c=a.$("._tt_layout_tabnav").height(),d=a.$("#header-region").outerHeight(),e=a.$("#footer-region").outerHeight(),f=a.$("#main-region").outerHeight(),g=$(window).height()-d-e,h=g;a.$("._tt_layout_tabnav").length?(h=g>c?g:c,h=f>h?f:h):f>g&&(h=f),b.css({minHeight:h})},splicingUrl:function(a,b){var b=b||[],c=[];if(!b.length)return a;for(var d=0;d<b.length;d++){var e=encodeURIComponent(a[b[d]]);c.push(b[d]+"="+e)}return c.join("&")},decodeScript:function(a){return 0==a.length?"":(s=a.replace(/&lt;/g,"<"),s=s.replace(/&gt;/g,">"),s=s.replace(/&nbsp;/g," "),s=s.replace(/&apos;/g,"'"),s=s.replace(/&quot;/g,'"'),s=s.replace(/&amp;/g,"&"),s)},getAppName:function(a){var b={0:"tita",4:"工作",3:"团队",100:"iTalent",200:"内部推荐",203:"招聘",201:"入职帮帮",300:"Microsof CRM",400:"绩效管理",500:"继任发展",600:"客户支持",700:"会议预定",800:"够快存储",820:"IMO通讯"};if(a){var a=parseInt(a);return b[a]||""}return b},getData:function(b,c,d){if(!b)return void alert("url不存在");var e=a.$.Deferred(),b=a.Context.getApiUrl(b);return a.$.ajax({url:b,data:c,type:d||"Get"}).done(function(a){1==a.Code?e.resolve(a.Data):e.reject(a.Message)}),e.promise()},subString:function(a,b,c,d){for(var e=0,f="",g=/[^\x00-\xff]/g,h="",a=a||"",i=a.replace(g,"**").length,d=d||0,j=0;i>j&&(h=a.charAt(j).toString(),null!=h.match(g)?e+=2:e++,!(e+(i>b?d:0)>b));j++)f+=h;return c&&i>b&&(f+="…"),f},getStrLength:function(a){var b=/[^\x00-\xff]/g;return a.replace(b,"**").length},formatDate:function(a,b){var c=new Date(a),d={"M+":c.getMonth()+1,"d+":c.getDate(),"H+":c.getHours(),"m+":c.getMinutes(),"s+":c.getSeconds(),"q+":Math.floor((c.getMonth()+3)/3),S:c.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(c.getFullYear()+"").substr(4-RegExp.$1.length)));for(var e in d)new RegExp("("+e+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?d[e]:("00"+d[e]).substr((""+d[e]).length)));return b},getUploadOptions:function(b){var c=this.getGlobal("env"),d="tita.com";"develop"==c&&(d="tita-inc.com");var e={validate:{format:[],onceLimt:20,allLimt:-1,nameLimt:-1},callbackName:"jsCallback",url:a.Context.getApiUrl("Upload/PostFiles"),ajaxUrl:a.Context.getApiUrl("Upload/PostFiles?format=json"),fileInputName:"file_upload",extendData:{domain:"document.domain="+d},error:{error_allLimt:"文件超出最大限度",error_format:"文件格式不合法",error_nameLimt:"名字长度不合格"},isPaste:!0,isDrag:!0,callbackValue:"parent._callback_"};return b&&(e=a._.extend({},e,b)),e},useLocalStorage:function(){return!0},customModuleIsShow:function(){for(var b=a.Context.getGlobal("navigations")||{},c=b.titaHomeNavigation||[],d={},e=0;e<c.length;e++){var f=c[e],g=f.navigationValue,h=g.url.substr(1);d[h]=g.isUse}return d.task=d.plan,d.calendar=!1,d},IsOpenWorkMilePost:function(){var b=a.Context.getGlobal("navigations")||{},c=b.titaWorkDetailNavigation||[];if(0==c.length)return!1;var d=_.findWhere(c,{id:"36dc413a-8a56-4bf3-a516-df80fb40c9ca"});return d?d.navigationValue.isUse:!1},IsOpenYifangyun:function(){var b=a.Context.getGlobal("WebHead")||{},c=b.AppHead||[],d=_.findWhere(c,{AppId:"801"});return d?!0:!1},IsOpenApp:function(b){var c=a.Context.getGlobal("WebHead")||{},d=c.AppHead||[],e=Talent._.findWhere(d,{AppId:b});return e?!0:!1},_getXSSAjax:function(a,b,c){function d(){var a=document.domain.split("."),b=a.length;document.domain=a[b-2]+"."+a[b-1],$.getXSSAjaxLoaded=!0,$.ajaxPrefilter(function(a){var b=f.src.split("/").slice(0,3).join("/");0==a.url.indexOf(b)&&($.support.cors=!0,a.xhr=function(){var a=f.contentWindow;return a.XMLHttpRequest?new a.XMLHttpRequest:a.ActiveXObject?new a.ActiveXObject("Microsoft.XMLHTTP"):new a.XMLHttpRequest})});for(var c=0,d=$.getXSSAjaxCallbacks.length;d>c;c++){var e=$.getXSSAjaxCallbacks.pop();e&&e()}}$.getXSSAjaxCallbacks=$.getXSSAjaxCallbacks||[];var e="_bs_js_xss_"+c,f=document.getElementById(e);if(f)$.getXSSAjaxLoaded?b&&b():$.getXSSAjaxCallbacks.push(b);else{f=document.createElement("iframe"),f.id=e,f.style.display="none";var g=location.host,h=g.split("."),i=h.length,j=h[i-2]+"."+h[i-1],k="";k="//"+a+"."+j,c=c||k+"/iframe.html",f.src=c,f.attachEvent?f.attachEvent("onload",d):f.onload=d,$.getXSSAjaxCallbacks.push(b),document.body.appendChild(f)}},textMark:function(a,b,c){var d,e={divFlag:!0,divStr:"",markClass:"",markColor:"#c23934"},f=Talent._.extend({},e,c||{});d=f.markClass?'class="'+f.markClass+'"':'style="font-weight: bold; color:'+f.markColor+'"',a=Talent.$.trim(a);var g=[];f.divFlag?g=a.split(f.divStr):g.push(a);var h=function(a){var b=/[\^\.\\\|\(\)\*\+\-\$\[\]\?]/g,c={"^":"\\^",".":"\\.","\\":"\\\\","|":"\\|","(":"\\(",")":"\\)","*":"\\*","+":"\\+","-":"\\-",$:"$","[":"\\[","]":"\\]","?":"\\?"};return a=a.replace(b,function(a){return c[a]})},b=_.unescape(b);return Talent.$.each(g,function(a,c){var d=new RegExp(h(c),"g");d.test(b)&&(b=b.replace(d,"♂"+c+"♀"),test=1)}),b=_.escape(b),b=b.replace(/♂/g,"<span "+d+">").replace(/♀/g,"</span>")},skipToTmHome:function(a){var b,c,d=this.getGlobal("tm"),e=this.getGlobal("env");switch(a){case"employee":b=10361,c="//admin.tita.com/menuroute?menuId=10361&roleId="}return"Production"==e?d+"#widget"+encodeURIComponent("/italent?iTalentNavId="+b+"&iTalentFrameType=iframe&iTalentFrame="+encodeURIComponent(c)):d},getUserUrl:function(a){var b=this.getUserInfo();void 0==a&&(a=b.Id);var c=this.getGlobal("titaHost"),d=c+"/"+b.Id+"/PageBuilderForEdit#/view?to_user_id="+a,e=c+"/u/"+b.Id+"/Home#"+encodeURIComponent("widget/italent?iTalentFrameType=iframe&iTalentFrame="+encodeURIComponent(d));return e}};return a.Context=a._.extend({},d),a.Context}),function(a){"function"==typeof define&&define.amd?define("$.mousewheel",["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var e,f=b||window.event,g=[].slice.call(arguments,1),h=0,i=0,j=0,k=0,l=0;return b=a.event.fix(f),b.type="mousewheel",f.wheelDelta&&(h=f.wheelDelta),f.detail&&(h=-1*f.detail),f.deltaY&&(j=-1*f.deltaY,h=j),f.deltaX&&(i=f.deltaX,h=-1*i),void 0!==f.wheelDeltaY&&(j=f.wheelDeltaY),void 0!==f.wheelDeltaX&&(i=-1*f.wheelDeltaX),k=Math.abs(h),(!c||c>k)&&(c=k),l=Math.max(Math.abs(j),Math.abs(i)),(!d||d>l)&&(d=l),e=h>0?"floor":"ceil",h=Math[e](h/c),i=Math[e](i/d),j=Math[e](j/d),g.unshift(b,h,i,j),(a.event.dispatch||a.event.handle).apply(this,g)}var c,d,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],f="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(a.event.fixHooks)for(var g=e.length;g;)a.event.fixHooks[e[--g]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=f.length;a;)this.addEventListener(f[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=f.length;a;)this.removeEventListener(f[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({
mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),define("helpers/underscore",["talent","_","helpers/context","$.mousewheel","moment"],function(a,b,c,d,e){var f={};return $(document).on("splash",function(a,c){c||(c=location.hash.slice(1));var d=BSGlobal.start;BSGlobal.splashStart&&(d=BSGlobal.splashStart);var e=new Date-d;b.up("[splash] "+c,e)}),b.splash=function(a){$(document).trigger("splash",a)},b.alert=function(a){alert(a)},b.error=function(a){throw new Error(a)},b.dd=function(a){window.console&&console.log&&console.log(a)},b.time=function(a){f[a]=new Date},b.timeEnd=function(a){var c=new Date-(f[a]||0);delete f[a],b.up(a,c)},b.up=function(a,b,d){var e=c.getUserInfo().Id,f=c.getTenantInfo().Id,g=c.getGlobal("env"),h=c.getGlobal("appName"),i=0;if("Production"===g){void 0===d?(type=1,d=0,i=e+"-"+Math.round(1e3*Math.random())):type=2;var j="//opsapi.tita.com/opsapi/AddLog",k="?appName="+h+"&label="+encodeURIComponent(a)+"&uid="+e+"&tid="+f+"&time="+b+"&type="+type+"&sid="+i+"&step="+d+"&ts="+(new Date).getTime(),l=new Image;l.src=j+k;new Image,{pid:"tita",tid:f,uid:e,env:g,label:a,duration:b,ts:+new Date}}},b.upWindow=function(a,b,d){var e=c.getUserInfo().Id,f=c.getTenantInfo().Id,g=c.getGlobal("env"),h=c.getGlobal("appName"),i=0;if("Production"===g){void 0===d?(type=1,d=0,i=e+"-"+Math.round(1e3*Math.random())):type=2;var j=screen.width,k=screen.height,l="//opsapi.beisen.com/api/Performance",m="?appName="+h+"&label="+encodeURIComponent(a)+"&uid="+e+"&tid="+f+"&time="+b+"&type="+type+"&sid="+i+"&step="+d+"&winh="+k+"&winw="+j,n=new Image;n.src=l+m}},b.log=function(a,c){clearTimeout(b.log.timer);var d=b.log.lastDate||new Date,e=new Date;if(window.console){c=c||"null";var f=(e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds(),((e-d)/1e4).toString().slice(2)||"0000");console.log("[%s] %s:%s",f,c,a)}b.log.lastDate=e,b.log.timer=setTimeout(function(){delete b.log.lastDate},3e3)},b.formatDate=function(a,b){return a=a||"",0!=a.indexOf("/Date")?a:(b=b||"YYYY.MM.DD",e(new Date(a.replace("/\\/ig",""))).format(b))},b.formatStringDate=function(a,b){return b=b||"YYYY-MM-DD",(a=a||"")?e(new Date(a)).format(b):void 0},b.calChineseLen=function(a){a||(a="");for(var b=0,c="",d=/[^\x00-\xff]/g,e="",f=a.replace(d,"**").length,g=0;f>g&&(e=a.charAt(g).toString(),null!=e.match(d)?b+=2:b++,!(b>len));g++)c+=e;return f},b.substring=function(a,b,c){a||(a="");for(var d=0,e="",f=/[^\x00-\xff]/g,g="",h=a.replace(f,"**").length,i=0;h>i&&(g=a.charAt(i).toString(),null!=g.match(f)?d+=2:d++,!(d>b));i++)e+=g;return c&&h>b&&(e+="..."),e},b.substringWithM=function(a,b,c){a||(a="");for(var d=0,e="",f=/[^\x00-\xff]/g,g="",h=a.replace(f,"**").length,i=0;h>i&&(g=a.charAt(i).toString(),null!=g.match(f)?d+=2:"m"==g||"w"==g?d+=2:d++,!(d>b));i++)e+=g;return c&&h>b&&(e+="…"),e},b.isStringBeyondLength=function(a,b){var c=/[^\x00-\xff]/g,d=a.replace(c,"**").length;return d>b?!0:!1},b.preventMouseWheel=function(a){$(a).off("mousewheel.preventDefault"),$(a).on("mousewheel.preventDefault",function(a,b){b>0?this.scrollTop-=30:this.scrollTop+=30,a.preventDefault()})},b.evaluation=function(a,c){var d={1:"太棒了！",2:"干的不错！",3:"再接再厉！"},e={1:"yellow",2:"blue",3:"red"},f={1:"tu-icon-medal-solid",2:"tu-icon-like--solid",3:"tu-icon-heart-solid"},a=a||{},g={type:1,value:"",lvl:5,goal:2};a=b.extend({},g,a),a.value=parseInt(a.value),a.type=parseInt(a.type);var h=a.type;a.lvl||(a.lvl=5),a.goal||(a.goal=2);var i;if(1==h&&(i=['<span class="txt-green font20 obvious">',a.value,"&nbsp;</span>","分"].join("")),2==h&&(i=['<span class="grade">','<span class="txt-'+e[a.ctype]+'">','<span class="font18 '+f[a.ctype]+' ">',"</span>&nbsp;",d[a.ctype],"&nbsp;</span>","</span>"].join("")),c&&c.showStar&&1==h){var j=Math.floor(a.value/a.goal),k=['<span class="evaluation-star-list">',"","</span>"],l=0,m=Math.ceil(a.value/a.goal);j!=m&&(l=m);for(var n=1;n<=a.lvl;n++)j>=n?k[1]+='<span class="tu-icon-star-solid star active"></span>':l==n?k[1]+='<span class="tu-icon-star-half star active"></span>':k[1]+='<span class="tu-icon-star star"></span>';return'<span class="tt_evaluation">'+k.join("")+i+"</span>"}return'<span class="tt_evaluation">'+i+"</span>"},b.evaluationMedal=function(a,b){var c={1:"medal-grade-one",2:"medal-grade-two",3:"medal-grade-three"},d="<span class='"+c[a]+" active medal-result' data-index='"+a+"'><span class='icon icon-"+c[a]+" active'></span>"+b+"</span>";return d},b}),define("helpers/$",["talent","$","helpers/underscore"],function(a,b,c){function d(a){return-1==a.indexOf("http")&&(a=location.protocol+"//"+location.host+a),a}function e(a){a=a.toLowerCase();var b=/(webkit)[ \/]([\w.]+)/,c=/(opera)(?:.*version)?[ \/]([\w.]+)/,d=/(msie) ([\w.]+)/,e=/(mozilla)(?:.*? rv:([\w.]+))?/,f=b.exec(a)||c.exec(a)||d.exec(a)||a.indexOf("compatible")<0&&e.exec(a)||[];return{browser:f[1]||"",version:f[2]||"0"}}b(document).ajaxSend(function(a,b,e){var f=d(e.url),g="[ajax]["+e.type+"]"+f;c.time(g)}),b(document).ajaxSuccess(function(a,b,e){var f=d(e.url),g="[ajax]["+e.type+"]"+f;c.timeEnd(g)}),b(document).ajaxError(function(a,b,e,f){var g=d(e.url),h="[ajax]["+e.type+"]"+g;c.timeEnd(h),c.log(b.status+": "+b.statusText+": "+(f.message||":")+g,"ajaxError")}),b("body").on("beforeLoagPageView",function(){var a=b(BSGlobal.container).find("#main-region");a.length&&a.html('<div class="loginInitLoad pageInitLoad"><span class="logo_lil"></span><span class="load_lil"></span></div>')}),Talent.app.vent.on("route",function(a,b,c){BSGlobal.splashStart=new Date}),b.browser={},browserMatch=e(navigator.userAgent),browserMatch.browser&&(b.browser[browserMatch.browser]=!0,b.browser.version=browserMatch.version),b.browser.webkit&&(b.browser.safari=!0)}),define("helpers/dc",["talent","helpers/underscore","helpers/context"],function(a,b,c){$("body").on("render:main:start",function(){b.time("render:main")}),$("body").on("render:main:end",function(){b.timeEnd("render:main")});var d=a.Context.getGlobal("env");if("develop"!=d&&"Testing"!=d)try{var e=c.getUserInfo().Id,f=c.getTenantInfo().Id;$(document).mousedown(function(b){if(!(b.clientX>=$(window).width()||b.clientY>=$(window).height())){new Image;a.app.request("history:getFragments").done(function(a){({pid:"tita",uid:e,tid:f,page:a[0],fs:encodeURIComponent(a.join("/")),x:b.pageX,y:b.pageY,ww:$(window).width(),wh:$(window).height(),sl:$(document.body).scrollLeft(),st:$(document.body).scrollTop(),ts:+new Date}),{a:"tita",p:a[0],x:b.pageX,y:b.pageY,w:$("body").width()},new Image})}}),"performance"in window&&"timing"in window.performance&&setTimeout(function(){var a=window.performance.timing;({pid:"tita",uid:e,tid:f,sw:screen.width,sh:screen.height,ww:$(window).width(),wh:$(window).height(),ts:a.navigationStart,redirect:a.redirectEnd-a.redirectStart,dns:a.domainLookupEnd-a.domainLookupStart,connect:a.connectEnd-a.connectStart,request:a.responseStart-a.requestStart,response:a.responseEnd-a.responseStart,domReady:a.domContentLoadedEventStart-a.responseEnd,pageLoaded:a.loadEventStart-a.responseEnd,pageTotal:a.loadEventEnd-a.navigationStart}),new Image},5e3)}catch(g){}}),define("helpers/et",["talent"],function(a){var b=function(){var b=window.ET;b.beforeOnWinError=function(){return BSGlobal.env&&"PRODUCTION"===BSGlobal.env.toUpperCase()},b.getExtendEtParams=function(){return{applicationName:BSGlobal.appName||"www.tita.com",userId:a.Context.getUserInfo().Id,tenantId:a.Context.getTenantInfo().Id}},b.getFieldsFormatter=function(){return{message:function(b){var c="",d="";try{d=a.Context.getTenantInfo().Name,c=window.location.href}catch(e){}return b.pagePath=c,b.tenantName=d,JSON.stringify(b)},stackTrace:function(a){return[a].join("")}}}};window.ET?b():document.addEventListener?document.addEventListener("etOnload",function(){b()},!1):(document.documentElement.etOnload=0,document.documentElement.attachEvent("onpropertychange",function(a){"etOnload"==a.propertyName&&(b(),document.documentElement.detachEvent("onpropertychange",arguments.callee))}))}),define("helpers/talent",["talent"],function(a){a.IndexRouter=a.IndexRouter.extend({loadPageView:function(){var b=Backbone.history.getFragment();if(!b||"login"==b||"forget"==b){var c=BSGlobal.newNavigation||[],d=BSGlobal.upaasQuickEntry||[],e=this.options.entryPageId;if(c.length){var f=c[0];if(d.length&&(f=d[0]),e=f.href,f.children&&f.children.length>0){var f=f.children[0];e=f.href}var g="iTalentNavId="+f.id+(f.code&&""!=f.code?"&iTalentNavCode="+f.code:"");"iframe"==f.type?e="widget/italent?iTalentFrameType=iframe&"+g+"&iTalentFrame="+encodeURIComponent(e):"hash"==f.type&&(e+=e.indexOf("?")>0?"&"+g:"?"+g)}return Backbone.history.navigate(e,!0)}var h=this,i=this.getPageViewPath(),j=this.getPageViewPath(!0);$(document.body).trigger("beforeLoagPageView"),require([j],function(b){require([i],function(b){if(b){var c=new b({queryObject:h.getQueryObject(),fragments:h.getFragments()});window.name&&"grcw"==window.name&&(c.layout="master-layout"),c.getLayoutView(function(b){a.app.container.currentView===b&&b.refresh?b.refresh():a.app.container.show(b)})}})})}})}),define("helpers/index",["talent","helpers/context","helpers/underscore","helpers/$","helpers/dc","helpers/et","helpers/talent"],function(a,b){}),define("network/index",["talent","helpers/context"],function(a,b){function c(a){throw location.href=talent.Context.getLoginUrl(),new Error("401")}var d=a.$;d.ajaxSetup({converters:{"* mock":!0},headers:{"x-beisen-ajax":"1.0"},beforeSend:function(a,c){a.setRequestHeader("X-Beisen-ts",(new Date).getTime()),a.setRequestHeader("X-XSRF-Token",b.getGlobal("webApiToken"))},statusCode:{401:function(a){c()},230:function(){talent.app.vent.trigger("errortracker",230)}}}),d.ajaxTransport("mock",function(a,b,c){return{send:function(b,c){c(200,"success",{text:a.mockData[a.type]})}}}),Backbone.emulateHTTP=!0;var e=Backbone.sync;Backbone.sync=function(a,f,g){f.mockData&&(g.dataType="mock",g.mockData=f.mockData),f.url&&f.url.indexOf&&0!=f.url.indexOf("http://")&&(f.url=b.getApiUrl(f.url)),g.url&&0!=g.url.indexOf("http://")&&(g.url=b.getApiUrl(g.url));var h,i=g.success;g.success=function(a,b,d){var e=a.Code;1==e?i&&i(a.Data,b,d):(401==e&&c(),d.error&&d.error(h,b,a.message))},g.beforeSend=function(a){a.setRequestHeader("X-Beisen-ts",(new Date).getTime()),a.setRequestHeader("X-XSRF-Token",b.getGlobal("webApiToken"))};var j=new d.Deferred;return h=e.apply(Backbone,arguments),h.done(function(a){var b=a.Code;1==b?j.resolve(a.Data):(401==b&&c(),j.reject(h,a.message))}),h.fail(j.reject),j}}),define("templates/common",[],function(){return this.JST=this.JST||{},this.JST["common/apply/apply-batch"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<button class="btn btn-sure" data-name="sure-all">全部同意</button>\n<button class="btn btn-cancel" data-name="cancel-all">全部驳回</button>';return __p},this.JST["common/apply/apply-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="apply_detail"><div class="apply_left">\n    <div class="apply_date ',1==state&&(__p+="no_padding_bottom"),__p+='">\n        <span class="blue_date">'+(null==(__t=t_start_date)?"":__t)+"</span><span>"+(null==(__t=t_start_hour)?"":__t)+"</span>\n    </div>\n    ",1!=state&&(__p+='\n        <div class="apply_date no_bottom_padding bottom_position">\n            <span class="blue_date">',t_start_date!=t_end_date&&(__p+=null==(__t=t_end_date)?"":__t),__p+="</span><span>"+(null==(__t=t_end_hour)?"":__t)+"</span>\n        </div>\n    "),__p+="\n    ",1==state&&0==IsEditApplyAble&&(__p+='\n        <div class="apply_date no_bottom_padding">\n            <span class="blue_date"></span><span></span>\n        </div>\n    '),__p+='\n</div>\n<div class="apply_middel">\n    <div class="apply_status ',2==state?__p+="apply_ok":3==state&&(__p+="apply_refuse"),__p+='"></div>\n    ',1!=state?__p+='\n        <div class="apply_tree"></div>\n        <div class="apply_end"></div>\n    ':1==state&&0==IsEditApplyAble&&(__p+='\n        <div class="apply_tree"></div>\n        <div class="apply_end"></div>\n    '),__p+='  \n</div>\n<div class="apply_right">\n    <div class="apply_msg ',1==state&&(__p+="no_padding_bottom"),__p+='">'+(null==(__t=txtTemplate)?"":__t)+"</span></div>\n   ",1!=state?(__p+='\n        <div class="apply_msg no_bottom_padding position">'+(null==(__t=ApplyUser.Name)?"":__t)+"：<span>",__p+=2==state?"已同意":"已驳回",__p+="</span></div>\n   "):1==state&&0==IsEditApplyAble&&(__p+='\n        <div class="apply_msg no_bottom_padding position">待审批</div>\n   '),__p+="\n</div>\n",IsEditApplyAble&&1==state&&(__p+='\n    <div class="apply_item_edit">\n        <button class="btn btn-sure" data-name="sure-item">同意</button>\n        <button class="btn btn-cancel" data-name="cancel-item">驳回</button>\n    </div>\n'),__p+="\n</div>\n",3==state&&ApplyDescription&&(__p+='\n <div class="apply_refuse_content">驳回理由：<span>'+(null==(__t=ApplyDescription)?"":__t)+"</span></div>\n "),__p+="\n";return __p},this.JST["common/daiban-message-together/daiban-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="list_mll">\n   <div class="img_list">\n   		',User&&(__p+="\n   			"+(null==(__t=_.convertImage({className:"",src:User.avatar.Small,size:30,isExternal:2==User.userType,userId:User.userId,shape:"radius",name:User.name,bgColor:User.avatar.Color}))?"":__t)+"\n   		"),__p+='\n   		\n   </div>\n   <div class="text_list">\n		<span>\n			',User&&(__p+='\n   			<a class="name_ml" href="'+(null==(__t=titaHost)?"":__t)+"/u/"+(null==(__t=User.userId)?"":__t)+'" target="_blank">'+(null==(__t=User.name)?"":__t)+"</a>\n   		"),__p+='\n         <span class="sub-title">'+(null==(__t=subTitle)?"":__t)+'</span>\n			<span class="content_ml daiban">'+(null==(__t=content)?"":__t)+"</span>\n        ",isNewTemplate?(__p+="\n            ",__p+=isPush?'\n            <a href="javascript:void(0);" data-name="push" task-id="'+(null==(__t=objId)?"":__t)+'">'+(null==(__t=linkName)?"":__t)+"</a>\n            ":'\n            <a href="'+(null==(__t=url)?"":__t)+'" task-id="'+(null==(__t=objId)?"":__t)+'" target="_blank" >'+(null==(__t=linkName)?"":__t)+"</a>\n            ",__p+="\n         "):(__p+="\n            ",__p+=isPush?'\n            <a href="javascript:void(0);" data-name="push" task-id="'+(null==(__t=objId)?"":__t)+'">查看详情</a>\n            ':'\n            <a href="'+(null==(__t=url)?"":__t)+'" task-id="'+(null==(__t=objId)?"":__t)+'" target="_blank" >查看详情</a>\n            ',__p+="\n         "),__p+="\n        \n         <else>\n   	</span>\n         ",extendDatas&&extendDatas.length&&(__p+='\n            <ul class="message-extend tu-clearfix">\n               ',_.each(extendDatas,function(a){__p+='\n                  <li class="tu-fl tu-mr-5">\n                     ',a.label&&a.labelText&&(__p+="\n                       <span "+(null==(__t=a.hasLabelInfoTip?'data-body="'+a.labelText+'"':"")?"":__t)+" >"+(null==(__t=a.label)?"":__t)+"：</span>\n                     "),__p+="\n\n                     ",a.value&&a.valueText&&(__p+="\n                       <span "+(null==(__t=a.hasValueInfoTip?'data-body="'+a.valueText+'"':"")?"":__t)+" >"+(null==(__t=a.value)?"":__t)+"</span>\n                     "),__p+="\n                  </li>\n              "}),__p+="\n            </ul>\n         "),__p+='\n   		<div class="date_ml">'+(null==(__t=createDate)?"":__t)+"</div>\n   </div>\n</div>\n\n";return __p},this.JST["common/daiban-message-together/message-atReply-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="atReply__avater atReply__avater_top tu-fl tu-mr-10">\n         '+(null==(__t=_.convertImage({className:"",src:user.avatar.medium,size:50,shape:"radius",name:user.name,bgColor:user.avatar.color,userId:user.userId,isExternal:2==user.userType}))?"":__t)+'\n</div>\n<div class="atReply__main tu-ft_m1 tu-fl">\n    <div class="atReply__main-title tu-clearfix">\n        <div class="tu-fl">\n            <span class="tu-ft_c2 tu-font-a1 tu-mr-5">'+(null==(__t=user.name)?"":__t)+"</span>\n            ",__p+=2==messageType?'\n              <span class="tu-ft_m3 tu-font-a2">@了我</span>\n            ':'\n              <span class="tu-ft_m3 tu-font-a2">回复我</span>\n            ',__p+='\n        </div>\n        <div class="tu-fr tu-font-a2 tu-ft_m3">\n            <span>'+(null==(__t=createDate)?"":__t)+'</span>\n        </div>\n    </div>\n    <div class="atReply__main-content tu-mt-5">\n        <span class="tu-ft_m1">'+(null==(__t=content)?"":__t)+"</span>\n        ",attachments&&attachments.length&&(__p+='\n            <span class="tu-icon-cus-fujian tu-icon-a1 tu-pr-5 tu-mr-5 tu-ft_m3" data-body="有附件">'+(null==(__t=attachments.length)?"":__t)+"</span>\n        "),__p+='\n    </div>\n    <div class="atReply__main-feed tu-clearfix atReply__main-feed_radius tu-mt-5 tu-pt-5 tu-pb-5 tu-bg_m6 tu-cp" data-name="feed-detial">\n        <div class="atReply__avater_top tu-pl-15 tu-mr-10 tu-fl">\n            '+(null==(__t=_.convertImage({className:"",src:feedAvatar.avatarImg,size:30,shape:"radius",name:feed.user.name,bgColor:feedAvatar.avatarColor,isExternal:2==feed.user.userType}))?"":__t)+'\n        </div>\n        <div class="atReply__main-feed__wrap tu-fl">\n            <div class="tu-ft_m3 tu-font-a2">\n                ',__p+=_.isEmpty(feed.app)?"\n                    "+(null==(__t=feed.user.name)?"":__t)+"的"+(null==(__t=feedTypeMapping[feed.feedType])?"":__t)+"\n                ":"\n                    "+(null==(__t=feed.app.appName)?"":__t)+"\n                ",__p+='\n            </div>\n            <div class="tu-font-a2 atReply__main-feed__content">\n                ',1!=feed.feedType&&(__p+="\n                    "+(null==(__t=feedObj.name)?"":__t)+' \n                    <div class="tu-dib atReply__main-feed_string tu-bg_m3"></div>\n                '),__p+="\n                "+(null==(__t=feedObj.title)?"":__t)+'\n                <a class="tu-fr">查看详情</a>\n            </div>\n        </div>\n    </div>\n</div>';return __p},this.JST["common/daiban-message-together/message-compsite"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<ul class="list_ml"></ul>\n<!-- <div class="pagelist ">\n	<div class="pagination"></div>\n</div> -->\n\n';return __p},this.JST["common/daiban-message-together/message-layout"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="<!-- //全部消息下 -->\n",hasMessageSubNav&&(__p+=' \n	<div class="sub-tab-container tu-clearfix">\n		<div class="sub-tab">\n			<div data-name="message-sub" data-type="1" class="current tab-item '+(null==(__t=1==messageSubNav?"tu-ft_c2":"tu-ft_m3")?"":__t)+'">通知 '+(null==(__t=1==isRead&&allTotal>0?allTotal:"")?"":__t)+'</div>\n			<div data-name="message-sub"  data-type="2" class="history tab-item tu-ml-20 '+(null==(__t=2==messageSubNav?"tu-ft_c2":"tu-ft_m3")?"":__t)+'">@和回复我的 '+(null==(__t=1==isRead&&atReplyCount>0?atReplyCount:"")?"":__t)+"</div>\n		</div>\n	</div>\n"),__p+='\n<div class="list-container" data-name="list-container">\n	\n</div>\n<div data-name="pagination"></div>\n';return __p},this.JST["common/daiban-message-together/message-list"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<div class="list_mll tu-clearfix">\n   <div class="img_list">\n   		',user&&(__p+="\n   			"+(null==(__t=_.convertImage({className:"",src:user.avatar.Small,size:30,shape:"radius",name:user.name,bgColor:user.avatar.Color,userId:user.userId,isExternal:2==user.userType&&!isExternal}))?"":__t)+"\n   		"),__p+='\n   </div>\n   <div class="text_list">\n		<span>\n			   ',user&&(__p+='\n   			<a class="name_ml" href="'+(null==(__t=titaHost)?"":__t)+"/u/"+(null==(__t=user.userId)?"":__t)+'" target="_blank">'+(null==(__t=user.name)?"":__t)+"</a>\n   			"),__p+="\n            \n            ",isNewTemplate?__p+='\n            <span class="content_ml">'+(null==(__t=content)?"":__t)+"</span>\n            ":(__p+="\n               ",7==objType?(__p+='\n                  <span class="content_ml">'+(null==(__t=content)?"":__t)+"</span>\n                  ",isNew&&(__p+="\n                     ",__p+=isPush&&28!=messageType&&55!=messageType?'\n                        <a href="javascript:void(0);" task-id="'+(null==(__t=objId)?"":__t)+'" data-name="push">查看详情</a>\n                     ':'\n                        <a href="'+(null==(__t=url)?"":__t)+'" target="_blank">查看详情</a>\n                     ',__p+="\n                  "),__p+="\n                  ",28==messageType&&(__p+='\n                     <button class="thk-btn" data-name="thk-reward">谢赏~</button>\n                  '),__p+="\n               "):(__p+="\n         			",__p+=57==messageType?'\n         				<span class="content_ml">'+(null==(__t=content)?"":__t)+'</span> <span href="'+(null==(__t=lead_messageUrl)?"":__t)+'"  class="link-style enter_ml">查看</span>\n         			':58==messageType?'\n         				<span class="content_ml">'+(null==(__t=content)?"":__t)+'</span> <span href="'+(null==(__t=planDetailUrl)?"":__t)+'"  data-name="push"   class="link-style planDetail" planItemId="'+(null==(__t=objId)?"":__t)+'">查看</span>\n         			':62==messageType?'\n      				<span class="content_ml">'+(null==(__t=content)?"":__t)+'</span>\n      				<a href="'+(null==(__t=workUrl)?"":__t)+'">进入项目</a>\n         			':64==messageType?'\n                     <span class="content_ml">'+(null==(__t=content)?"":__t)+'</span> <a href="'+(null==(__t=host)?"":__t)+'#set?page_id=plan" target="_blank">查看</a>\n                  ':41!=messageType||isNew?28==messageType?'\n                     <span class="content_ml">'+(null==(__t=content)?"":__t)+'</span> <button class="thk-btn" data-name="thk-reward">谢赏~</button>\n         			':70==messageType||69==messageType?'\n                     <span class="content_ml">'+(null==(__t=content)?"":__t)+'</span> <a href="javascript:void(0);" daily-id="'+(null==(__t=objId)?"":__t)+'" data-name="daily-push" data-messageType="'+(null==(__t=messageType)?"":__t)+'">查看详情</a>\n                  ':22==messageType?'\n                     <span class="content_ml">'+(null==(__t=content)?"":__t)+'</span> <a href="javascript:void(0);" data-name="superior-rules" target="_blank">查看具体规定</a>\n\n                  ':'\n         				<span class="content_ml">'+(null==(__t=content)?"":__t)+"</span>\n         			":'\n         				<span class="content_ml">'+(null==(__t=content)?"":__t)+'</span> <a href="'+(null==(__t=host)?"":__t)+'#set?page_id=plan" target="_blank">查看</a>\n\n                  ',__p+="\n               "),__p+="\n            "),__p+='\n   		</span>\n   		<div class="date_ml">'+(null==(__t=createDate)?"":__t)+"</div>\n   </div>\n</div>\n\n";return __p},this.JST["common/daiban-message-together/message-main"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="\n\n",hasTitle&&"false"!=hasTitle&&(__p+='\n	<div class="tu-container-title">\n		<h2 data-name="page-title">\n			'+(null==(__t=currentPageTitle)?"":__t)+"\n		</h2>\n	</div>\n"),__p+='\n<div class="tt_messagepage">\n	<div class="msg-tab tu-clearfix">\n		<div class="daiban tab-item '+(null==(__t=1==isRead?"active":"")?"":__t)+'"  data-name="msg-tab" data-type="1">\n			<span class="lable">'+(null==(__t=1==messageType?"待处理":"未读")?"":__t)+'</span>\n			<span class="border"></span>\n		</div>\n				\n		<div class="message tab-item '+(null==(__t=2==isRead?"active":"")?"":__t)+'"  data-name="msg-tab" data-type="2">\n			<span class="lable">'+(null==(__t=1==messageType?"已处理":"已读")?"":__t)+'</span>\n			<span class="border"></span>\n		</div>\n	</div>\n\n	<div class="meslist">\n		\n	</div>\n</div>\n\n\n\n\n';return __p},this.JST["common/edit-daily/daily-date"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="date-title">'+(null==(__t=dailyState)?"":__t)+'日期</div>\n<div class="date-select">\n',8==reportType?__p+='\n	<div class="tu-input-default">\n	    <div class="input" data-id="day" data-name="date-component">\n	    	'+(null==(__t=date)?"":__t)+"&nbsp;&nbsp;"+(null==(__t="("+activeWeekday+")")?"":__t)+'\n	    </div>\n	    <div class="right-action tu-clearfix">\n	        <span class="tu-icon-sort-down"  data-name="date-component"></span>\n	    </div>\n	</div>\n':(__p+='\n	<div class="tu-input-default ',__p+=26==reportType?"week-report":"year-report",__p+='">\n	    <div class="input" data-id="year" data-name="dropdown">'+(null==(__t=activeObj.activeYear)?"":__t)+'</div>\n	    <div class="right-action tu-clearfix">\n	        <span class="tu-icon-sort-down" data-id="year" data-name="dropdown"></span>\n	    </div>\n	</div>\n\n	<div class="tu-input-default ',__p+=26==reportType?"week-report":"year-report",__p+='">\n	    <div class="input" data-id="month" data-name="dropdown">'+(null==(__t=activeObj.activeMonth)?"":__t)+'</div>\n	    <div class="right-action tu-clearfix">\n	        <span class="tu-icon-sort-down" data-id="month" data-name="dropdown"></span>\n	    </div>\n	</div>\n\n	',26==reportType&&(__p+='\n		<div class="tu-input-default week">\n	    	<div class="input" data-id="week" data-name="dropdown">'+(null==(__t=activeObj.activeWeek)?"":__t)+'</div>\n		    <div class="right-action tu-clearfix">\n		        <span class="tu-icon-sort-down" data-id="week" data-name="dropdown"></span>\n		    </div>\n		</div>\n	'),__p+="\n"),__p+="\n</div>\n";return __p},this.JST["common/edit-daily/daily-remind"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)DailyRemind&&(__p+='\n    <div class="remind-title">@ta查看</div>\n    <div class="remind-others" data-name="remind-others"></div>\n    '),__p+="\n";return __p},this.JST["common/edit-daily/daily-visibility"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="daily-title">可见范围</div>\n<div class="visible-items">\n	<a href="javascript:void(0)" class="visible-item tu-font-a2" data-visible="2" data-name="visible-handle"><span class="tu-icon-singlebox-'+(null==(__t=2==visibility?"avtive":"have")?"":__t)+'"></span>私密</a>\n\n	',showDepartment&&(__p+='\n	<a href="javascript:void(0)" class="visible-item tu-font-a2" data-visible="department" data-name="visible-handle"><span class="tu-icon-singlebox-'+(null==(__t=3==visibility?"avtive":"have")?"":__t)+'"></span>仅部门可见</a>\n	'),__p+='\n	\n	<a href="javascript:void(0)" class="visible-item tu-font-a2" data-visible="1" data-name="visible-handle"><span class="tu-icon-singlebox-'+(null==(__t=1==visibility?"avtive":"have")?"":__t)+'"></span>公开</a>\n</div>';return __p},this.JST["common/edit-daily/edit-content"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="editorsummary-containter">\n	<div class="containter">\n		<div class="title tu-font-h4">\n			总结与障碍\n			<span class="full-screen tu-icon-enlarge" data-toggle="infotip" data-body="写的不爽？点击全屏填写" data-type="editorsummary" data-name="full-screen"></span>\n		</div>\n		<div class="edit-containter">\n			<div id="edit-summary" class="editor-style" tabindex="-1">'+(null==(__t=content)?"":__t)+'</div>\n		</div>\n	</div>\n	<div class="error-tip tu-font-a2" data-name="error-tip">您已输入 <span data-name="extraWords"></span> 个字，最多可输入4000字</div>\n</div>\n\n<div class="editorplan-containter">\n	<div class="containter">\n		<div class="title tu-font-h4">\n			下一步工作安排\n			<span class="full-screen tu-icon-enlarge" data-toggle="infotip" data-body="写的不爽？点击全屏填写" data-type="editorplan" data-name="full-screen"></span>\n		</div>\n		<div class="edit-containter">\n			<div id="edit-plan" class="editor-style" tabindex="-1" autofocus="false">'+(null==(__t=workPlan)?"":__t)+'</div>\n		</div>\n	</div>\n	<div class="error-tip tu-font-a2" data-name="error-tip">您已输入 <span data-name="extraWords"></span> 个字，最多可输入4000字</div>\n</div>\n\n\n';return __p},this.JST["common/edit-daily/edit-daily-main"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="edit-warp">\n	<div data-name="daily-date" class="daily-date"></div>\n	<div data-name="work-scan"></div>\n	<div data-name="edit-containter"></div>\n	',editEnable||(__p+='\n	<div data-name="upload"></div>\n	'),__p+='\n	<div class="visible" data-name="visible">\n		\n	</div>\n	',editEnable||(__p+='\n	<div data-name="remind-containter" class="remind-containter">\n		\n	</div>\n	'),__p+="\n</div>";return __p},this.JST["common/edit-daily/remind-others-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="undefined"!=typeof type&&"department"==type?'\n	<a data-toggle="infotip" data-body="删除 '+(null==(__t=name)?"":__t)+'" class="del-item tu-icon-close" data-id="'+(null==(__t=id)?"":__t)+'" data-name="del-item" href="javascript:;">\n	</a>\n	'+(null==(__t=_.convertImage({className:"radius_img30 img_hover",src:"",size:30,shape:"radius",name:name,bgColor:"#7890BD"}))?"":__t)+"\n	 \n":'\n	<a data-toggle="infotip" data-body="删除 '+(null==(__t=Name)?"":__t)+'" class="del-item tu-icon-close" data-id="'+(null==(__t=Id)?"":__t)+'" data-name="del-item" href="javascript:;">\n	</a>\n		'+(null==(__t=_.convertImage({className:"radius_img30 img_hover",src:UserAvatar.Small,size:30,shape:"radius",name:Name,bgColor:UserAvatar.Color}))?"":__t)+"\n";return __p},this.JST["common/edit-daily/remind-others"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tu-input-default tu-input-add">\n    <div class="staff-cntainter">\n        <button class="tu-btn tu-btn-mini tu-btn-add tu-icon-add" data-name="add-staff"></button>\n        <ul class="tu-scroll">\n        </ul>\n    </div>\n    <div class="right-action tu-clearfix">\n        <span class="tu-icon-cross" data-name="del-allstaff" data-toggle="infotip" data-body="清除全部"></span>\n    </div>\n</div>\n<a class="send-emial '+(null==(__t=isSendEmail?"tu-icon-check-active":"tu-icon-checkbox-have")?"":__t)+'" data-name="send-emial">\n	同时向ta发送邮件\n</a>';return __p},this.JST["common/edit-daily/upload-file"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<dt class="daily-title">上传附件</dt>\n<dd class="upload-file uploader_container tu-font-a2">\n	<a href="javascript:void(0)" data-name="file"></a>\n	<div id="attachmentViewBox_homeMblog" class="error_container"></div>\n	<div id="attachmentViewBox_homeMblog" class="preview_container"></div>\n	<div id="attachmentViewBox_homeMblog" class="loading_container"></div>\n</dd>';return __p},this.JST["common/edit-daily/work-scan/daily-work-scan"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)allTotal&&isMore||(__p+='\n	<div class="scan-header">\n		',allTotal&&(__p+='\n		<a class="task-more tu-icon-arrow-'+(null==(__t=isMore?"up":"down")?"":__t)+'" data-name="task-more">查看详情</a>\n		'),__p+='\n		<div class="task-amount">\n			',_.each(collection,function(a){__p+='\n				<div class="task-amount-item">\n					<span class="item-title tu-font-h4">'+(null==(__t=a.name)?"":__t)+'</span>\n					<span class="tu-font-h3 item-amount  '+(null==(__t=1==a.type?"delay-amount":2==a.type?"finish-amount":"doing-amount")?"":__t)+" "+(null==(__t=a.total?"":"empty-amount")?"":__t)+'">'+(null==(__t=a.total)?"":__t)+"</span>\n					",3==a.type&&(__p+='\n						<a href=" http://blog.tita.com/?p=1327" target="_blank" class="tu-icon-wiki wiki"></a>\n					'),__p+="\n				</div>\n			"}),__p+="\n\n		</div>\n	</div>\n"),__p+='\n\n<div class="tu-scroll task-containter '+(null==(__t=allTotal&&isMore?"show":"hide")?"":__t)+'" data-name="task-container">\n	<a class="task-more tu-icon-arrow-'+(null==(__t=isMore?"up":"down")?"":__t)+'" data-name="task-more">收起</a>\n	<div class="task-list-containter">\n		\n	</div>\n</div>\n\n';return __p},this.JST["common/edit-daily/work-scan/task-class-composite"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)total&&(__p+='\n	<div data-name="finishplan-containter" class="plan-containter">\n		<div class="tu-font-h4">\n			'+(null==(__t=name)?"":__t)+'\n			<span class="tu-font-h3 item-amount '+(null==(__t=total?"":"empty-amount")?"":__t)+" "+(null==(__t=1==type?"delay-amount":2==type?"finish-amount":"doing-amount")?"":__t)+'">'+(null==(__t=total)?"":__t)+'</span>\n		</div>\n	</div>\n	<div class="tt_classlist"></div>\n	',
hasShowMore&&(__p+='\n		<div class="show-more tu-font-a2" data-name="showmore">\n			<a href="javascript:void(0);"  class="text_fsm">\n				点击查看更多 <span class="tu-icon-arrow-down"></span>\n			</a>\n		</div>\n	'),__p+="\n"),__p+="\n";return __p},this.JST["common/edit-daily/work-scan/task-class-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="task-class-name tu-font-a2 ',4==labType&&(__p+="sys-icon-xiangmu"),__p+='">'+(null==(__t=fullLabName)?"":__t)+'</div>\n<ul class="task-list">\n	\n</ul>\n';return __p},this.JST["common/edit-daily/work-scan/task-list-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="task-list-li">\n		<!-- 层级大于一会出现加号或者点 -->\n		',level>1&&(__p+="\n			",__p+=hasSubTask?'\n				<a href="javascript:void(0)" data-name="show-sub" class="has-sub tu-icon-open"></a>\n			':'\n				<span class="no-sub">●</span>\n			',__p+="\n		"),__p+="\n\n		",1==level&&collection&&collection.length&&(__p+='\n			<a href="javascript:void(0)" data-name="show-children" class="has-sub tu-icon-pack-up"></a>\n		'),__p+='	\n	<div class="task-content">\n		<a href="/u/'+(null==(__t=userId)?"":__t)+"/Home#more/taskinfo?id="+(null==(__t=taskId)?"":__t)+'" class="task-name tu-font-a1 '+(null==(__t=isExpire?"expire-task":"")?"":__t)+'" target="_blank">'+(null==(__t=taskName)?"":__t)+"</a>\n		",hasTimeIco&&(__p+='\n			<span class="finish-state '+(null==(__t=finishState?"nomal-icon":"delay-icon")?"":__t)+'">'+(null==(__t=finishState?"按期":"延期")?"":__t)+"</span>\n		"),__p+="\n		",hours&&(__p+='\n			<span class="work-hours">'+(null==(__t=hours)?"":__t)+"h</span> \n		"),__p+='\n	</div>\n	\n	<div class="experiences">\n		',_.each(experiences,function(a){__p+='\n			<div class="experience-item">\n				<div class="experience-content">'+(null==(__t=a.Content)?"":__t)+"</div>\n			</div>\n		"}),__p+='\n	</div>\n</div>\n<ul data-name="child-list-wraper" class="child-list-wraper">\n	\n</ul>\n';return __p},this.JST["common/empty"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="content_emptyinit">\r\n		<div class="className">'+(null==(__t=emptyContext)?"":__t)+"</div>\r\n</div>";return __p},this.JST["common/enter-admin-center"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)!isUserManager&&!isUpaas||isOpen830||isOpen908||(__p+='\n	<div class="bench-basic-modules">\n		<div class="title_bbm">\n			<div class="left_bbm">\n				<span class="name_bbm">企业管理后台</span>\n			</div>\n            <a href=" http://blog.tita.com/?p=1071" class="tu-icon-wiki bbm-icon-wiki" target="_blank"></a>\n		</div>\n		<div class="enter-tm">\n            <div class="enter-tm__intro">\n                <div class="enter-tm__intro-item"><span class="enter-tm__intro-icon tu-icon-organization"></span>管理组织架构</div><!--\n                --><div class="enter-tm__intro-item"><span class="enter-tm__intro-icon tu-icon-assigner"></span>管理员工信息</div><!--\n                --><div class="enter-tm__intro-item"><span class="enter-tm__intro-icon tu-icon-illustration"></span>授权管理员</div><!--\n                --><div class="enter-tm__intro-item"><span class="enter-tm__intro-icon tu-icon-monny-info"></span>购买增值服务</div>\n            </div>\n                \n            <a href="'+(null==(__t=TmUrl)?"":__t)+'" class="tu-btn tu-btn-small tu-btn-sure enter-tm__btn" target="_blank">进入管理后台</a>\n		</div>\n	</div>\n    \n'),__p+='\n\n  <!--   <a href="'+(null==(__t=CalendarUrl)?"":__t)+'" class="a-link-block" target="_blank">\n        <div class="invite-more clearfix">\n            <img src="'+__e(Talent.Context.getStaticUrl("images/work-calendar-V2.png"))+'" alt="任务日历">\n            <div class="text">\n                <div class="invite-text">\n                    任务日历\n                </div>\n                <div class="desc-text">\n                    按日历模式查看任务\n                </div>\n            </div>\n            <span class="icon-arrow-right"></span> \n        </div>\n    </a> -->\n',Talent.Context.getGlobal("tenantInfo").IsAuth&&(__p+='\n    <!-- <a href="/u/'+(null==(__t=Talent.Context.getUserInfo().Id)?"":__t)+'/Invite/InviteMoreIndex" class="a-link-block"> -->\n    <a href="'+(null==(__t=url)?"":__t)+'" class="a-link-block">\n        <div class="invite-more clearfix">\n            <img src="'+__e(Talent.Context.getStaticUrl("images/invite-colleagues.png"))+'" alt="邀请同事">\n            <div class="text">\n                <div class="invite-text">\n                    邀请同事\n                </div>\n                <div class="desc-text">\n                    开启团队协作模式\n                </div>\n            </div>\n            <span class="icon-arrow-right"></span> \n        </div>\n    </a>\n'),__p+="\n",IsShow&&ReportRole&&(__p+='\n    <a href="'+(null==(__t=ReportUrl)?"":__t)+'" class="a-link-block">\n        <div class="invite-more clearfix">\n            <img src="'+__e(Talent.Context.getStaticUrl("images/view-operational-reports.png"))+'" alt="查看运营报表">\n            <div class="text">\n                <div class="invite-text">\n                    查看运营报表\n                </div>\n                <div class="desc-text">\n                    检测员工活跃程度\n                </div>\n            </div>\n            <span class="icon-arrow-right"></span> \n        </div>\n    </a>\n'),__p+="\n",IsManager&&IsShow&&IsShowDueRemind&&IsUseTitaManage&&(__p+='\n<div class="tt_duetoremind">\n	<dl class="cont_dtr">\n		<dt><span>剩余</span> <span class="num_dtr">'+(null==(__t=tenantAuthentication.Day)?"":__t)+"</span> <span>天</span></dt>\n		<dd>试用到期时间："+(null==(__t=tenantAuthentication.DeadLine)?"":__t)+'</dd>\n	</dl>\n	<a href="#more/pay?package_id=F66281C3-A2E8-4429-8EE9-2830C74E4F0E&from=fromdue" title="" class="btn btn-sure">立即购买</a>\n</div>\n');return __p},this.JST["common/error-tracker"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="noaccess clearfix">\n	<div class="img_na"></div>\n	<div class="text_ma">\n		<div class="workhi_tma">\n			<br/><br/>\n			'+(null==(__t=content)?"":__t)+"\n		</div>\n		",subContent&&(__p+='\n		<div class="reason_tma">'+(null==(__t=subContent)?"":__t)+"</div>\n		"),__p+="\n	</div>\n</div>";return __p},this.JST["common/feed-tab/feed-tab-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<a href="javascript:void(0);" data-trigger="false" class="item-a">\n	<span data-name="title" class="name" >'+(null==(__t=name)?"":__t)+"</span>\n	\n	",1==id?__p+='\n	<span class="red-remind" data-name="feed-aboutme-indicator"></span>\n	':50==id&&(__p+='\n	<span class="red-remind" data-name="feed-all-indicator"></span>\n	'),__p+="\n\n	",1==type&&(__p+='\n	<span style="display: inline-block;width: 8px;"></span>\n	'),__p+="\n</a>\n",1==type&&(__p+='\n	<span data-name="dropdown" class="dropdown-btn"  id="'+(null==(__t=id)?"":__t)+'"><span class="tu-icon-sort-down"></span></span>\n');return __p},this.JST["common/feed-tab/feed-tab-list"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)channel&&(__p+='\n<div data-name="feed-tab"></div>\n'),__p+='\n<div data-name="feed-tag-list"></div>\n<div data-name="feed-list" class="feed-list-container"></div>\n<div data-name="feed-list-empty"></div>\n';return __p},this.JST["common/feed-tab/feed-tab-old"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n<ul class="nav_tabs" data-name="feed-nav">\n	<li data-name="aboutme-all" class="item">\n		<a href="'+(null==(__t=hash)?"":__t)+'feedType=aboutme-all" class="item-a" data-trigger="false"><span class="name">'+(null==(__t=i18n.myfollowfeed_1)?"":__t)+'</span></a>\n		<span class="red-remind" data-name="feed-aboutme-indicator"></span>\n	</li>\n	<li class="item">\n		<a href="'+(null==(__t=hash)?"":__t)+'feedType=department"  class="item-a" data-trigger="false"><span class="name">部门动态</span></a>\n		<span class="red-remind" data-name="feed-department-indicator"></span>\n	</li>\n	<li class="item">\n		<a href="'+(null==(__t=hash)?"":__t)+'feedType=all"  class="item-a" data-trigger="false"><span class="name">'+(null==(__t=i18n.myallfeed_1)?"":__t)+'</span></a>\n		<span class="red-remind" data-name="feed-all-indicator"></span>\n	</li>\n</ul>\n<div data-name="feed-search" class="feed-search"></div>\n<ul class="sub-tab-nav tu-cleafix" data-name="feed-sub-nav">\n	<li class="active"><a href="'+(null==(__t=hash)?"":__t)+'feedType=aboutme-all"  data-trigger="false">所有</a></li>\n	<li><a href="'+(null==(__t=hash)?"":__t)+'feedType=aboutme-replyme" data-trigger="false">'+(null==(__t=i18n.myreplayfeed_1)?"":__t)+'</a></li>\n	<li><a href="'+(null==(__t=hash)?"":__t)+'feedType=aboutme-tome" data-trigger="false">'+(null==(__t=i18n.myleavefeed_1)?"":__t)+'</a></li>\n	<li><a href="'+(null==(__t=hash)?"":__t)+'feedType=aboutme-fromme" data-trigger="false">'+(null==(__t=i18n.mypublishfeed_1)?"":__t)+'</a></li>\n	<li><a href="'+(null==(__t=hash)?"":__t)+'feedType=aboutme-collect" data-trigger="false">'+(null==(__t=i18n.mycollectfeed_1)?"":__t)+"</a></li>\n</ul>";return __p},this.JST["common/feed-tab/feed-tab-sub-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="dropdown"==level?'\n	<span data-trigger="false" data-name="title">'+(null==(__t=name)?"":__t)+"</span>\n":'\n	<a href="javascript:void(0);" data-trigger="false" data-name="title">'+(null==(__t=name)?"":__t)+"</a>\n";return __p},this.JST["common/feed-tab/feed-tab-sub"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="',"dropdown"==level&&(__p+="tu-dropdown-menu"),__p+='"></ul>\n',"dropdown"!=level&&(__p+='<div class="tu-nav-content"></div>'),__p+="\n";return __p},this.JST["common/feed-tab/feed-tab"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tu-tabbable-line">\n	<ul class="tu-nav-tabs " data-name="feed-nav"></ul>\n	<div class="tu-nav-content"></div>\n</div>\n<div class="feed-search-container">\n	<div data-name="feed-search" ></div>\n	<div class="feed-search-by-user tu-ft_m2 tu-vam tu-tac tu-font-a2" data-name="feed-search-by-user">\n		如需查找 ta 发布的 <a href="javascript:void(0);" data-name="search-by-user">点击这里</a>\n	</div>\n</div>\n\n\n\n\n';return __p},this.JST["common/feed/feed-actions/more"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="list_mafed" style="overflow:hidden;">\r\n	',DetailUrl&&!NoMoreByLimits&&(__p+='\r\n	<li><a href="'+(null==(__t=DetailUrl)?"":__t)+'" hidefocus="true" class="detail_lmafed" target="_blank">查看详情</a></li>\r\n	'),__p+="\r\n	",Editable&&(__p+='\r\n	<li><a href="javascript:void(0);" hidefocus="true" class="del_lmafed" feed-id = "'+(null==(__t=FeedId)?"":__t)+'" comment-id="'+(null==(__t=CommentId)?"":__t)+'">删除此贴</a></li>\r\n	'),__p+="\r\n	",IsShowTop&&(__p+='\r\n	<li><a href="javascript:void(0);" hidefocus="true" class="top_lmafed" feed-id = "'+(null==(__t=FeedId)?"":__t)+'" comment-id="'+(null==(__t=CommentId)?"":__t)+'">',__p+=IsTop?"取消置顶":"设置置顶",__p+="</a></li>\r\n	"),__p+="\r\n</ul>\r\n";return __p},this.JST["common/feed/feed-actions/remind-me"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="wrap_noticesetting_tita" noticeid="0" id="noticesetting_feed" style="display: block; margin:15px -312px; left: '+(null==(__t=clientX)?"":__t)+"px; top: "+(null==(__t=clientY)?"":__t)+'px;">	\r\n	<div class="outer_nst">		\r\n		<div class="sa_nst"><em>◆</em><span>◆</span></div>		\r\n		<div class="content_nst">			\r\n			<div class="wrap_time_nst clearfix">				\r\n				<div class="day_time_nst">					\r\n				</div>				\r\n				<span class="timelabel_nst">提醒我</span>			\r\n			</div>			\r\n			<div class="desc_nst">				\r\n				<textarea class="default_nst" defaultvalue="提醒内容">提醒内容</textarea>			\r\n			</div>			\r\n			<div class="tip_nst"></div>			\r\n			<div class="btn_nst">				\r\n				<a class="sure_btn_nst" href="javascript:void(0)">确定</a>				\r\n				<a class="cancel_btn_nst" href="javascript:void(0)">取消</a>			\r\n			</div>		\r\n		</div>	\r\n	</div>\r\n</div>';return __p},this.JST["common/feed/feed-actions/reply"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="pubreply_fed" style="display: block;">\r\n	<div class="notice_prfed clearfix">\r\n		<span class="count_nprfed">\r\n			<b>0</b>/300\r\n		</span>\r\n		<div class="who_nprfed" style="display:block">\r\n			<span>回复</span>\r\n			<span class="toname_wnprfed"></span>\r\n			<span>：</span>\r\n			<a href="javascript:void(0);" hidefocus="true" title="" class="closed_wnprfed">关闭</a>\r\n		</div>\r\n	</div>\r\n	<div class="area_prfed">\r\n		<div class="wrap_aprfed">\r\n			<textarea class="input_waprfed cur_aprfed _bb_content" defaultval="添加进展" asff="true" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 58px;"></textarea>\r\n		</div>\r\n	</div>\r\n	<div class="action_prfed clearfix" style="position: relative;">\r\n		<ul class="menu_aprfed clearfix">\r\n			<li class="fileli_maprfed _bb_upload_trigger">\r\n				<a href="javascript:void(0);" title="" hidefocus="true" class="ament_maprfed _bb_upload_link" style="position: relative; cursor: pointer;">文件/图片\r\n					<div class="actionUploadAttachment" id="110006_100107565_1_1_635042122208840152_AUA">\r\n						<div class="local_auatth" style="position: relative; overflow: hidden;">\r\n							<a href="javascript:void(0);">本地上传</a>\r\n							<form target="file_upload_iframe_feed" method="post" enctype="multipart/form-data" action="http://webapi.tita.com/api/v1/110006/101893065/Upload/PostFiles?timestamp=1368786379384" class="formupoadfile" style="position: absolute; top: 3px; left: -81px;" twj="1">\r\n								<input class="file_formupoadfile" type="file" multiple="true" name="file_upload[]" style="cursor:pointer;opacity:0;filter:alpha(opacity=0);">\r\n								<input class="file_formupoadfil_2" type="file" multiple="true" name="file_upload[]" style="cursor:pointer;opacity:0;filter:alpha(opacity=0);">\r\n								<input class="file_formupoadfil_3" type="file" multiple="true" name="file_upload[]" style="cursor:pointer;opacity:0;filter:alpha(opacity=0);">\r\n								<input name="jsCallback" type="hidden" value="parent.AATFV2_110006_100107565_1_1_635042122208840152.callback">\r\n								<input name="domain" type="hidden" value="document.domain=\'tita.com\'">\r\n								<input name="timestamp" type="hidden" value="1368786379384">\r\n							</form>\r\n							<input class="attachment_file_url" type="hidden">\r\n						</div>\r\n						<div class="own_auatth" style="display: block;">\r\n							<a href="javascript:void(0);">从我的文件中选择</a>\r\n						</div>\r\n					</div>\r\n				</a>\r\n			</li>\r\n			<li>\r\n				<a href="javascript:void(0);" hidefocus="true" title="" class="at_maprfed _bb_at">同事</a>\r\n			</li>\r\n		</ul>\r\n		<iframe style="display:none;" name="file_upload_iframe_feed" src="about:blank"></iframe>\r\n		<a href="javascript:void(0);" class="cancel_aprfed" hidefocus="true">\r\n		 <b><i>取消</i></b>\r\n		</a>\r\n		<a href="javascript:void(0);" class="pub_aprfed disable_pub_aprfed" hidefocus="true">\r\n			<b><i>回复</i></b>\r\n		</a>\r\n		<span class="submitMask" style="position: absolute; opacity: 0.5; background-color: rgb(255, 255, 255); width: 58px; height: 24px; left: 440px; top: 6px; display: block;">\r\n		</span>\r\n	</div>\r\n	<div style="display:none">将文件拖到分享框任何区域并释放鼠标</div>\r\n	<div class="_bb_drop_tip" style="display:none;margin:0 10px;padding:8px; text-align:center; border:1px dashed #ccc; color:#333;">将文件拖到此区域并释放鼠标</div>\r\n	<div class="preview_prfed _bb_preview_wrapper" style="display: block;">\r\n		<div id="attachmentViewBox_110006_100107565_1_1_635042122208840152" style="padding-top: 8px; display: none;">\r\n		</div>\r\n	</div>\r\n</div>';return __p},this.JST["common/feed/feed-attachment-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=(_.escape,Array.prototype.join);with(obj)IsImage&&PreviewUrl?(__p+='\r\n	<div class="pic_fed clearfix">\r\n		<div class="img_pfed">\r\n			<a class="min_ipfed" hidefocus="true" href="'+(null==(__t=BigUrl)?"":__t)+'" rel="'+(null==(__t=PreviewUrl)?"":__t)+'"><img src="'+(null==(__t=SmallUrl)?"":__t)+'" alt="图片" class="artZoom" /></a>\r\n		</div>\r\n	</div>\r\n	<div class="file_fed imgfile_fed clearfix">\r\n		',print(FeedHelper.fileNameTmplFun(FileName)),__p+='<span class="kb_nffed">('+(null==(__t=Size)?"":__t)+'kB)</span>\r\n		<p class="down_ffed">\r\n			<a href="'+(null==(__t=DownloadUrl)?"":__t)+'" title="" hidefocus="true" class="btn_dffed skip_mmfed">下载</a>\r\n		</p>\r\n	</div>\r\n'):(__p+='\r\n	<div class="file_fed clearfix">\r\n		<div class="ico_ffed">\r\n			',print(FeedHelper.fileTypeIconTmplFun(FileType)),__p+='\r\n		</div>\r\n		<p class="name_ffed">\r\n			'+(null==(__t=FileName)?"":__t)+'<span class="kb_nffed">('+(null==(__t=Size)?"":__t)+"kB)</span>\r\n		</p>\r\n		",IsImage||(__p+='\r\n			<p class="down_ffed">\r\n				',IsPreview&&(__p+='\r\n					<a href="'+(null==(__t=PreviewUrl)?"":__t)+'" title="" hidefocus="true" class="preview_dffed skip_mmfed" target="_blank">预览</a>\r\n				'),__p+='\r\n				<a href="'+(null==(__t=DownloadUrl)?"":__t)+'" title="" hidefocus="true" class="btn_dffed skip_mmfed">下载</a>			\r\n			</p>\r\n		'),__p+="\r\n	</div>\r\n"),__p+="\r\n			";return __p},this.JST["common/feed/feed-comment-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=(_.escape,Array.prototype.join);with(obj)PublishUser&&ParentUser&&(__p+='\r\n<div class="item_cfed">\r\n	<div class="left_icfed">\r\n		',3==CommentType?__p+='\r\n				<img src="//st-web.tita.com/titacn/tita/common/images/transparent.gif" alt="图片" width="30" height="30" class="stream_lifed" />\r\n		':(__p+='\r\n			<a href="'+(null==(__t=Talent.Context.getUserUrl(PublishUser.UserId))?"":__t)+'" title="" hidefocus="true">\r\n				',__p+=PublishUser.Avatar.HasAvatar===!1?"\r\n					"+(null==(__t=_.convertImage({className:"photo",src:PublishUser.Avatar.Small,size:30,shape:"square",name:PublishUser.Name,bgColor:PublishUser.Avatar.Color}))?"":__t)+"\r\n				":'\r\n					<img src="'+(null==(__t=PublishUser.Avatar.Small)?"":__t)+'" alt="'+(null==(__t=PublishUser.Name)?"":__t)+'" width="30" height="30" />\r\n				',__p+="\r\n			</a>\r\n		"),__p+='\r\n	</div>\r\n	<div class="right_icfed">\r\n		<div class="master_cfed">\r\n			<a href="'+(null==(__t=Talent.Context.getUserUrl(PublishUser.UserId))?"":__t)+'" title="" class="avatar_mcfed skip_cmfed" hidefocus="true">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>\r\n			",ParentUser&&2==CommentType&&(__p+='\r\n				<span class="amal_fed">回复</span>\r\n				<a href="'+(null==(__t=Talent.Context.getUserUrl(ParentUser.UserId))?"":__t)+'" title="" class="avatar_mcfed skip_cmfed" hidefocus="true">'+(null==(__t=ParentUser.Name)?"":__t)+'</a>\r\n				<a hidefocus="true" class="dehua_mcfed" href="javascript:void(0);">的话</a>\r\n			'),__p+="<span>："+(null==(__t=Content)?"":__t)+'</span>\r\n		</div>\r\n		<div class="action_cfed clearfix">\r\n			<div class="btn_acfed">\r\n				<ul>\r\n					<li class="more_bacfed"><a hidefocus="true" href="javascript:void(0);">更多</a></li>\r\n					<li class="reply_bacfed"><a hidefocus="true" href="javascript:void(0);">回复</a></li>\r\n				</ul>\r\n			</div>\r\n			',Private&&(__p+='<span class="lock_fed">私密</span>'),__p+='\r\n			<span class="time_acfed">'+(null==(__t=CreateDate)?"":__t)+"</span>\r\n			",0!=PostSource&&(__p+='\r\n				<span class="from_fed">',print(FeedHelper.postSourceTmplFun(PostSource)),__p+="</span>\r\n			"),__p+="\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n"),__p+="\r\n";return __p},this.JST["common/feed/feed-composite"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='<div id="feed-item-container"></div>\r\n',IsEnd||(__p+='\r\n<div class="showmorefeed" id="pagerFeed" data-name="feed-page">\r\n	<a href="javascript:void(0);" hidefocus="true" title="" class="text_fsm" style="border-top:none;">\r\n		<span>查看更多</span>\r\n	</a>\r\n</div>\r\n'),__p+="\r\n";return __p},this.JST["common/feed/feed-item-composite"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=(_.escape,Array.prototype.join);with(obj)__p+="	",IsOnlyShowComment||(__p+="\r\n\r\n	","undefined"!=typeof FromIndicator&&FromIndicator&&(__p+='\r\n	<span class="indicator_ifed"></span>\r\n	'),__p+='\r\n	<div class="left_ifed">\r\n		',App&&0==IsInAppPage?__p+='\r\n			<a href="'+(null==(__t=App.AppUrl)?"":__t)+'" hidefocus="true"><img width="50" height="50" src="'+(null==(__t=App.AppLogo)?"":__t)+'" alt="图片" /></a>\r\n		':(__p+="\r\n			","undefined"!=typeof ObjType&&ObjType&&0==IsInAppPage?(__p+="\r\n				",3==ObjType||4==ObjType?__p+='\r\n					<a href="'+(null==(__t=ObjUrl)?"":__t)+'" hidefocus="true"><img width="50" height="50" src="'+(null==(__t=ObjLogo)?"":__t)+'" alt="图片" /></a>\r\n				':15==ObjType&&(__p+="\r\n					"+(null==(__t=_.convertImage({className:"photo",src:"",size:50,shape:"square",name:ObjName,bgColor:ObjColor}))?"":__t)+"\r\n				"),__p+="\r\n			"):__p+='\r\n				<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true">\r\n				'+(null==(__t=_.convertImage({className:"photo",src:PublishUser.Avatar.Medium,size:50,shape:"square",name:PublishUser.Name,bgColor:PublishUser.Avatar.Color}))?"":__t)+"\r\n				</a>\r\n			",__p+="\r\n		"),__p+='\r\n	</div>\r\n	<div class="right_ifed">\r\n		<div class="main_fed">\r\n			',App?(__p+="\r\n				",Private?(__p+='\r\n					<span class="lockline_fed">',print(FeedHelper.lineLockTmplFun(FeedType,Private,"",App.AppType)),__p+="</span>\r\n				"):(__p+='\r\n					<span class="openline_fed">',print(FeedHelper.lineLockTmplFun(FeedType,Private,"",App.AppType)),__p+="</span>\r\n				"),__p+="\r\n			"):(__p+="\r\n				",ObjType?(__p+="\r\n					",Private?(__p+='\r\n						<span class="lockline_fed">',print(FeedHelper.lineLockTmplFun(FeedType,Private,ObjType)),__p+="</span>\r\n					"):(__p+='\r\n						<span class="openline_fed">',print(FeedHelper.lineLockTmplFun(FeedType,Private,ObjType)),__p+="</span>\r\n					"),__p+="\r\n				"):(__p+="\r\n					",Private?(__p+='\r\n						<span class="lockline_fed">',print(FeedHelper.lineLockTmplFun(FeedType,Private)),__p+="</span>\r\n					"):(__p+='\r\n						<span class="openline_fed">',print(FeedHelper.lineLockTmplFun(FeedType,Private)),__p+="</span>\r\n					"),__p+="\r\n				"),__p+="\r\n			"),__p+='\r\n			<div class="source_fed">\r\n				',1==FeedType&&(__p+="\r\n					",App?(__p+="\r\n						",0==IsInAppPage&&(__p+='\r\n							<a href="'+(null==(__t=App.AppUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=App.AppName)?"":__t)+"</a>\r\n							",ObjType&&(__p+="\r\n								",ObjName&&ObjId&&(__p+='\r\n									<a href="'+(null==(__t=ObjUrl)?"":__t)+'" hidefocus="true" class="appuser_sfed skip_mmfed">'+(null==(__t=ObjName)?"":__t)+"</a>",print(FeedHelper.setSourceContFun(ObjType,App.AppType)),__p+="\r\n								"),__p+="\r\n							"),__p+="\r\n						"),__p+='\r\n						<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="appuser_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">说：</span>\r\n					'):(__p+="\r\n						",ObjType&&0==IsInAppPage?(__p+="\r\n\r\n							",__p+=ObjUrl&&""!=ObjUrl?'\r\n							<a href="'+(null==(__t=ObjUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=ObjName)?"":__t)+"</a>\r\n							":'\r\n							<a href="javascript:void(0);" class="name_sfed" target="_blank">'+(null==(__t=ObjName)?"":__t)+"</a>\r\n							",__p+='<span class="cont_sfed">',print(FeedHelper.setSourceContFun(ObjType)),__p+='</span>\r\n							<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="appuser_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">说：</span>\r\n						'):__p+='\r\n							<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">说：</span>\r\n						',__p+="	\r\n					"),__p+="\r\n				"),__p+="\r\n				\r\n				",2==FeedType&&(__p+="\r\n					",App&&(__p+="\r\n						",400==App.AppType&&(__p+='\r\n							<a href="'+(null==(__t=App.AppUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=App.AppName)?"":__t)+"</a>\r\n						"),__p+="\r\n					"),__p+="\r\n				"),__p+="\r\n\r\n				",3==FeedType&&(__p+="\r\n					",App&&(__p+="\r\n						",400==App.AppType&&(__p+='\r\n							<a href="'+(null==(__t=App.AppUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=App.AppName)?"":__t)+"</a>\r\n						"),__p+="\r\n					"),__p+="\r\n				"),__p+="\r\n\r\n				",4==FeedType&&(__p+="\r\n					",__p+=1==PlanType?'\r\n					<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">的'+(null==(__t=i18n.plan_1)?"":__t)+"表</span>\r\n					":'\r\n					<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">的'+(null==(__t=i18n.plan_1)?"":__t)+"</span>\r\n					",__p+="\r\n				"),__p+="\r\n				",80==FeedType&&(__p+='\r\n					\r\n					<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">的签到</span>\r\n					\r\n				'),__p+="\r\n				",5==FeedType&&(__p+="\r\n					",App?__p+="\r\n					\r\n					":(__p+="\r\n						",ObjType&&0==IsInAppPage?(__p+="\r\n							",__p+=ObjUrl&&""!=ObjUrl?'\r\n							<a href="'+(null==(__t=ObjUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=ObjName)?"":__t)+"</a>\r\n							":'\r\n							<a href="javascript:void(0);" class="name_sfed" target="_blank">'+(null==(__t=ObjName)?"":__t)+"</a>\r\n							",__p+='<span class="cont_sfed">',print(FeedHelper.setSourceContFun(ObjType)),__p+='</span>\r\n							<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="appuser_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">的'+(null==(__t=dailyName)?"":__t)+"</span>\r\n						"):__p+='\r\n							<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">的'+(null==(__t=dailyName)?"":__t)+"</span>\r\n						",__p+="\r\n					"),__p+="\r\n				"),__p+="\r\n\r\n				",20==FeedType&&(__p+="\r\n					",App?(__p+="\r\n						",901==App.AppId?__p+='\r\n							<a href="'+(null==(__t=App.AppUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=App.AppName)?"":__t)+'</a>中<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="appuser_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>的申请\r\n\r\n						":(__p+="\r\n							",0==IsInAppPage?(__p+='\r\n								<a href="'+(null==(__t=App.AppUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=App.AppName)?"":__t)+"</a>\r\n								",ObjType&&(__p+="\r\n									",ObjName&&ObjId&&(__p+='\r\n										<a href="'+(null==(__t=ObjUrl)?"":__t)+'" hidefocus="true" class="appuser_sfed skip_mmfed">'+(null==(__t=ObjName)?"":__t)+'</a><span class="cont_sfed">',print(FeedHelper.setSourceContFun(ObjType,App.AppType)),__p+="的"+(null==(__t=i18n.task_1)?"":__t)+"</span>\r\n									"),__p+="\r\n								"),__p+="\r\n							"):__p+='\r\n								<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">'+(null==(__t=IsShowPlan?"的"+i18n.plan_1:"发起的"+i18n.task_1)?"":__t)+"</span>\r\n							",__p+="\r\n						"),__p+="\r\n					"):(__p+="\r\n						",ObjType&&0==IsInAppPage?(__p+="\r\n							",__p+=ObjUrl&&""!=ObjUrl?'\r\n							<a href="'+(null==(__t=ObjUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=ObjName)?"":__t)+"</a>\r\n							":'\r\n							<a href="javascript:void(0);" class="name_sfed" target="_blank">'+(null==(__t=ObjName)?"":__t)+"</a>\r\n							",__p+='<span class="cont_sfed">',print(FeedHelper.setSourceContFun(ObjType)),__p+="的"+(null==(__t=i18n.task_1)?"":__t)+"</span>\r\n\r\n						"):__p+='\r\n							<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">'+(null==(__t=IsShowPlan?"的"+i18n.plan_1:"发起的"+i18n.task_1)?"":__t)+"</span>\r\n						",__p+="\r\n					"),__p+="\r\n				"),__p+="\r\n\r\n				",30==FeedType&&(__p+="\r\n					",__p+=ObjId&&ObjName&&4==ObjType&&0==IsInAppPage?'\r\n							<a href="'+(null==(__t=ObjUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed" target="_blank">'+(null==(__t=ObjName)?"":__t)+'</a><span class="cont_sfed">'+(null==(__t=i18n.work_1)?"":__t)+"中的讨论</span>\r\n					":'\r\n						<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="name_sfed skip_mmfed">'+(null==(__t=PublishUser.Name)?"":__t)+"</a>"+(null==(__t=MarkImg)?"":__t)+'<span class="cont_sfed">发起了讨论</span>\r\n					',__p+="	\r\n				"),__p+="\r\n\r\n				","undefined"!=typeof IsTop&&IsTop&&(__p+='<span class="top_sfed"></span>'),__p+="\r\n			</div>\r\n			\r\n			",1==FeedType?__p+='\r\n				<div class="master_mfed">\r\n					<span class="lquote_mmfed"></span><span class="content_mmfed">'+(null==(__t=Content)?"":__t)+'</span><span class="rquote_mmfed"></span>\r\n				</div>\r\n				<div data-name="feed-attachment"></div>\r\n			':20==FeedType?(__p+='\r\n				<div class="task_mfed clearfix">\r\n					<h2 class="name_tmfed">\r\n						',__p+=App&&901==App.AppId?'\r\n							<span class="ico_ntmfed">审批</span>\r\n						':'\r\n							<span class="ico_ntmfed">'+(null==(__t=IsCycle?"循环"+i18n.task_1:i18n.task_1)?"":__t)+"</span>\r\n						",__p+="\r\n						\r\n						",__p+=IsTita&&isPushPullScreen?'\r\n							<span  href="'+(null==(__t=hash+"?plan_item_id="+FeedId)?"":__t)+'" data-name="push" class="skip_mmfed">'+(null==(__t=Talent._.escape(TaskName))?"":__t)+"</span>\r\n						":'\r\n							<a href="'+(null==(__t=Url)?"":__t)+'" class="skip_mmfed">'+(null==(__t=Talent._.escape(TaskName))?"":__t)+"</a>\r\n						",__p+='\r\n					</h2>\r\n					<div class="info_tmfed clearfix">\r\n						<div class="left_itmfed">\r\n							',0==Status?__p+='\r\n								<span class="undo_litmfed">未开始</span>\r\n							':1==Status?__p+='\r\n								<span class="doing_litmfed">进行中</span>\r\n							':2==Status&&(__p+='\r\n								<span class="done_litmfed">已完成</span>\r\n									',print(FeedHelper.showPraise(Status,Evaluation)),__p+="\r\n							"),__p+="\r\n							",PlanTableName&&(__p+='\r\n							<a href="'+(null==(__t=PlanTableUrl)?"":__t)+'" class="limit" target="_blank">'+(null==(__t=PlanTableName)?"":__t)+"</a>\r\n							"),__p+="\r\n							",1!=ShowType&&2!=Status&&0!=Status&&(__p+="\r\n								",FeedHelper.showTimeTmplFun(ShowType,StartDate,Deadline,RemainDay,Deadline,DeadLineDay)&&(__p+='\r\n									<span class="time_litmfed">',print(FeedHelper.showTimeTmplFun(ShowType,StartDate,Deadline,RemainDay,Deadline,DeadLineDay)),__p+="</span>\r\n								"),__p+="\r\n							"),__p+="\r\n							","undefined"!=typeof Evaluation&&Evaluation&&(__p+="\r\n								"+(null==(__t=_.evaluation(Evaluation))?"":__t)+"\r\n							"),__p+='\r\n						</div>\r\n						\r\n						<div class="right_itmfed">\r\n							',PrincipalUser&&PrincipalUser.UserId&&(__p+="\r\n								",
PrincipalUser&&PrincipalUser.UserId!=PublishUser.UserId?(__p+='\r\n								<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" name="'+(null==(__t=PublishUser.Name)?"":__t)+'" hidefocus="true" class="pic_itmfed">\r\n									'+(null==(__t=_.convertImage({className:"photo",src:PublishUser.Avatar.Small,size:30,shape:"square",name:PublishUser.Name,bgColor:PublishUser.Avatar.Color}))?"":__t)+"\r\n								</a>\r\n								",__p+=App&&901==App.AppId?'\r\n									<span class="tip_itmfed">提交给</span>\r\n								':'\r\n									<span class="tip_itmfed">安排给</span>\r\n								',__p+="\r\n								"):__p+='\r\n									<span class="tip_itmfed">'+(null==(__t=PrincipalUser.Name)?"":__t)+"（负责人）</span>\r\n								",__p+='\r\n								<a href="'+(null==(__t=PrincipalUserUrl)?"":__t)+'" name="'+(null==(__t=PrincipalUser.Name)?"":__t)+'" hidefocus="true" class="pic_itmfed">\r\n									'+(null==(__t=_.convertImage({className:"photo",src:PrincipalUser.Avatar.Small,size:30,shape:"square",name:PrincipalUser.Name,bgColor:PrincipalUser.Avatar.Color}))?"":__t)+"\r\n									\r\n								</a>\r\n							"),__p+="\r\n						</div>\r\n						\r\n					</div>\r\n				</div>\r\n			"):30==FeedType||31==FeedType?(__p+="\r\n				",31==FeedType&&24==ActionType?(__p+='\r\n					<div class="master_mfed">\r\n						<span class="lquote_mmfed"></span>\r\n						',print(FeedBack),__p+='\r\n						<span class="rquote_mmfed"></span>\r\n					</div>\r\n				'):(__p+='\r\n					<div class="meeting_mfed clearfix">\r\n						<div class="assign_mmfed">\r\n							<ul>\r\n								',"undefined"!=typeof Participator&&(__p+="\r\n								",_.each(Participator.slice(0,3),function(a){__p+='\r\n									<li class="parter_ammfed">\r\n										<a href="'+(null==(__t=a.Id)?"":__t)+'" hidefocus="true">\r\n											<img alt="'+(null==(__t=a.Name)?"":__t)+'" src="'+(null==(__t=a.Avatar.Small)?"":__t)+'" />\r\n										</a>\r\n										<span>'+(null==(__t=a.Name)?"":__t)+"</span>\r\n									</li>\r\n								"}),__p+="\r\n								",Participator.length>3&&(__p+='\r\n									<li>\r\n										<a href="'+(null==(__t=Url)?"":__t)+'" hidefocus="true" class="more_ammfed" target="_blank">更多</a>\r\n									</li>\r\n								'),__p+="\r\n								"),__p+='\r\n							</ul>\r\n						</div>\r\n						<h2 class="name_mmfed">\r\n							<a href="'+(null==(__t=Url)?"":__t)+'" title="'+(null==(__t=ConferenceName)?"":__t)+'" hidefocus="true" class="skip_mmfed"  target="_blank">\r\n								',print(FeedHelper.conferenceNameTmplFun(ConferenceName)),__p+="\r\n							</a>\r\n						</h2>\r\n					</div>\r\n				"),__p+="			\r\n			"):2==FeedType||3==FeedType?(__p+='\r\n				<div class="task_mfed epm_mfed clearfix">\r\n					<h2 class="name_tmfed">\r\n						',__p+=3==FeedType?'\r\n						<span class="ico_ntmfed epm_ico_ntmfed">考核表</span>\r\n						':'\r\n						<span class="ico_ntmfed epm_ico_ntmfed">目标</span>\r\n						',__p+='\r\n						<a href="'+(null==(__t=App.AppObjeUrl)?"":__t)+'" hidefocus="true" class="skip_mmfed" target="_blank">'+(null==(__t=App.AppObjeName)?"":__t)+'</a>\r\n					</h2>\r\n					<div class="info_tmfed clearfix">\r\n						<div class="left_itmfed">\r\n							\r\n						</div>\r\n						<div class="right_itmfed">\r\n							<span class="tip_itmfed">'+(null==(__t=PublishUser.Name)?"":__t)+'</span>\r\n							<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" hidefocus="true" class="pic_itmfed" name="'+(null==(__t=PublishUser.Name)?"":__t)+'">\r\n								'+(null==(__t=_.convertImage({className:"photo",src:PublishUser.Avatar.Small,size:30,shape:"square",name:PublishUser.Name,bgColor:PublishUser.Avatar.Color}))?"":__t)+"\r\n\r\n							</a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			"):4==FeedType?(__p+="\r\n				",1==PlanType?__p+='\r\n				<div class="task_mfed clearfix plan_mfed">\r\n					<h2 class="name_tmfed">\r\n						<span class="ico_ntmfed">'+(null==(__t=i18n.plan_1)?"":__t)+'表</span>\r\n						<a href="'+(null==(__t=Url)?"":__t)+'" hidefocus="true" class="skip_mmfed" target="_blank">'+(null==(__t=PlanName)?"":__t)+"</a>\r\n					</h2>\r\n				</div>\r\n				":2==PlanType&&(__p+='\r\n				<div class="task_mfed clearfix plan_mfed">\r\n					<h2 class="name_tmfed">\r\n						<span class="ico_ntmfed">'+(null==(__t=i18n.plan_1)?"":__t)+'</span>\r\n						<a href="'+(null==(__t=Url)?"":__t)+'" hidefocus="true" class="skip_mmfed" target="_blank">'+(null==(__t=PlanName)?"":__t)+'</a>\r\n					</h2>\r\n					<div class="info_tmfed clearfix">\r\n						<div class="left_itmfed">\r\n							<a href="'+(null==(__t=PlanTableUrl)?"":__t)+'" class="from_litmfed" target="_blank">'+(null==(__t=PlanTableName)?"":__t)+'</a>\r\n						</div>\r\n						<div class="right_itmfed">\r\n							<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" name="'+(null==(__t=PublishUser.Name)?"":__t)+'" hidefocus="true" class="pic_itmfed">\r\n								'+(null==(__t=_.convertImage({className:"photo",src:PublishUser.Avatar.Small,size:30,shape:"square",name:PublishUser.Name,bgColor:PublishUser.Avatar.Color}))?"":__t)+"\r\n							</a>\r\n							\r\n						</div>\r\n					</div>\r\n				</div>\r\n				"),__p+="\r\n				\r\n			"):80==FeedType?(__p+='\r\n				<div class="task_mfed clearfix signin_mfed">\r\n					<h2 class="name_tmfed">\r\n						<span class="ico_ntmfed">移动签到</span>\r\n						<span class="taget_tmfed" target="_blank">'+(null==(__t=Date)?"":__t)+'</span><span>&nbsp;&nbsp;&nbsp;&nbsp;工作计时：</span><span class="hour_tmfed">'+(null==(__t=WorkHours)?"":__t)+'h</span>\r\n					</h2>\r\n				</div>\r\n				<ul class="track_mfed">\r\n					',_.each(TimeSites,function(a,b){__p+="\r\n						",0==b?(__p+='\r\n						<li class="first_tkmfed">\r\n							<span class="icon-round-up-star"></span>\r\n							',TimeSites.length>2&&(__p+='\r\n							<span class="line_tkmfed"></span>\r\n							'),__p+='\r\n							<span class="hour_tkmfed">'+(null==(__t=a.Time)?"":__t)+"</span>\r\n							<span>&nbsp;签到地点：&nbsp;"+(null==(__t=a.Site)?"":__t)+"</span>\r\n							\r\n						</li>\r\n						"):b+1==TimeSites.length?(__p+='\r\n						<li class="last_tkmfed">\r\n							<span class="icon-round-down-end"></span>\r\n							',TimeSites.length>2&&(__p+='\r\n							<span class="line_tkmfed"></span>\r\n							'),__p+='\r\n							<span class="hour_tkmfed">'+(null==(__t=a.Time)?"":__t)+"</span>\r\n							<span>&nbsp;签到地点：&nbsp;"+(null==(__t=a.Site)?"":__t)+"</span>\r\n							",Total>2&&(__p+="\r\n								",__p+=TimeSites.length<3?'\r\n								&nbsp;&nbsp;<a href="javascript:void(0);" data-name="track-down" >展开('+(null==(__t=Total)?"":__t)+")<i></i></a>\r\n								":'\r\n								&nbsp;&nbsp;<a href="javascript:void(0);" data-name="track-down" class="cur">收起('+(null==(__t=Total)?"":__t)+")<i></i></a>\r\n								",__p+="\r\n							"),__p+="\r\n						</li>\r\n						"):__p+='\r\n						<li>\r\n							<span class="icon-line-bridge ico_tkmfed"></span>\r\n							<span class="hour_tkmfed">'+(null==(__t=a.Time)?"":__t)+"</span>\r\n							<span>&nbsp;签到地点：&nbsp;"+(null==(__t=a.Site)?"":__t)+"</span>\r\n\r\n						</li>\r\n						",__p+="\r\n					"}),__p+="\r\n				</ul>\r\n			"):5==FeedType&&(__p+='\r\n				<div class="task_mfed clearfix plan_mfed">\r\n					<h2 class="name_tmfed">\r\n						<span class="ico_ntmfed">'+(null==(__t=dailyName)?"":__t)+'</span>\r\n						<a href="'+(null==(__t=Url)?"":__t)+'" hidefocus="true" class="skip_mmfed">'+(null==(__t=Name)?"":__t)+'</a>\r\n					</h2>\r\n					<div class="info_tmfed clearfix">\r\n						<div class="left_itmfed">\r\n							<a href="'+(null==(__t=PlanTableUrl)?"":__t)+'" class="from_litmfed" target="_blank">'+(null==(__t=PlanTableName)?"":__t)+"</a>\r\n							","undefined"!=typeof Evaluation&&Evaluation&&(__p+="\r\n								"+(null==(__t=_.evaluation(Evaluation))?"":__t)+"\r\n							"),__p+='\r\n						</div>\r\n						<div class="right_itmfed">\r\n							<div class="submit_itmfed">'+(null==(__t=SubmitDate)?"":__t)+'</div>\r\n							<a href="'+(null==(__t=PublishUserUrl)?"":__t)+'" name="'+(null==(__t=PublishUser.Name)?"":__t)+'" hidefocus="true" class="pic_itmfed">\r\n								'+(null==(__t=_.convertImage({className:"photo",src:PublishUser.Avatar.Small,size:30,shape:"square",name:PublishUser.Name,bgColor:PublishUser.Avatar.Color}))?"":__t)+'\r\n							</a>\r\n							\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="master_mfed">\r\n					<span class="content_mmfed">'+(null==(__t=Content)?"":__t)+"</span>\r\n					",overMaxNumber&&(__p+='\r\n						<span class="toggle" data-name="toggle">\r\n							<a href="javascript:void(0)" class="txt">查看全部</a>\r\n							<span class="icon icon-arrow-down"></span>\r\n						</span>\r\n					'),__p+="\r\n				</div>\r\n			"),__p+='\r\n			\r\n			<div class="action_mfed clearfix">\r\n				<div class="btn_amfed">\r\n					<ul>\r\n						<li class="more_bamfed"><a hidefocus="true" href="javascript:void(0);">更多</a></li>\r\n						',1==FeedType&&(__p+="\r\n							",__p+=IsRemind?'\r\n								<li class="notice_bamfed"><a class="notice_setting notice_settinged" href="javascript:void(0)" data=\'{"objid":"'+(null==(__t=FeedId)?"":__t)+'","objType":"10"}\' title="已设提醒"></a></li>\r\n							':'\r\n								<li class="notice_bamfed"><a class="notice_setting" href="javascript:void(0)" data=\'{"objid":"'+(null==(__t=FeedId)?"":__t)+'","objType":"10"}\' title="设置提醒"></a></li>\r\n							',__p+="\r\n						"),__p+='\r\n						<li class="_bb_collect">\r\n							',__p+="undefined"!=typeof IsCollected&&IsCollected?'\r\n								<a hidefocus="true" href="javascript:void(0);" isCollected="'+(null==(__t=IsCollected)?"":__t)+'">取消收藏</a>\r\n							':'\r\n								<a hidefocus="true" href="javascript:void(0);" isCollected="false">收藏</a>\r\n							',__p+='\r\n						</li>\r\n						<li class="reply_bamfed"><a hidefocus="true" href="javascript:void(0);">回复</a></li>\r\n					</ul>\r\n				</div>\r\n				<span class="time_mmfed">'+(null==(__t=CreateDate)?"":__t)+"</span>\r\n				",0!=PostSource&&(__p+='\r\n				<span class="from_fed">',print(FeedHelper.postSourceTmplFun(PostSource)),__p+="</span>\r\n				"),__p+='\r\n			</div>\r\n			\r\n		</div>\r\n		\r\n		<div class="comment_fed">\r\n			<div class="corner_lfed"><span></span></div>\r\n			',!IsOnlyShowComment&&CommentTotal>4&&(__p+='\r\n				<div class="count_fed">\r\n					<div class="txt_cfed">\r\n						<a href="javascript:void(0);" hidefocus="true" >共<span class="num_cfed">'+(null==(__t=CommentTotal)?"":__t)+"</span>条回复<i></i></a>\r\n					</div>\r\n				</div>\r\n			"),__p+="\r\n		</div>\r\n	</div>\r\n	"),__p+='\r\n	<div class="comment_ifed">\r\n		<div class="list_cfed"></div>\r\n	</div>\r\n\r\n\r\n';return __p},this.JST["common/feed/group-feed-component"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\r\n<div class="tt_feedtab">\r\n	',IsShowTab&&(__p+='\r\n	<ul class="tt_navtabs">\r\n		',__p+=236931==tenantInfo.Id||103239==tenantInfo.Id?'\r\n			<li><a href="#home?feedType=all" data-trigger="false">'+(null==(__t=i18n.myallfeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-all" data-trigger="false">'+(null==(__t=i18n.myfollowfeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-fromme" data-trigger="false">'+(null==(__t=i18n.mypublishfeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-tome" data-trigger="false">'+(null==(__t=i18n.myleavefeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-replyme" data-trigger="false">'+(null==(__t=i18n.myreplayfeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-collect" data-trigger="false">'+(null==(__t=i18n.mycollectfeed_1)?"":__t)+"</a></li>\r\n		":'\r\n			<li><a href="#home?feedType=aboutme-all" data-trigger="false">'+(null==(__t=i18n.myfollowfeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-fromme" data-trigger="false">'+(null==(__t=i18n.mypublishfeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-tome" data-trigger="false">'+(null==(__t=i18n.myleavefeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-replyme" data-trigger="false">'+(null==(__t=i18n.myreplayfeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=aboutme-collect" data-trigger="false">'+(null==(__t=i18n.mycollectfeed_1)?"":__t)+'</a></li>\r\n			<li><a href="#home?feedType=department" data-trigger="false">部门动态</a></li>\r\n			<li><a href="#home?feedType=all" data-trigger="false">'+(null==(__t=i18n.myallfeed_1)?"":__t)+"</a></li>		\r\n		",__p+="\r\n	</ul>\r\n	"),__p+="\r\n	",isShowSearch&&(__p+='\r\n	<div data-name="feed-search" class="feed-search"></div>\r\n	'),__p+='\r\n</div>\r\n<div class="_tt_feedlist"></div>';return __p},this.JST["common/file/file-composite"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)isShowAction&&(__p+='\r\n	<div class="documentlist_action" data-name="action-area">\r\n		<a href="javascript:void(0);" title="" class="checkbox ch_dla" data-name="check-all"><span class="ico"></span></a><span class="total_dla" data-name="check-total">本页全选</span>\r\n		<button class="btn btn-disabled" data-name="btn-move">移动</button>\r\n		',isShowDelete&&(__p+='\r\n			<button class="btn btn-disabled" data-name="btn-delete">删除</button>\r\n		'),__p+="\r\n	</div>\r\n"),__p+='\r\n<div data-name="my-enclosure" class="my-enclosure ',needEnclosure&&(__p+="personal"),__p+='">\r\n	<img class="icon" src="'+(null==(__t=Talent.Context.getStaticUrl("images/file/folder2.png"))?"":__t)+'" />\r\n	<div class="mid">\r\n		<a href="#document?type='+(null==(__t=fileType)?"":__t)+'&id=-1" data-trigger="false" class="tt" data-name="folder-name">我发表过的附件</a>\r\n		<p class="des">这里汇集了我在tita发表的所有附件</p>\r\n	</div>\r\n</div>\r\n<ul class="documentlist" id="project_file_item">\r\n	\r\n</ul>\r\n<div data-name="page"></div>\r\n<div class="documentlist_permissions" data-name="permissions-dropdown">\r\n	<ul>\r\n		<li data-type="true"><a href="javascript:void(0);" class="active">允许下载</a></li>\r\n		<li data-type="false"><a href="javascript:void(0);">不允许下载</a></li>\r\n	</ul>\r\n</div>\r\n';return __p},this.JST["common/file/file-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)isShowAction&&(__p+='\r\n<a href="javascript:void(0);" title="" class="checkbox cb_idl" id="'+(null==(__t=DocumentId)?"":__t)+'" pid="'+(null==(__t=pId)?"":__t)+'" data-name="check-item" data-type="'+(null==(__t=FileType)?"":__t)+'"><span class="ico"></span></a>\r\n'),__p+='\r\n<div class="ico_idl">\r\n		',__p+=isImage?'\r\n			<img src="'+(null==(__t=imageUrl)?"":__t)+'" alt="图片" style="width: 48px;height: 48px;">\r\n		':'\r\n			<img src="'+(null==(__t=iconUrl)?"":__t)+'" alt="图片" style="width: 48px;height: 48px;">\r\n		',__p+='\r\n</div>\r\n<div class="right_idl">\r\n	<div class="name_ridl" data-name="name">\r\n		',__p+="folder"==FileType?'\r\n		<a href="#document?type='+(null==(__t=fileType)?"":__t)+"&id="+(null==(__t=DocumentId)?"":__t)+'" data-trigger="false" data-name="folder-name">'+(null==(__t=FileName)?"":__t)+"</a>\r\n		":"\r\n		"+(null==(__t=FileName)?"":__t)+'\r\n		<span class="size_nridl">('+(null==(__t=Size)?"":__t)+"kB)</span>\r\n		",__p+='\r\n		\r\n	</div>\r\n	<div class="action_ridl">\r\n		<div class="who_aridl">\r\n			<a class="user_waridl" href="/u/'+(null==(__t=CreateUserId)?"":__t)+'">'+(null==(__t=CreateUserName)?"":__t)+"</a>\r\n			<span>上传于</span>"+(null==(__t=CreateDate)?"":__t)+"\r\n		</div>\r\n		","mine"==fileType?(__p+='\r\n			<div class="fun_aridl">\r\n				',"2"==FileSourceType?(__p+="\r\n						",PreviewUrl&&(__p+='\r\n							<a href="'+(null==(__t=PreviewUrl)?"":__t)+'" target="_blank">预览</a>\r\n						'),__p+='\r\n						<a href="'+(null==(__t=DownloadUrl)?"":__t)+'" data-name="download">下载</a>\r\n						<a href="javascript:void(0);"  id="'+(null==(__t=DocumentId)?"":__t)+'" pid="'+(null==(__t=pId)?"":__t)+'" data-name="move">移动</a>\r\n						<a href="javascript:void(0);" id="'+(null==(__t=DocumentId)?"":__t)+'" data-name="rename">重命名</a>\r\n						<a href="'+(null==(__t=SourceObjUrl)?"":__t)+'" target="_blank" class="original_faridl">查看原贴</a>\r\n				'):(__p+="\r\n					","folder"==FileType?__p+='\r\n						<a href="javascript:void(0);"  id="'+(null==(__t=DocumentId)?"":__t)+'" pid="'+(null==(__t=pId)?"":__t)+'" data-name="move">移动</a>\r\n						<a href="javascript:void(0);" id="'+(null==(__t=DocumentId)?"":__t)+'" data-name="rename">重命名</a>\r\n						<a href="javascript:void(0);" id="'+(null==(__t=DocumentId)?"":__t)+'" data-name="delete" data-type="'+(null==(__t=FileType)?"":__t)+'" file-type="'+(null==(__t=FileSourceType)?"":__t)+'">删除</a>\r\n					':(__p+="\r\n						",PreviewUrl&&(__p+='\r\n							<a href="'+(null==(__t=PreviewUrl)?"":__t)+'" target="_blank">预览</a>\r\n						'),__p+='\r\n						<a href="'+(null==(__t=DownloadUrl)?"":__t)+'" data-name="download">下载</a>\r\n						<a href="javascript:void(0);"  id="'+(null==(__t=DocumentId)?"":__t)+'" pid="'+(null==(__t=pId)?"":__t)+'" data-name="move">移动</a>\r\n						<a href="javascript:void(0);" id="'+(null==(__t=DocumentId)?"":__t)+'" data-name="rename">重命名</a>\r\n						<a href="javascript:void(0);" id="'+(null==(__t=DocumentId)?"":__t)+'" data-name="delete" data-type="'+(null==(__t=FileType)?"":__t)+'" file-type="'+(null==(__t=FileSourceType)?"":__t)+'">删除</a>\r\n					'),__p+="\r\n				"),__p+="\r\n			</div>\r\n		"):"company"==fileType?(__p+='\r\n			<div class="fun_aridl">\r\n				',PreviewUrl&&isPreview&&(__p+='\r\n					<a href="'+(null==(__t=PreviewUrl)?"":__t)+'" target="_blank">预览</a>\r\n				'),__p+="\r\n				",isShowDownload&&DownloadUrl&&"folder"!=FileType&&(__p+='\r\n				<a href="'+(null==(__t=DownloadUrl)?"":__t)+'" data-name="download">下载</a>\r\n				'),__p+="\r\n				",isShowMove&&(__p+='\r\n				<a href="javascript:void(0);"  id="'+(null==(__t=DocumentId)?"":__t)+'" pid="'+(null==(__t=pId)?"":__t)+'" data-name="move">移动</a>\r\n				'),__p+="\r\n				",isShowRename&&(__p+='\r\n				<a href="javascript:void(0);" id="'+(null==(__t=DocumentId)?"":__t)+'" data-name="rename">重命名</a>\r\n				'),__p+="\r\n				",isShowDelete&&(__p+='\r\n				<a href="javascript:void(0);" id="'+(null==(__t=DocumentId)?"":__t)+'" data-name="delete" data-type="'+(null==(__t=FileType)?"":__t)+'" file-type="'+(null==(__t=FileSourceType)?"":__t)+'">删除</a>\r\n				'),__p+="\r\n				\r\n				",isShowPermissions&&"folder"!=FileType&&(__p+='\r\n				<a href="javascript:void(0);" id="'+(null==(__t=DocumentId)?"":__t)+'" data-name="permissions">权限</a>\r\n				'),__p+="\r\n			</div>\r\n		"):"work"==fileType&&(__p+='\r\n			<div class="fun_aridl">\r\n				',PreviewUrl&&isPreview&&(__p+='\r\n					<a href="'+(null==(__t=PreviewUrl)?"":__t)+'" target="_blank">预览</a>\r\n				'),__p+="\r\n				",isShowDownload&&DownloadUrl&&"folder"!=FileType&&(__p+='\r\n				<a href="'+(null==(__t=DownloadUrl)?"":__t)+'" data-name="download">下载</a>\r\n				'),__p+='\r\n		\r\n				<a href="'+(null==(__t=SourceObjUrl)?"":__t)+'" target="_blank" class="original_faridl">查看原贴</a>\r\n			</div>\r\n		'),__p+="\r\n	</div>\r\n</div>";return __p},this.JST["common/file/file-move-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="title_tv" data-name="title">\n	',0==isEnd&&(__p+='\n	<span class="icon_tv" data-name="toggle"></span>\n	'),__p+='\n	<span class="icon_file_tv"></span>\n	<span class="text_tv">'+(null==(__t=FileName)?"":__t)+"</span>\n</div>\n<ul></ul>";return __p},this.JST["common/file/file-move-new"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<form data-name="file-move-new-form">\n	<div class="title_tv">\n		<span class="icon_file_tv"></span>\n		<div class="new_tv">\n			<div class="input-default input_ntv" data-name="file-move-new-input-warp">\n				<input type="text" placeholder="最多输入26个汉字" >\n			</div>\n			<span class="btn_ntv icon-radius-success-over" data-name="file-move-new-submit"></span>\n			<span class="btn_ntv icon-radius-error-over" data-name="file-move-new-cancel"></span>\n		</div>\n	</div>\n</form>';return __p},this.JST["common/file/file-move"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n	<div class="title_rd">\n		<h2>移动到</h2>\n		<span class="icon-dialog-closed closed_rd" data-name="file-move-close"></span>\n	</div>\n	<div class="cont_rd">\n		<div class="tt_tree_view" data-name="tree">\n			<div class="_tt_loading_m">努力加载中…</div>\n		</div>\n	</div>\n	<div class="bottom_rd">\n		<a class="btn btn-success new_rd" data-name="file-move-new-folder">新建文件夹</a>\n		<a class="btn btn-sure sure_rd" data-name="file-move-submit">确定</a>\n	</div>\n';return __p},this.JST["common/file/file-rename"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<form data-name="rename-form">\n	<div class="tu-cf">\n		<div class="input-default input_ridl" data-name="rename-inputwrap">\n			<input type="text" value="'+(null==(__t=name)?"":__t)+'">\n		</div>\n		<a class="btn btn-sure" data-name="rename-sure">确定</a>\n		<a class="btn btn-cancel" data-name="rename-cancel">取消</a>\n	</div>\n	<div class="error-tip" data-name="rename-error">文件名称不能包含*  ”  ： <  >  ?  \\  /  | </div>\n</form>\n';return __p},this.JST["common/fileupload/file-upload"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="uploader_container"></div>\n<div  class="error_container" style="padding-top: 8px; display: none;"></div>\n<div class="preview_container"></div>\n<div class="loading_view" style="padding-top: 8px; display: none;padding-left:75px;"></div> ';return __p},this.JST["common/friendly"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tu-icon-close friendly__close tu-ft_m3 tu-icon-a1 tu-cp" data-name="close"></div>\n<div class="friendly__main">\n    <img class="friendly__img tu-dib" src="'+(null==(__t=friendlyImg)?"":__t)+'" />\n    <div class="friendly__text tu-dib tu-font-h4 tu-ft_m2">'+(null==(__t=friendlyText)?"":__t)+"</div>\n</div>";return __p},this.JST["common/gantt/event"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)(EditStatusable||isTask&&finishTime)&&(__p+='\n	<div class="sch-resizable-handle sch-resizable-handle-start"></div>\n	<div class="sch-resizable-handle sch-resizable-handle-end"></div>\n'),__p+='\n<div unselectable="on" class="sch-event-inner {iconCls}">\n	<div class="block_container">\n		',_.each(config.blocks,function(a,b){__p+="\n			",__p+=isTask?'\n			<div class="sch-percent-allocated-bar" style="'+(null==(__t=a.style)?"":__t)+"background-color : "+(null==(__t=a.taskColor)?"":__t)+"; width: "+(null==(__t=percentArr[b])?"":__t)+'%;height: 16px; line-height: 16px;">\n 				<span class="sch-percent-allocated-bar-span" style="'+(null==(__t=a.textStyle)?"":__t)+' ">'+(null==(__t=a.text)?"":__t)+"</span>\n			</div>\n			":'\n			<div class="sch-percent-allocated-bar" style="'+(null==(__t=a.style)?"":__t)+"background-color : "+(null==(__t=a.planColor)?"":__t)+"; width: "+(null==(__t=percentArr[b])?"":__t)+'%;">\n 				<span class="sch-percent-allocated-bar-span" style="'+(null==(__t=a.textStyle)?"":__t)+' ">'+(null==(__t=a.text)?"":__t)+"</span>\n			</div>\n			",__p+="\n		"}),__p+='\n	</div>\n	<div class="node_container">\n		',isTask?(__p+="\n		",_.each(config.lines,function(a,b){__p+="\n			",0==b?__p+='\n				<span style="width : 5px; height : 24px; position : absolute; top : -3px; left : 0px; background-color : '+(null==(__t=a.color)?"":__t)+'"></span>\n			':2==b&&a.color?__p+='\n				<span style="width : 5px; height : 24px; position : absolute; top : -3px; right : 0px; background-color : '+(null==(__t=a.color)?"":__t)+'"></span>\n			':1==b&&a.color&&(__p+='\n				<span style="width : 5px; height : 24px; position : absolute; top : -3px; left : '+(null==(__t=percentArr[0])?"":__t)+"%; margin-left: -3px;background-color : "+(null==(__t=a.color)?"":__t)+'"></span>\n			'),__p+="\n		"}),__p+="\n		"):(__p+="\n		",_.each(config.lines,function(a,b){__p+="\n			",0==b?__p+='\n				<span style="width : 5px; height : 22px; position : absolute; top : -3px; left : 0px; background-color : '+(null==(__t=a.color)?"":__t)+'"></span>\n			':2==b&&a.color?__p+='\n				<span style="width : 5px; height : 22px; position : absolute; top : -3px; right : 0px; background-color : '+(null==(__t=a.color)?"":__t)+'"></span>\n			':1==b&&a.color&&(__p+='\n				<span style="width : 5px; height : 22px; position : absolute; top : -3px; left : '+(null==(__t=percentArr[0])?"":__t)+"%; margin-left: -3px;background-color : "+(null==(__t=a.color)?"":__t)+'"></span>\n			'),__p+="\n		"}),__p+="\n		"),__p+="\n	</div>\n</div>";return __p},this.JST["common/gantt/gantt-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<!-- <div id="print-container"></div> -->\n<div class="_tt_loading_m">努力加载中…</div>\n<div id="gantt-tool" class="gantt__tools clearfix">\n	<div data-name="filter" class="gantt__filter"></div>\n	\n		<!-- <input type="button" value="导出" id="exportPDF"/> -->\n	<div class="gantt__actions" >\n		<a id="legend" class=\'tu-icon-wiki\'>图例说明</a>	\n		',isShowFullScreen&&ganttFullUrl&&(__p+='\n		<a type="button" href="'+__e(ganttFullUrl)+'" class="tu-btn tu-btn-small tu-icon-fullscreen" data-name="gantt-fullscreen" target="_blank"></a>\n		'),__p+='\n	</div>\n</div>\n<div id="grid-configuration" style="height:'+(null==(__t=height)?"":__t)+"px;width:"+(null==(__t=width)?"":__t)+'px;">\n	\n</div>\n<div class="_tt_emptyplanlist gantt_empty">\n	<div class="content">\n		<span class="text">暂无数据！</span>\n	</div>\n</div>';return __p},this.JST["common/gantt/gantt-legend"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="gantt__tip_container" style="padding-top:15px">\n    <span class="gantt__tip_text tu-dib">未完成</span>\n    <div class="gantt__tip_color tu-dib">\n        <div class="lengendTip_pic_center" style="background-color:#74bdff;color:white;">\n        	&nbsp;\n        </div>\n    </div>\n</div>\n<div class="gantt__tip_container ">\n    <span class="gantt__tip_text tu-dib">完成</span>\n    <div class="gantt__tip_color tu-dib">\n        <div class="lengendTip_pic_center" style="background-color:#2DAB92;color:white;">\n            完成\n        </div>\n    </div>\n</div>\n<div class="gantt__tip_container ">\n    <span class="gantt__tip_text tu-dib">延期</span>\n    <div class="gantt__tip_color tu-dib">\n        <div class="lengendTip_pic_center" style="background-color:#EB4447;color:white;">\n            延期\n        </div>\n    </div>\n</div>\n<div class="gantt__tip_container ">\n    <span class="gantt__tip_text tu-dib">任务取消</span>\n    <div class="gantt__tip_color tu-dib">\n        <div class="lengendTip_pic_center" style="background-color:#E3ECF1;color:#647481;">\n            已取消\n        </div>\n    </div>\n</div>\n<div class="gantt__tip_container ">\n    <span class="gantt__tip_text tu-dib">任务暂停</span>\n    <div class="gantt__tip_color tu-dib">\n        <div class="lengendTip_pic_center" style="background-color:#F69E17;color:white;">\n            已暂停\n        </div>\n    </div>\n</div>\n<div class="gantt__tip_container" style="padding-bottom:15px"">\n    <span class="gantt__tip_text tu-dib">任务延迟</span>\n    <div class="gantt__tip_color tu-dib">\n        <div class="lengendTip_pic_center" style="background-color:#8379D6;color:white;">\n            已延迟\n        </div>\n    </div>\n</div>\n';return __p},this.JST["common/gantt/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div id="print-container"></div>\n<div class="_tt_loading_m">努力加载中…</div>\n\n<div id="grid-configuration">\n</div>\n\n<div class="_tt_emptyplanlist gantt_empty">\n	<div class="content">\n		<span class="text">暂无数据！</span>\n	</div>\n</div>';return __p},this.JST["common/guidance/base/center-box-item"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="content">\n</div>\n';return __p},this.JST["common/guidance/base/center-box"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n<div class="center-wrap">\n	<div class="close-btn tu-icon-close"></div>\n	<div class="slide-wrap"></div>\n	<div class="toggle">\n	<span  id="prev" class="toggle-slide disabled  tu-icon-angle-left"></span>\n	<span  id="next" class="toggle-slide  tu-icon-angle-right"></span>\n	</div>\n</div>\n';return __p},this.JST["common/guidance/base/guidance"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="cover-box-wrap"></div>\n<div class="center-box-wrap"></div>';return __p},this.JST["common/guidance/chartUpdate/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="titaUpdate"></div>';return __p},this.JST["common/guidance/chartUpdate/screen-one-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="indexPage">\n	<div class="left"></div>\n	<div class="right">\n		<!-- 如果升级文字为一段  此处的 tu-mt-10换成right-count -->\n		<!-- 漂亮的明明说每次调下margin-top,让它居中 -->\n		<div class="right-count" style="margin-top:50px;">\n			<p class="title2">日常工作报表</p>\n			<ul>\n				<li class="detail">新增【项目统计】模块，一键掌握项目执行状况</li>\n				<li class="detail">支持查看“我”、“我的下属”负责的所有项目</li>\n				<li class="detail">领导可以按照组织查看部门项目汇总</li>\n				<li class="detail">【工作安排】更名为【任务统计】</li>\n			</ul>\n			<p class="learn"><a href="http://blog.tita.com/?p=1530" target="_blank">了解更多</a></p>\n		</div>\n	</div>\n</div>\n';return __p},this.JST["common/guidance/dailyUpdate/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="dailyUpdate"></div>';return __p},this.JST["common/guidance/dailyUpdate/screen-one-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="learn page-common">\n	<div class="left"></div>\n	<div class="right">\n		<p class="title">了解总结</p>\n		<div class="detail">\n			<p class="detail-item">作为对工作的全面回顾、检查和分析，您可以： </p>\n			<p class="detail-item"><span class="kao-he-ico  tu-icon-check-active"></span>提醒下属提交总结、了解团队工作动态</p>\n			<p class="detail-item"> <span class="kao-he-ico  tu-icon-check-active"></span>回顾每日/周/月工作内容</p>\n			<p class="detail-item"> <span class="kao-he-ico  tu-icon-check-active"></span>总结、分析当前工作障碍</p>\n			<p class="detail-item"><span class="kao-he-ico  tu-icon-check-active"></span>计划、安排下一步工作</p>\n		</div>\n	</div>\n</div>';return __p},this.JST["common/guidance/dailyUpdate/screen-three-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="analysis page-common">\n	<div class="left"></div>\n	<div class="right">\n		<p class="title">总结数据分析</p>\n		<div class="detail">\n			<p class="detail-item">查看下属及隔级总结详情 </p>\n			<p class="detail-item">数据分析员工执行效率</p>\n		</div>\n		<p class="more">更多总结详情<a href="http://blog.tita.com/?p=618" target="_blank">戳这里</a></p>\n	</div>\n</div>';return __p},this.JST["common/guidance/dailyUpdate/screen-two-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="process page-common">\n	 <div class="left"></div>\n   <div class="right">\n  	 <p class="title">总结流程介绍</p>\n  	 <div class="detail">\n  	 	<p class="detail-item">1.撰写工作总结</p>\n  	 	<p class="detail-item">2.提醒上级查看工作总结</p>\n  	 	<p class="detail-item"> 3.上级评价工作总结</p>\n  	 </div>\n   </div>\n</div>';return __p},this.JST["common/guidance/extraGuidance/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="extraGuidance"></div>';return __p},this.JST["common/guidance/extraGuidance/screen-one-page"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="page-one">\n	<p class="title tu-mb-20">Hi!&nbsp; '+__e(loginName)+'，&nbsp;欢迎访问tita！</p>\n	<p class="sub-title">作为&nbsp; '+__e(tenantName)+' &nbsp;的“项目外部联系人”，您可以使用tita：</p>\n	<div class="tu-clearfix">\n		<ul class="extra-list">\n			<li class="extra-detail tu-icon-tick">和项目成员沟通</li>\n			<li class="extra-detail tu-icon-tick">实时了解项目的进度</li>\n			<li class="extra-detail tu-icon-tick">掌握项目基本信息</li>\n		</ul>\n		<div class="extra-img">\n\n		</div>\n	</div>\n	<div class="extra-more tu-mt-20 tu-mb-15 tu-clearfix">\n		<div class="extra-text">拥有属于您企业的专属tita, 将享受更多功能！</div>\n		<div class="extra-line"></div>\n	</div>\n	<ul class="extra-moreList tu-clearfix">\n		<li><a target="_blank" href="http://help.tita.com/ProIntro/Project?phone=4006-503-180&distributorid=0&email=kefu%40tita.com">项目管理</a></li>\n		<li><a target="_blank" href="http://help.tita.com/ProIntro/Plan?phone=4006-503-180&distributorid=0&email=kefu%40tita.com">计划管理</a></li>\n		<li><a target="_blank" href="http://help.tita.com/ProIntro/Okr?phone=4006-503-180&distributorid=0&email=kefu%40tita.com">工作考核</a></li>\n		<li><a target="_blank" href="http://help.tita.com/ProIntro/Daily?phone=4006-503-180&distributorid=0&email=kefu%40tita.com">日周月报</a></li>\n		<li><a target="_blank" href="http://help.tita.com/ProIntro/File?phone=4006-503-180&distributorid=0&email=kefu%40tita.com">文件管理</a></li>\n		<li><a target="_blank" href="http://service.tita.com/pages/viewpage.action?pageId=2262387">员工管理</a></li>\n		<li><a target="_blank" href="http://service.tita.com/pages/viewpage.action?pageId=2262938">会议室预定</a></li>\n		<li><a target="_blank" href="http://service.tita.com/pages/viewpage.action?pageId=2261464">审批中心</a></li>\n	</ul>\n</div>\n';
return __p},this.JST["common/guidance/newClient/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="newClient"></div>';return __p},this.JST["common/guidance/newClient/regulations"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)_.each(objSettings,function(a){__p+="\n    ",11==a.objSettingType?__p+='\n        <div class="settings-items">\n            <div class="tu-dib">要求下属 </div>\n            <div class="tu-dib">\n                <span '+(null==(__t=a.isAuthority?'data-name="planDay"':"")?"":__t)+' data-type="setValue" data-id="11" class = "dropdown-btn dropdown-btn-first '+(null==(__t=a.isAuthority?"tu-icon-sort-down tu-cp":"disabled")?"":__t)+'  ">每周'+(null==(__t=a.settingMark.valueName[a.setValue])?"":__t)+'</span>\n            </div> \n            <div class="tu-dib">\n                <span '+(null==(__t=a.isAuthority?'data-name="planTime"':"")?"":__t)+' data-type="setTime" data-id="11" class = "dropdown-btn dropdown-btn-second '+(null==(__t=a.isAuthority?"tu-icon-sort-down tu-cp":"disabled")?"":__t)+'" style="margin-left:0px">'+(null==(__t=a.settingMark.setTime)?"":__t)+"</span> \n                交周计划\n            </div>\n        </div>\n    ":24==a.objSettingType&&(__p+='\n        <div class="settings-items">\n            <div class="tu-dib">要求下属</div>\n            <div class="tu-dib">\n                <span '+(null==(__t=a.isAuthority?'data-name="dailyDay"':"")?"":__t)+' data-type="periodType" data-id="24" class = "dropdown-btn dropdown-btn-first   '+(null==(__t=a.isAuthority?"tu-icon-sort-down tu-cp":"disabled")?"":__t)+'">'+(null==(__t=a.settingMark.periodName[a.periodType])?"":__t)+'</span> \n            </div>\n            <div class="tu-dib">\n                <span '+(null==(__t=a.isAuthority?'data-name="dailyTime"':"")?"":__t)+' data-type="setTime" data-id="24" class = "dropdown-btn dropdown-btn-second  '+(null==(__t=a.isAuthority?"tu-icon-sort-down tu-cp":"disabled")?"":__t)+'" style="margin-left:0px">'+(null==(__t=a.settingMark.setTime)?"":__t)+"</span> \n                交日报，否则算迟交。\n            </div>\n        </div>\n    "),__p+="\n"}),__p+="\n\n\n\n";return __p},this.JST["common/guidance/newClient/reminding"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)isqqClient?__p+='\n	<!-- <div class="qqUser-remiding"> -->\n		<span>请联系企业QQ管理员设置上下级</span>\n	<!-- </div> -->\n	':(__p+="2"==role||"4"==role?'\n		<!-- <div class="manager-remiding"> -->\n			<span>安排下属工作需要上下级关系</span>\n			<p class="manager-reminding"  >进入<a class="boxContentHref" data-href='+(null==(__t=urlObj.tmStaffUrl)?"":__t)+' href="javascript:void(0);">后台管理-员工管理</a>帮员工设置上下级</p>\n		<!-- </div> -->\n		':'\n			<!-- <div class="staff-remiding"> -->\n				<span>您现在暂无下属，快去设置上下级吧</span>\n				<p class="staff-reminding"><a class="boxContentHref"  href="javascript:void(0);"data-href='+(null==(__t=urlObj.titaSetUrl)?"":__t)+'>马上添加下属</a>或 <a href="javascript:void(0);" class="reminding-set-sub">提醒超管设置下属</a></p>\n			<!-- </div> -->\n	',__p+="\n"),__p+="\n";return __p},this.JST["common/guidance/newClient/screen-four-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="page-four">\n	<div class="left">\n		<p class="title1 title">tita最新资讯</p>\n		<div class="tita-SCode-wrap">\n			<span class="tita-SCode SCode-common-style"></span>\n			<p class="SCode-detail">微信服务号</p>		\n		</div>\n	</div>\n	<div class="right">\n		<p class="title2 title">第一时间收到工作通知</p>\n		<div class="ios-SCode-wrap">\n			<span class="ios-SCode SCode-common-style"></span>\n			<p class="SCode-detail">iOS客户端</p>		\n		</div>\n		<div class="android-SCode-wrap">\n			<span class="android-SCode SCode-common-style"></span>\n			<p class="SCode-detail">Android客户端</p>\n		</div>\n	</div>\n	<div class="footer-more clearfix">\n		<span class="more">更多tita入门请访问</span><a class="tu-btn tu-btn-larger more-btn" target="_blank" href="http://blog.tita.com/?p=584">tita服务中心</a>\n	</div>\n</div>';return __p},this.JST["common/guidance/newClient/screen-one-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="page-one page-common">\n	<div class="page-one-box">\n		<div class="settings ">\n			<img src="'+(null==(__t=imgUrl)?"":__t)+'" width="84" height="86" />\n			<span class="tu-dib tu-ml-20 tu-vam">感谢使用tita！即将开启工作管理</span>\n		</div>\n		<div data-name=\'regulations\' class="regulations tu-pl-30"></div>\n		',isqqClient||(__p+='\n			<div class="newClient-btn tu-mb-20">\n				<a class="tu-btn tu-btn-small tu-btn-sure page-one-btn btn1" data-href='+(null==(__t=urlObj.tmStaffUrl)?"":__t)+' href="javascript:void(0);" data-name="saveSettings">保存并添加员工</a>\n				<span class="tu-ml-20">暂不保存，直接\n					<a target="_blank" href="'+(null==(__t=rmUrl)?"":__t)+'">添加员工</a>\n				</span>\n			</div>\n			'),__p+='\n				<div class="tu-mt-20">\n					<img src="'+(null==(__t=redImgUrl)?"":__t)+'" />\n					<span class="tu-ml-5">成功添加5名同事，合作后将奖励您188元现金红包！</span>\n				</div>\n	</div>\n\n</div>';return __p},this.JST["common/guidance/newClient/screen-three-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="page-three page-one page-common">\n	<div class="left"></div>\n	<div class="right">\n		<p class="title">制定我的计划</p>\n		<div class="detail">\n			<p class="detail-item">可以安排每日、每周、每月的工作计划 </p>\n			<p class="detail-item">每日工作推送、提醒功能，让工作更聚焦</p>\n		</div>\n		<div class="newClient-btn">\n			<a class="tu-btn tu-btn-larger tu-btn-sure btn1 page-three-btn"  href="javascript:void(0);" data-href='+(null==(__t=urlObj.titaPlanUrl)?"":__t)+'>制定计划</a>\n			<a class="tu-btn tu-btn-larger page-three-btn"  data-href='+(null==(__t=urlObj.titaProjectUrl)?"":__t)+' href="javascript:void(0);" >创建协作项目</a>\n		</div>\n	</div>\n</div>';return __p},this.JST["common/guidance/newClient/screen-two-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="page-two page-common">\n	<div class="left"></div>\n	<div class="right">\n		<p class="title">安排下属工作</p>\n		<div class="detail">\n			<p class="detail-item">监管下属任务执行过程，考核执行结果</p>\n			<p class="detail-item">可以给下属派发任务、计划、日报、考核</p>\n		</div>\n		<div class="task">\n			<p class="p1"><a class="tu-btn tu-btn-larger tu-btn-sure task-btn" data-href='+(null==(__t=urlObj.titaBenchUrl)?"":__t)+' href="javascript:void(0);">派发任务</a><a data-href='+(null==(__t=urlObj.titaPlanUrl)?"":__t)+' href="javascript:void(0);" data-name="remind-plan">提醒下属写计划</a></p>\n			<p class="p2"><a  class="reminding" data-name="remind-day" href="javascript:void(0);" data-href='+(null==(__t=urlObj.titaDailyUrl)?"":__t)+' >提醒下属写日报</a><a  href="javascript:void(0);" data-href='+(null==(__t=urlObj.titaOkrUrl)?"":__t)+' data-name="remind-okr" >发起团队考核</a></p>\n		</div>\n	</div>\n</div>';return __p},this.JST["common/guidance/okr/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="okr"></div>';return __p},this.JST["common/guidance/okr/screen-one-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="learn addData">\n	<div class="left"></div>\n	<div class="right">\n		<p class="title">了解考核</p>\n		<div class="detail">\n			<p class="detail-item">考核作为PDCA最后一环，您可以： </p>\n			<p class="detail-item"><span class="kao-he-ico  tu-icon-check-active"></span>随时发起考核，评估团队工作执行结果</p>\n			<p class="detail-item"> <span class="kao-he-ico  tu-icon-check-active"></span>个性化定制考核模板，多维度评价工作 </p>\n			<p class="detail-item"> <span class="kao-he-ico  tu-icon-check-active"></span>考核结果让工作目标更聚焦</p>\n			<p class="detail-item"><span class="kao-he-ico  tu-icon-check-active"></span>作为绩效、薪酬的凭据</p>\n		</div>\n	</div>\n</div>';return __p},this.JST["common/guidance/okr/screen-three-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="analysis">\n	<div class="left"></div>\n	<div class="right">\n		<p class="title">考核数据分析</p>\n		<div class="detail">\n			<p>随时了解考核进度 </p><p>快捷把控对团队考核结果</p>\n		</div>\n		<p class="more">更多考核详情<a href="http://blog.tita.com/?p=635" target="_blank">戳这里</a></p>\n	</div>\n</div>';return __p},this.JST["common/guidance/okr/screen-two-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="process addData">\n	 <div class="left"></div>\n   <div class="right">\n  	 <p class="title">考核流程介绍</p>\n  	 <div class="detail">\n  	 	<p>1.发布考核</p><p>2.员工创建考核并自我评价</p><p> 3.领导进行审批评价 </p><p>4.考核结束</p>\n  	 </div>\n   </div>\n</div>';return __p},this.JST["common/guidance/okrUpdate/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="okrUpdate"></div>';return __p},this.JST["common/guidance/okrUpdate/screen-one-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="page-one">\n	<div class="left"></div>\n	<div class="right"><p class="title">考核</p>\n		<ul>\n			<li class="detail">邀请同事进行第三方评价，让员工评估更全面、合理（仅限于高级考核）</li>\n			<li class="detail">员工间可共享考核，实现评估透明</li>\n			<li class="detail">考核管理员新增“公司全部考核”视图</li>\n			<li class="detail">还有其他交互细节优化等你发现哦~</li>\n		</ul>\n		<p class="learn"><a href="http://service.tita.com/pages/viewpage.action?pageId=2261549" target="_blank">了解更多</a></p>\n	</div>\n</div>\n';return __p},this.JST["common/guidance/projectGuidance/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="projectGuidance"></div>';return __p},this.JST["common/guidance/projectGuidance/screen-one-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="learn page-common">\n	<div class="left"></div>\n	<div class="right">\n		<p class="title">了解项目</p>\n		<div class="detail">\n			<p class="detail-item">项目为实现一组特定的工作目标，您可以：</p>\n			<p class="detail-item"><span class="kao-he-ico  tu-icon-check-active"></span>跨部门协作，高效沟通</p>\n			<p class="detail-item"> <span class="kao-he-ico  tu-icon-check-active"></span>派发任务，逐一追踪</p>\n			<p class="detail-item"> <span class="kao-he-ico  tu-icon-check-active"></span>进展统计，指导管理</p>\n			<p class="detail-item"><span class="kao-he-ico  tu-icon-check-active"></span>上传文件，随用随取</p>\n		</div>\n	</div>\n</div>';return __p},this.JST["common/guidance/projectGuidance/screen-three-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="analysis page-common">\n	<div class="left"></div>\n	<div class="right">\n		<p class="title">项目数据分析</p>\n		<div class="detail">\n			<p class="detail-item">了解项目进度 </p>\n			<p class="detail-item">快捷查看任务进展状况</p>\n		</div>\n		<!-- <p class="more">更多总结详情<a href="//service.tita.com/pages/viewpage.action?pageId=1901025" target="_blank">戳这里</a></p> -->\n	</div>\n</div>';return __p},this.JST["common/guidance/projectGuidance/screen-two-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="process page-common">\n	 <div class="left"></div>\n   <div class="right">\n  	 <p class="title">项目流程管控</p>\n  	 <div class="detail">\n  	 	<p class="detail-item">1.企业级项目审批设置</p>\n  	 	<p class="detail-item">2.审批流程个性化定制</p>\n  	 </div>\n   </div>\n</div>';return __p},this.JST["common/guidance/projectUpdate/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="projectUpdate"></div>';return __p},this.JST["common/guidance/projectUpdate/screen-one-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="page-one">\n	<span class="tu-db tu-font-h2 tu-tac tu-ft_c3" style="margin-top:40px">项目下支持添加“企业外部联系人”啦！	<img class="text-top" src="'+(null==(__t=Talent.Context.getStaticUrl("images/work/hua.png"))?"":__t)+'"/></span>\n	<span class="tu-db  tu-tac tu-font-h4 tu-mt-5">听说新功能不仅免费，还有红包，快进入【项目】看看吧～</span>\n	<span class="tu-db project-new-gif">\n\n	</span>\n</div>\n';return __p},this.JST["common/guidance/titaUpdate/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="titaUpdate"></div>';return __p},this.JST["common/guidance/titaUpdate/screen-one-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="indexPage">\n	<div class="left"></div>\n	<div class="right">\n		<!-- 如果升级文字为一段  此处的 tu-mt-10换成right-count -->\n		<!-- 漂亮的明明说每次调下margin-top,让它居中 -->\n		<div class="right-count" style="margin-top:50px;">\n			<p class="title2">‘今日工作’搬家了！</p>\n			<ul>\n				<li class="detail">‘计划表’更名为‘工作计划’，‘今日工作’转移到‘工作计划’下</li>\n				<li class="detail">可根据企业管理需要，进入‘高级功能设置’灵活启用或关闭高级功能</li>\n				<li class="detail">任务创建、任务列表细节交互展示优化</li>\n			</ul>\n			<p class="learn"><a href="http://blog.tita.com/p0403/" target="_blank">了解更多</a></p>\n		</div>\n	</div>\n</div>\n';return __p},this.JST["common/guide-modal/guide-modal"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="guide-modal-cover" data-name="guide-modal-cover">\n	\n</div>\n<div class="guide__content-box guide__'+__e(tipType)+'-box tu-poa" data-name="guide-box">\n    <div data-name="guide-modal-target" class="guide-modal-'+__e(tipType)+'">\n    </div>\n    <div class="guide-modal-btn tu-mt-10" data-name="guide-modal-btn"><div class="guide-modal-btn-text"></div></div>\n</div>';return __p},this.JST["common/guide"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\r\n	<a href="javascript:void(0);" title="" class="closed_guidebottom" data-name="closed"><span class="icon-closed "></span></a>\r\n	<div class="load_guidebottom"  data-name="load"><img src="'+(null==(__t=imgLoadUrl)?"":__t)+'" alt="" /><span>努力加载中…</span></div>\r\n	<iframe allowTransparency="true" src="" width="100%" height="355" frameborder="0" scrolling="no" class="iframe_guidebottom"  data-name="iframe" name="parent"> </iframe>\r\n\r\n';return __p},this.JST["common/indicatormsg/index-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="tt_fromindicator">\n	<div class="pagetitle">\n		<h2 class="ms_pagetitle">\n			',__p+=13==indicatorType?'\n				<span class="ico_reward"></span>\n			':'\n				<span class="ico_pt"></span>\n			',__p+="\n			<span>"+(null==(__t=pagetitle)?"":__t)+'</span>\n		</h2>\n	</div>\n	<div class="feedlist">\n	</div>\n</div>\n';return __p},this.JST["common/italent/app-select-item"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<ul>\r\n	\r\n</ul>\r\n<a href="javascript:void(0);" title="" class="closed"></a>';return __p},this.JST["common/italent/base-module-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)mode&&"nomodule"==mode?(__p+='\r\n	<div class="talent_module_item_wrap">\r\n		<div id="talent_basic_module_main" class="talent_module_item">\r\n			',asyn&&(__p+='\r\n			<div class="talent_basic_module_load"><img src="'+(null==(__t=loadimgurl)?"":__t)+'"><span>加载中...</span></div>\r\n			'),__p+="\r\n		</div>\r\n	</div>\r\n"):(__p+='\r\n<div class="talent_module_item_wrap">\r\n	<div class="talent_module_item">\r\n		',__p+=mode&&"notitle"==mode?"\r\n			\r\n		":'\r\n			<div class="thead_tmi">\r\n				<span class="name_tmi">'+(null==(__t=title)?"":__t)+"</span>\r\n			</div>\r\n		",__p+='\r\n		<div class="tbody_tmi" id="talent_basic_module_main">\r\n			',asyn&&(__p+='\r\n			<div class="talent_basic_module_load"><img src="'+(null==(__t=loadimgurl)?"":__t)+'"><span>加载中...</span></div>\r\n			'),__p+="\r\n		</div>\r\n		"+(null==(__t=tfootTemplate)?"":__t)+"\r\n	</div>\r\n</div>\r\n");return __p},this.JST["common/italent/base-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="_tt_loading_m">努力加载中…</div>\n\n';return __p},this.JST["common/italent/modules/analysis-mid"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="talent_analysis_mid">\r\n	<ul>\r\n		\r\n	</ul>\r\n</div>';return __p},this.JST["common/italent/modules/basiccompetent-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_basiccompetenttesting">\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\n	<div class="talent_progressbar">\n		<div class="progressbar_pb"></div>\n		<p class="value_pb"><span>'+(null==(__t=testcent)?"":__t)+"%</span></p>\n	</div>\n</div>";return __p},this.JST["common/italent/modules/capability-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_abilitytest">\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\n	<div class="talent_progressbar">\n		<div class="progressbar_pb"></div>\n		<p class="value_pb"><span>'+(null==(__t=testcent)?"":__t)+"%</span>分</p>\n	</div>\n</div>";return __p},this.JST["common/italent/modules/ceping"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="talent_ceping">\n	<div class="list_ceping" data-name="list">\n	</div>\n</div>';return __p},this.JST["common/italent/modules/character-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_professionalpersonality">\n	<p class="date_tmi">2013年2月1日</p>\n	<p class="cont_prpe">\n		<span>'+(null==(__t=testcent)?"":__t)+"</span><br />\n		"+(null==(__t=testtype)?"":__t)+"\n	</p>\n</div>";return __p},this.JST["common/italent/modules/competency"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="talent_competency">\r\n	<table>\r\n		<thead>\r\n			<tr> \r\n				<th class="col_01">考核周期</th>\r\n				<th class="col_02">得分</th>\r\n				<th class="col_03">等级</th>\r\n				<th class="col_04">考核</th>\r\n				<th class="col_05">来源</th>\r\n				<th class="col_06"></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody>\r\n		</tbody>\r\n	</table>\r\n</div>';return __p},this.JST["common/italent/modules/currently-end-i360"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n<div class="talent_inventory_i360">\n	<p class="date_tmi">2013年2月1日</p>\n	<div class="chart_i360"></div>\n</div>';return __p},this.JST["common/italent/modules/currently-end-performance"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<span class="ico_ee"></span>\r\n<span class="num_ee">'+(null==(__t=managerratescore)?"":__t)+'</span>\r\n<p class="name_ee">'+(null==(__t=name)?"":__t)+'</p>\r\n<p class="time_ee">'+(null==(__t=periodicitybegindate)?"":__t)+"—"+(null==(__t=periodicityenddate)?"":__t)+"</p>";return __p},this.JST["common/italent/modules/currently-end-successiondp"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div  class="talent_inventory_endsuccession">\n	<p class="from_es">来自：<a href="'+(null==(__t=url)?"":__t)+'" title="">'+(null==(__t=name)?"":__t)+"</a></p>\n	<ul>\n		",_.each(Targets,function(a){__p+='\n		<li>\n			<span class="ico_es"></span>\n			<a class="name_es">'+(null==(__t=a.name)?"":__t)+'</a>\n			<p class="time_es">'+(null==(__t=a.summary)?"":__t)+"</p>\n		</li>\n		"}),__p+="\n	</ul>\n</div>\n";return __p},this.JST["common/italent/modules/currently-end-talentReviewView"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<span class="ico_ee"></span>\r\n<a href="'+(null==(__t=url)?"":__t)+'" title="" class="name_ee">'+(null==(__t=name)?"":__t)+'</a>\r\n<p class="time_ee">'+(null==(__t=start_date)?"":__t)+"—"+(null==(__t=end_date)?"":__t)+"</p>";return __p},this.JST["common/italent/modules/epm"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="talent_epm">\n	<table>\n		<thead>\n			<tr> \n				<th class="col_01">考核周期</th>\n				<th class="col_02">得分</th>\n				<th class="col_03">等级</th>\n				<th class="col_04">考核</th>\n				<th class="col_05">来源</th>\n				<th class="col_06"></th>\n			</tr>\n		</thead>\n		<tbody>\n		</tbody>\n	</table>\n</div>';return __p},this.JST["common/italent/modules/fealty-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_organizationalloyalty">\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\n	<div class="talent_progressbar">\n		<div class="progressbar_pb"></div>\n		<p class="value_pb"><span>'+(null==(__t=testcent)?"":__t)+"</span>分</p>\n	</div>\n</div>\n";return __p},this.JST["common/italent/modules/individuation-management-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_managementpersonality">\r\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\r\n	<div class="chat_mp"></div>\r\n</div>';return __p},this.JST["common/italent/modules/interest-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_vocationalinterest ">\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\n	<p class="cont_vi">'+(null==(__t=testcent)?"":__t)+"</p>\n</div>";return __p},this.JST["common/italent/modules/kernel-management-testing"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+="";return __p},this.JST["common/italent/modules/leadership-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_leadershipassessment">\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\n	<div class="talent_progressbar">\n		<div class="progressbar_pb"></div>\n		<p class="value_pb"><span>'+(null==(__t=testcent)?"":__t)+"</span>分</p>\n	</div>\n</div>";return __p},this.JST["common/italent/modules/management-capability-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_managementpotentia">\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\n	<div class="talent_progressbar">\n		<div class="progressbar_pb"></div>\n		<p class="value_pb"><span>'+(null==(__t=testcent)?"":__t)+"</span> </p>\n	</div>\n</div>\n";return __p},this.JST["common/italent/modules/management-competent-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_managementcompetenttesting">\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\n	<div class="talent_progressbar">\n		<div class="progressbar_pb"></div>\n		<p class="value_pb"><span>'+(null==(__t=testcent)?"":__t)+"%</span></p>\n	</div>\n</div>";return __p},this.JST["common/italent/modules/management-style-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="talent_inventory_managementstyle">\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\n	<div class="cont_mm">\n		<span class="left_cmm">关<br/>系<br/>导<br/>向</span>\n		<ul class="torque_cmm">\n			',__p+="参与式"==testcent?'<li class="active_cmm">':"<li>",__p+='\n				<div class="a_cmm a1_cmm"><span>参与式</span></div>\n			</li>\n			',__p+="教练式"==testcent?'<li class="active_cmm">':"<li>",__p+='\n				<div class="a_cmm a2_cmm"><span>教练式</span></div>\n			</li>\n			',__p+="放权式"==testcent?'<li class="active_cmm">':"<li>",__p+='\n				<div class="a_cmm a3_cmm"><span>放权式</span></div>\n			</li>\n			',__p+="指示式"==testcent?'<li class="active_cmm">':"<li>",__p+='\n				<div class="a_cmm a4_cmm"><span>指示式</span></div>\n			</li>\n		</ul>\n		<span class="bottom_cmm">任务导向</span>\n	</div>\n</div>\n';return __p},this.JST["common/italent/modules/performance"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="talent_performance">\r\n	<table>\r\n		<thead>\r\n			<tr> \r\n				<th class="col_01">考核周期</th>\r\n				<th class="col_02">得分</th>\r\n				<th class="col_03">等级</th>\r\n				<th class="col_04">考核</th>\r\n				<th class="col_05">来源</th>\r\n				<th class="col_06"></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody>\r\n		</tbody>\r\n	</table>\r\n</div>';return __p},this.JST["common/italent/modules/potential"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="talent_potential">\r\n	<table>\r\n		<thead>\r\n			<tr> \r\n				<th class="col_01">考核周期</th>\r\n				<th class="col_02">得分</th>\r\n				<th class="col_03">等级</th>\r\n				<th class="col_04">考核</th>\r\n				<th class="col_05">来源</th>\r\n				<th class="col_06"></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody>\r\n		</tbody>\r\n	</table>\r\n	\r\n</div>\r\n';return __p},this.JST["common/italent/modules/reasoning-testing"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_inventory_managementcompetenttesting">\r\n	<p class="date_tmi">'+(null==(__t=createtime)?"":__t)+'</p>\r\n	<div class="talent_progressbar">\r\n		<div class="progressbar_pb"></div>\r\n		<p class="value_pb"><span>'+(null==(__t=testcent)?"":__t)+"%</span> </p>\r\n	</div>\r\n</div>";return __p},this.JST["common/italent/modules/record-activity"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="<dl>\n	<dt>"+(null==(__t=appname)?"":__t)+"</dt>\n	",_.each(ActivityExperienceModels,function(a){__p+='\n	<dd><a href="'+(null==(__t=a.url)?"":__t)+'" title="">'+(null==(__t=a.name)?"":__t)+"</a></dd>\n	"}),__p+="\n</dl>\n\n";return __p},this.JST["common/italent/modules/record-avatar"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="talent_profile_userinfo">\n	<div class="user_ui">\n		<span class="avatar_ui">\n			\n\n			',__p+=0==has_avatar?"			\n				"+(null==(__t=_.convertImage({className:"",src:photo,size:50,shape:"radius",name:name,bgColor:color}))?"":__t)+"\n			":'\n				<img alt="'+(null==(__t=name)?"":__t)+'" src="'+(null==(__t=photo)?"":__t)+'">\n			',__p+='\n\n		</span>\n		<dl>\n			<dt>\n				<span class="ch_ui">'+(null==(__t=_.substringWithM(name,12,!0))?"":__t)+"</span>\n				",englishname&&""!=englishname&&(__p+='<span class="eh_ui">（'+(null==(__t=_.substringWithM(englishname,12,!0))?"":__t)+"）</span>"),__p+="\n				","undefined"!=typeof mark&&mark&&(__p+='\n					<img src="'+(null==(__t=mark.logo)?"":__t)+'" original-title="'+(null==(__t=mark.mark_name)?"":__t)+'">\n				'),__p+="\n\n				<!-- ",1!=routerData.appid||1!=routerData.apptype||routerData.ismyself||(__p+="\n					",__p+=0==is_follow?'\n						<a href="javascript:void(0);" title="" class="btn btn-attention" to-user-id="'+(null==(__t=userid)?"":__t)+'"><b>'+(null==(__t=i18n.follow_1)?"":__t)+"</b><span>"+(null==(__t=i18n.follow_1)?"":__t)+"</span></a>\n					":'\n						<a href="javascript:void(0);" title="" class="btn btn-cancel-attention" to-user-id="'+(null==(__t=userid)?"":__t)+'"><b>'+(null==(__t=i18n.following_1)?"":__t)+"</b><span>"+(null==(__t=i18n.cancelfollow_1)?"":__t)+"</span></a>\n					",__p+=" \n				"),__p+="-->\n			</dt>\n		</dl>\n		",routerData.ismyself&&(__p+='\n		<a href="#more/archives?appid='+(null==(__t=routerData.appid)?"":__t)+"&apptype="+(null==(__t=routerData.apptype)?"":__t)+'" title="" class="edit_ui"><span class="ico"></span><span>简档编辑</span></a>\n		'),__p+="\n	</div>\n</div>\n\n";return __p},this.JST["common/italent/modules/record-base"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="talent_record_basic">\n	<div class="talent_record_basic_box"></div>\n</div>\n';return __p},this.JST["common/italent/modules/talent-dynamic"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div name="pubblog"></div>  \r\n<div name="feedlist"></div>';return __p},this.JST["common/italent/modules/talent-plan-statistics"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent-plan-statistics">\r\n	<div class="charts_ps"></div>\r\n	<div class="counttotal_ps">\r\n		<p class="tit_ps">'+(null==(__t=i18n.plan_1)?"":__t)+'完成率</p>\r\n		<ul class="watch_ps">\r\n			<li>\r\n				本周  '+(null==(__t=totaldata.weekdone)?"":__t)+"/"+(null==(__t=totaldata.weektotal)?"":__t)+"\r\n				<span>"+(null==(__t=totaldata.weekpercent)?"":__t)+'</span>\r\n			</li>\r\n			<li class="first">\r\n				本月  '+(null==(__t=totaldata.monthdone)?"":__t)+"/"+(null==(__t=totaldata.monthtotal)?"":__t)+"\r\n				<span>"+(null==(__t=totaldata.monthpercent)?"":__t)+"</span>\r\n			</li>\r\n		</ul>\r\n	</div>\r\n</div>";return __p},this.JST["common/italent/modules/talent-profile"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="ms_tablist">\r\n	<ul>\r\n		\r\n	</ul>\r\n</div>\r\n<div class="membership_container"></div>';return __p},this.JST["common/italent/modules/talent-task-statistics"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="talent-task-statistics">\r\n	<ul class="tab_ts">\r\n		<li class="active"><a href="javascript:void(0);" title="">本周</a><span class="caret"></span></li>\r\n		<li><a href="javascript:void(0);" title="">本月</a><span class="caret"></span></li>\r\n		<li><a href="javascript:void(0);" title="">本季度</a><span class="caret"></span></li>\r\n	</ul>\r\n	<div class="box_ts"></div>\r\n	<div class="classstatistic" data-name="class-statistic">\r\n		<p class="tit_ts">按分类统计</p>\r\n		<div class="tablecont_ts">\r\n			<table class="all_ts">\r\n				<tr> \r\n					<th class="col_01">我所有'+(null==(__t=task_1)?"":__t)+'统计 </th>\r\n					<th class="col_02">总数</th>\r\n					<th class="col_03">已完成</th>\r\n					<th class="col_04">未完成</th>\r\n					<th class="col_05">完成率</th>\r\n				</tr>\r\n				<tr> \r\n					<td>'+(null==(__t=CounterCollections2.all.name)?"":__t)+" </td>\r\n					<td>"+(null==(__t=CounterCollections2.all.total)?"":__t)+" </td>\r\n					<td>"+(null==(__t=CounterCollections2.all.done)?"":__t)+" </td>\r\n					<td>"+(null==(__t=CounterCollections2.all.undone)?"":__t)+" </td>\r\n					<td>"+(null==(__t=CounterCollections2.all.donepercent)?"":__t)+"</td>\r\n				</tr>\r\n			</table>\r\n			<ul>\r\n				",_.each(CounterCollections2.other,function(a){__p+='\r\n				<li>\r\n					<table class="app_4_ts">\r\n						<tr> \r\n							<th class="col_01">'+(null==(__t=a.name)?"":__t)+'</th>\r\n							<th class="col_02">总数</th>\r\n							<th class="col_03">已完成</th>\r\n							<th class="col_04">未完成</th>\r\n							<th class="col_05">完成率</th>\r\n							\r\n						</tr>\r\n						',_.each(a.usertaskcounters,function(a,b){__p+="\r\n						<tr ",b%2!=0&&(__p+=' class="zebra"'),__p+="> \r\n							<td>"+(null==(__t=a.name)?"":__t)+"</td>\r\n							<td>"+(null==(__t=a.total)?"":__t)+"</td>\r\n							<td>"+(null==(__t=a.done)?"":__t)+"</td>\r\n							<td>"+(null==(__t=a.undone)?"":__t)+"</td>\r\n							<td>"+(null==(__t=a.donepercent)?"":__t)+"</td>\r\n						</tr>\r\n						"}),__p+='\r\n					</table>\r\n					<div class="table_line"></div>\r\n				</li>\r\n				'}),__p+="\r\n			</ul>\r\n		<div>\r\n	</div>\r\n</div>";return __p},this.JST["common/italent/modules/user-performance"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="talent_home_epm">\r\n	<ul class="total_epm">\r\n		<li>\r\n			<p>'+(null==(__t=targettotal)?"":__t)+"</p>\r\n			目标\r\n		</li>\r\n		<li>\r\n			<p>"+(null==(__t=taskdonetotal)?"":__t)+"/<span>"+(null==(__t=tasktotal)?"":__t)+'</span></p>\r\n			任务\r\n		</li>\r\n	</ul>\r\n	<div class="basic_epm">\r\n		\r\n		<table class="name_epm">\r\n			<tr> \r\n				<td><i class="logo_epm"></i></td>\r\n				<td class="text_epm"><a href="'+(null==(__t=url)?"":__t)+'" title="">'+(null==(__t=name)?"":__t)+'</a></td>\r\n			</tr>\r\n		</table>\r\n		<ul class="intro_epm">\r\n			<li>考核周期：'+(null==(__t=periodicitybegindate)?"":__t)+"—"+(null==(__t=periodicityenddate)?"":__t)+"</li>\r\n			<li>考核结束时间："+(null==(__t=EndDate)?"":__t)+"</li>\r\n		</ul>\r\n	</div>\r\n	","undefined"!=typeof workflowstep&&workflowstep&&workflowstep.length&&(__p+='\r\n	<div class="step_epm">\r\n		<ul class="step_list_epm">\r\n			<li class="x_epm x0_epm"></li>\r\n			\r\n			',_.each(workflowstep,function(a){__p+="\r\n				",__p+=a.currentstep?'\r\n					<li class="x_epm x1_epm hl_epm">'+(null==(__t=a.stepname)?"":__t)+":"+(null==(__t=a.operatorname)?"":__t)+"</li>\r\n				":'\r\n					<li class="x_epm x1_epm">'+(null==(__t=a.stepname)?"":__t)+":"+(null==(__t=a.operatorname)?"":__t)+"</li>\r\n				",__p+="\r\n			"}),__p+="\r\n			\r\n			",__p+="undefined"!=typeof islaststep&&islaststep?'\r\n			<li class="x_epm h1_x4_epm"></li>\r\n			':'\r\n			<li class="x_epm x4_epm"></li>\r\n			',__p+="\r\n		</ul>\r\n	</div>\r\n	"),__p+="\r\n</div>";return __p},this.JST["common/italent/modules/user-successionidp"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_home_succession">\n	<ul class="total_epm">\n		<li>\n			<p>'+(null==(__t=targettotal)?"":__t)+"</p>\n			目标\n		</li>\n		<li>\n			<p>"+(null==(__t=taskdonetotal)?"":__t)+"/<span>"+(null==(__t=tasktotal)?"":__t)+'</span></p>\n			任务\n		</li>\n	</ul>\n	<div class="basic_epm">\n		\n		<span class="leve_epm">'+(null==(__t=statues)?"":__t)+'</span>\n		\n		<table class="name_epm">\n			<tr> \n				<td><i class="logo_epm"></i></td>\n				<td class="text_epm"><a href="'+(null==(__t=url)?"":__t)+'" title="" target="_blank">'+(null==(__t=name)?"":__t)+'</a></td>\n			</tr>\n		</table>\n		<ul class="intro_epm">\n			<li>考核周期：'+(null==(__t=startdate)?"":__t)+"</li>\n			<li>考核结束时间："+(null==(__t=submitdate)?"":__t)+"</li>\n		</ul>\n	</div>\n</div>";
return __p},this.JST["common/italent/modules/user-task"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="do_mt">\n	<div class="time_mt">\n		<span class="date_mt">'+(null==(__t=title)?"":__t)+'</span>\n		<span class="total_mt">'+(null==(__t=total)?"":__t)+"</span>\n	</div>\n	",_.each(tasks,function(a){__p+='\n	<div class="daylist_mt">\n	\n		\n		<div class="app_mt"><i class="app_'+(null==(__t=a.apptype)?"":__t)+'_amt"></i><span>'+(null==(__t=a.appName)?"":__t)+'</span></div>\n		<dl class="item_mt">\n			<dt></dt>\n			<dd>\n				<ul class="list_mt">\n					',_.each(a.Tasks,function(a){__p+="\n					",__p+=2==a.Status?'\n					<li class="complete_mt">\n					':a.IsDeadLine?'\n						<li class="expire_mt">\n					':"\n						<li>\n					",__p+='	\n						<span class="intro_lmt">'+(null==(__t=a.EndTime)?"":__t)+'</span>\n						<a href="'+(null==(__t=a.FeedUrl)?"":__t)+'" title="" class="name_lmt" target="_blank">'+(null==(__t=a.TaskName)?"":__t)+"</a>\n					</li>\n					\n					"}),__p+="\n				</ul>\n			</dd>\n		</dl>\n		\n		\n	</div>\n	"}),__p+="	\n</div>";return __p},this.JST["common/italent/modules/weather"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="talent_dayweather">\n	<div class="day_dw">'+(null==(__t=datenum.day)?"":__t)+'</div>\n	<div class="month_dw">'+(null==(__t=datenum.month)?"":__t)+"月"+(null==(__t=datenum.date)?"":__t)+'日</div>\n	<div id="weather_italent" class="weather_dw"></div>\n</div>\n\n';return __p},this.JST["common/italent/sidebar-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)"undefined"!=typeof items?(__p+="\n	",_.each(items,function(a){__p+='\n	<li>\n		<a href="'+(null==(__t=a.Url)?"":__t)+'" class="'+(null==(__t=a.ChannelType)?"":__t)+'_ttsn" ',a.targetframe&&(__p+='target="app_iframe"'),__p+=">\n			",__p+="undefined"!=typeof a.Icon&&a.Icon?'\n				<strong style="background-image:url('+(null==(__t=a.Icon)?"":__t)+')"></strong>\n			':"\n				<strong></strong>\n			",__p+="\n			<span>"+(null==(__t=a.Name)?"":__t)+"</span>\n		</a>\n	</li>\n	"}),__p+="\n"):__p+="\n	<li>加载中...</li>\n";return __p},this.JST["common/layouts/colum-nav"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tu-page-colum-nav " data-name="nav">\n	<div class="tu-height-full tu-scroll" data-name="nav-container">\n		<ul class="colum-navs"></ul>\n	</div>\n	<div class="colum-navs-line" data-name="colum-navs-line" draggable="true">\n		<div class="colum-navs-line__border tu-height-full"></div>\n		<span class="colum-navs-line__ico"></span>\n	</div>\n</div>\n<div class="tu-page-colum-container tu-height-full" data-name="container"></div>';return __p},this.JST["common/layouts/empty-layout"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div id="main-region" class="tu-height-full"></div>\n<div id="pull-screen-region"></div>\n<div id="rewardBox"></div>';return __p},this.JST["common/layouts/italent-layout"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tu-page-header" data-name="header-region" ></div>\n<div class="tu-page-nav" data-name="nav-region"></div>\n<div class="tu-page-rightview" data-name="rightview-region"></div>\n<div class="tu-page-rightbar" data-name="rightbar-region"></div>\n\n\n\n<div class="tu-page-container tu-scroll" data-name="main-container-region">\n    <div class="tu-main-container-inner tu-height-full" data-name="main-container-innner-region"></div>\n</div>\n<div id="rewardBox"></div>\n<div id="medalBox"></div>';return __p},this.JST["common/layouts/master-layout"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div id="header-region"></div>\n\n<div class="_tt_layout_body">\n	<div id="sidebar-region"></div>\n	<div id="main-region" class="_tt_layout_container_fluid"></div>\n	<div id="right-sidebar-region"></div>\n\n</div>\n<div id="footer-region" class="_tt_footer"></div>\n<div id="tt_global_plan_detail_container"></div>\n\n';return __p},this.JST["common/layouts/reward-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n<div class="rewardheader-msg_redpacket"></div>\n<img class="rewardheader-msg__avatar radius_img30" src="//cache.tita.gift/Image/245345/7367c23c26614a4cbd5f5c9f31a7a59f_s.png">\n\n'+(null==(__t=_.convertImage({className:"rewardheader-msg__avatar",src:fromUser.avatar.small,size:30,shape:"radius",name:fromUser.name,bgColor:fromUser.avatar.color,userId:null,isExternal:2==fromUser.userType}))?"":__t)+"\n";return __p},this.JST["common/layouts/reward"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+="";return __p},this.JST["common/loading-circle"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="loading-container">\n   \n    <div class="loading-content">\n        ',__p+=isShowGIF?'\n            <div class="img-ie">\n                <img src='+(null==(__t=ImgUrl)?"":__t)+">\n            </div>\n        ":'\n            <div class="spinner">\n                <div class="rect1"></div>\n                <div class="rect2"></div>\n                <div class="rect3"></div>\n                <div class="rect4"></div>\n            </div>\n        ',__p+="\n        ",isShowText&&(__p+='\n            <div class="text-loading">\n                '+(null==(__t=textContent)?"":__t)+"\n            </div>\n        "),__p+='\n    </div>\n    <div class="loading-mask"></div>\n</div>\n';return __p},this.JST["common/marketingCampaign/marketing-campaign-view"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<a target="_blank" href="'+(null==(__t=link)?"":__t)+'" class="marketing-icon">\n    <img src="'+(null==(__t=logoDfsUrl)?"":__t)+'" alt="">\n</a>\n',isNewSaleCornerGuide&&(__p+='\n    <div class="marketing-tip" data-name="tip" style="background-image:url('+(null==(__t=marketingPicUrl)?"":__t)+') ">\n        <span data-name="close" class="marketing-tip-close"></span>\n    </div>\n    ');return __p},this.JST["common/membership/membership-tab-component"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="membership_right">\n	<div class="membership_tab_top" ',showShare||(__p+='style="background-color:#eee;"'),__p+='>\n		<ul class="membership_tab_title">\n			<li data-name="membership" data-trigger="false"><span original-title="团队" class="membership_icon_st"></span><a href="javascript:void(0)">团队</a></li>\n			',showShare&&(__p+='\n				<li data-name="share" data-trigger="false"><span original-title="共享" class="membership_icon_share"></span><a href="javascript:void(0)">共享</a></li>\n			'),__p+='	\n		</ul>\n	</div>\n	<div class="membership_arrow membership_arrow_left">\n		<span class="membership_arrow_icon"></span>\n		<span class="membership_arrow_line"></span>\n	</div>\n	<div id="membership_tab"></div>\n	<div id="membership_bottom_container">\n	</div>\n</div>';return __p},this.JST["common/membership/membership-tab-composite"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<li class="membership_item_container" style="position:relative" data-id='+(null==(__t=Id)?"":__t)+" level="+(null==(__t=level)?"":__t)+">\n	",3==level?(__p+='\n		<div class="membership_item_long membership_item_level_'+(null==(__t=level)?"":__t)+" ",1==Type&&(__p+=" membership_item_dashed"),__p+='">\n			<div class="membership_image_container">\n				'+(null==(__t=_.convertImage({className:"membership_image_large",shape:"radius",size:50,src:UserAvatar.Medium,name:Name,bgColor:UserAvatar.Color}))?"":__t)+"\n				",subordinateCount>0&&!Type&&(__p+='\n					<div class="membreship_subordinate_btn">\n						<span></span>\n					</div>\n				'),__p+='\n			</div>\n			<div class="membership_span_container">\n				<span class="item_long_name" title='+(null==(__t=Name)?"":__t)+">"+(null==(__t=subName)?"":__t)+'</span>\n				<span class="item_long_position" title='+(null==(__t=Department)?"":__t)+">部门："+(null==(__t=Department)?"":__t)+'</span>\n				<span class="item_long_description" title='+(null==(__t=Position)?"":__t)+">职位："+(null==(__t=Position)?"":__t)+'</span>\n			</div>\n			<div class="membership_line membership_line_level'+(null==(__t=level)?"":__t)+' ">\n			</div>\n		</div>\n	'):(__p+="\n		",__p+=0!=Id?'\n			<div class="membership_item_short  membership_item_level_'+(null==(__t=level)?"":__t)+'">\n				'+(null==(__t=_.convertImage({className:"membership_image_short",shape:"radius",size:30,src:UserAvatar.Small,name:Name,bgColor:UserAvatar.Color}))?"":__t)+"\n				\n				<span>"+(null==(__t=subName)?"":__t)+'</span>\n				<div class="membership_line membership_line_level'+(null==(__t=level)?"":__t)+' ">\n				</div>\n			</div>\n		':"\n			<div></div>\n		",__p+='\n		<div class="membership_subordinate_container"></div>\n	'),__p+="\n</li>";return __p},this.JST["common/membership/membership-tab-layout"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="membership_back">\n	<div class="membership_back_btn">\n		返回最上级\n	</div>\n</div>\n<div class="membership_tab_staff_container"  id="membership_scroll_container">\n	\n</div>';return __p},this.JST["common/membership/membership-tab-limits-tip"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="membership_none_limit_tip">\r\n	<div class="title_mnlt">隔级查看是什么</div>\r\n	<p class="text_mnlt">所谓隔级查看，就是管理者可以一层一层向下盘点。比如老板可以看到一线员工的'+(null==(__t=i18n.plan_1)?"":__t)+'和任务执行情况、简档、工作报表、动态等。该功能为管理者快速查看间接下级的工作提供便利，从整体上把控现状，让管理更加深入细致，同时也对员工工作起到监督作用。<br/>\r\n	如下图所示，该租户开通了隔级查看后，纪小国可通过张小庆查看到他的下属罗小翀的全部状况。</p>\r\n	<div class="img_mnlt">\r\n		<img src="'+(null==(__t=imgUrl)?"":__t)+'" alt="" />\r\n	</div>\r\n	<br/><br/>\r\n</div>';return __p},this.JST["common/membership/membership-tab-operate"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="membership_bottom">	\n	<div class="membership_bottom_btn">\n		<span class="membership_bottom_text">团队操作</span>\n		<span class="membership_arrow_down"></span>\n		<span class="indicator indicator_all"></span>\n		<div class="dropdown-menu">\n			<ul class="menu-list">\n			</ul>\n		</div>\n	</div>\n</div>	';return __p},this.JST["common/membership/membership-tab-thumb-composite"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div id="membership_scroll_container">\n	<ul class="membership_thumb_container"></ul>\n</div>';return __p},this.JST["common/membership/membership-tab-thumb-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+=null==(__t=_.convertImage({className:"membership_thumb_img",shape:"radius",size:imgSize,src:UserAvatar.Medium,name:Name,bgColor:UserAvatar.Color}))?"":__t;return __p},this.JST["common/membership/membership-tip-limits"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="membership_askfor">\r\n	<p class="tiptext">您的企业尚未开通 <br />'+(null==(__t=i18n.plan_1)?"":__t)+'表隔级查看功能</p>\r\n	<p class="gohelp"><a href="javascript:void(0);" title="">什么是隔级查看？</a></p>\r\n	<a href="javascript:void(0);" title="" class="btn btn-success" data-type="askForButton">立即申请开通</a>\r\n\r\n	<p class="concat">如有任何问题，请咨询在线客服 <br />或拨打 <strong>400 650 3180</strong></p>\r\n</div>\r\n<div class="membership_askfor_success">\r\n	<p class="tiptext"><span class="ico"></span><span>已经提交申请</span></p>\r\n	<p class="comfort">我们会尽快审核，审核通过后，<br />tita客服会联系帮您开通，请耐心等待！</p>\r\n</div>';return __p},this.JST["common/messages/message-approval-layout"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="superior-rules__name tu-font-h3 tu-pt-5" data-name="title">上级规定</div>\n<div class="superior-rules__content tu-font-h5 tu-scroll" data-name="content">\n<div>';return __p},this.JST["common/messages/message-approval"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n\n	<div class="superior-rules__title tu-mt-20">\n		<span class="tu-font-h3 tu-ft_m2">'+(null==(__t=i18n.plan_1)?"":__t)+'规定</span>\n	</div>\n\n	<div class="superior-rules__plan tu-mt-15 tu-ml-20" data-name="plan-conent">\n		<div class="daily-paper tu-mt-15 tu-ft_m2">周计划提醒时间：<span class="data-daily tu-ft_m1">'+(null==(__t=planRules.day)?"":__t)+'</span>\n		</div>\n		<div class="daily-paper tu-mt-15 tu-ft_m2">月计划提醒时间：<span class="data-daily tu-ft_m1">'+(null==(__t=planRules.week)?"":__t)+'</span>\n		</div>\n		<div class="daily-paper tu-mt-15 tu-ft_m2">计划提醒更新时间：<span class="data-daily tu-ft_m1">'+(null==(__t=planRules.month)?"":__t)+'</span>\n		</div>\n	</div>\n\n\n	<div class="superior-rules__title tu-mt-20">\n		<span class="tu-font-h3 tu-ft_m2">'+(null==(__t=i18n.task_1)?"":__t)+'审批规定</span>\n		 <span class="tu-font-a2 tu-ft_m3">（当'+(null==(__t=i18n.task_1)?"":__t)+'发生以下变动时需上级审批）</span>\n	</div>\n	<div class="superior-rules__task tu-ml-20"  data-name="task-content">\n		',planApplySets.length&&(__p+='\n		<ul>\n			<li class="superior-rules__task-item tu-mt-15 tu-cf ">\n				<label>范围：</label>\n				<p class="tu-ft_m1">'+(null==(__t=lableSets)?"":__t)+'</p>\n			</li>\n			<li class="superior-rules__task-item tu-mt-15 tu-cf">\n				<label>类型：</label>\n				<ul class="tu-ft_m1">\n					',_.each(planApplySets,function(a,b){__p+="\n						",a.Value&&(__p+='<li class="tu-mb-10"><span>'+(null==(__t=a.Name)?"":__t)+"</span></li>"),__p+="\n					"}),__p+="\n				</ul>\n			</li>\n		</ul>\n		"),__p+='\n	</div>\n\n\n\n	<div class="superior-rules__title tu-mt-20" >\n		<span class="tu-font-h3 tu-ft_m2">总结规定</span>\n		<span class="tu-font-a2 tu-ft_m3">（超过规定时间提交算迟交）</span>\n	</div>\n	<div class="superior-rules__daily tu-mt-15 tu-ml-20">\n\n		<div class="daily-paper tu-mt-15 tu-ft_m2">日报提交时间：<span class="data-daily tu-ft_m1">'+(null==(__t=dailyRules.day)?"":__t)+'</span>\n		</div>\n		<div class="daily-paper tu-mt-15 tu-ft_m2">周报提交时间：<span class="data-daily tu-ft_m1">'+(null==(__t=dailyRules.week)?"":__t)+'</span>\n		</div>\n		<div class="daily-paper tu-mt-15 tu-ft_m2">月报提交时间：<span class="data-daily tu-ft_m1">'+(null==(__t=dailyRules.month)?"":__t)+"</span>\n		</div>\n	</div>\n\n<br/><br/><br/>\n\n";return __p},this.JST["common/my-team"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="membertree_one">\r\n	<li>\r\n		<a class="top" href="'+(null==(__t=lv_2.LinkUrl)?"":__t)+'" >\r\n\r\n			'+(null==(__t=_.convertImage({className:"radius_img50",src:lv_2.avatar.Medium,size:50,shape:"radius",name:lv_2.name,bgColor:lv_2.avatar.Color}))?"":__t)+"\r\n		</a>\r\n		",lv_3.length&&(__p+='\r\n\r\n		<div class="membertree_line"></div>\r\n		<div class="membertree_box">我的下级</div>\r\n		<ul class="membertree_second">\r\n			',_.each(lv_3,function(a){__p+='\r\n				<li>\r\n					<a href="'+(null==(__t=a.LinkUrl)?"":__t)+'" ',1==a.type&&(__p+='class="dotted_radius_parent"'),__p+=">\r\n						"+(null==(__t=_.convertImage({className:"radius_img50",src:a.avatar.Medium,size:50,shape:"radius",name:a.name,bgColor:a.avatar.Color}))?"":__t)+"\r\n					</a>\r\n			</li>\r\n			"}),__p+="\r\n		</ul>\r\n		"),__p+="\r\n	</li>\r\n</ul>\r\n\r\n";return __p},this.JST["common/nature/empty/index-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="nature-empty__container tu-height-full">\n	<div class="nature-empty__vertical">\n		<div class="nature-empty__img '+(null==(__t="right"==textAlign?"tu-dib":"")?"":__t)+'">\n			<img src="'+(null==(__t=imageUrl)?"":__t)+'"/>\n		</div>\n\n		<div class="nature-empty__text-'+(null==(__t=type)?"":__t)+" tu-font-a1 "+(null==(__t="right"==textAlign?"tu-dib tu-ml-15":"tu-mt-20")?"":__t)+'">\n			'+(null==(__t=emptyText)?"":__t)+"\n		</div>\n	</div>\n</div>";return __p},this.JST["common/new-filter/drop-down-list/drop-down-list-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)"baseline"==title?__p+='\n	<li class="baseline"></li>\n':(__p+='\n<li class="',itemActive&&(__p+="active"),__p+=" ",__p+=isMult?"mult-item":"list-item",__p+='" ',isMult&&(__p+="data-checked="+(null==(__t=checked)?"":__t)),__p+=' data-name="list-item" data-title="'+(null==(__t=title)?"":__t)+'" data-order="'+(null==(__t=nowOrder)?"":__t)+'" ',showTip&&(__p+=' data-placement="top" data-toggle="infotip" data-body="'+(null==(__t=tipTxt)?"":__t)+'"'),__p+=" >\n	",isMult&&(__p+='\n	<span class="check-box"><span class="tu-icon-check-active"></span><span class="tu-icon-checkbox-have"></span></span>\n	'),__p+="\n	"+(null==(__t=title)?"":__t)+"\n	",order.length>1&&(__p+='\n		<span class="right-icon">\n			',_.each(order,function(a,b){__p+='\n				<span class="direction-icon ',activeOrder==a&&(__p+="active"),__p+=" ",__p+=b?"tu-icon-simple-sort-up ":"tu-icon-simple-sort-down",__p+='"></span>\n			'}),__p+="\n		</span>\n	"),__p+="\n</li>\n"),__p+="\n";return __p},this.JST["common/new-filter/drop-down-list/drop-down-list"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="\n",isMult?(__p+='\n<div class="mult-box">\n	<div class="mult-all ',checkAll&&(__p+="active"),__p+='" data-name="checkall">\n		<span class="check-box"><span class="check-box-all tu-icon-check-active"></span><span class="check-box-all tu-icon-checkbox-have"></span></span>'+(null==(__t=allCheckedName)?"":__t)+'\n	</div>\n	<ul class="mult-list"  data-name="list-container">\n		\n	</ul>\n</div>\n'):__p+='\n<div class="single-box">\n	<ul class="single-list" data-name="list-container">\n		\n	</ul>\n</div>\n',__p+="\n\n",save&&activeOrder?__p+='\n	<div class="btn-box">\n		<button class="tu-btn tu-btn-mini tu-btn-sure" data-name="save-btn">记住排序</button>\n	</div>\n':isMult&&(__p+='\n	<div class="btn-box">\n		<button class="tu-btn tu-btn-small tu-btn-sure" data-name="mult-enter">确定</button>\n	</div>\n');return __p},this.JST["common/new-filter/filter-result/filter-result-group-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<span class="',isValid||void 0==isValid||(__p+="error"),__p+=' list-val tu-icon-">'+(null==(__t=val)?"":__t)+'</span><a href="javascript:;" class="close-btn tu-icon-cross" data-name="close-btn"></a>';return __p},this.JST["common/new-filter/filter-result/filter-result-group"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<dt class="result-group-tt" data-name="result-group-tt">'+(null==(__t=groupTittle)?"":__t)+"</dt>\n<dd class=\"result-group-list\" data-name='result-group-list'></dd>\n";return __p},this.JST["common/new-filter/filter-result/filter-result"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="filter-result-wrap tu-clearfix" data-name="filter-result-wrap"></div>';return __p},this.JST["common/new-filter/search-filter-tab-list"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)_.each(normalTabListData,function(a,b){__p+='\n	<li class="filter-tab-item" data-name="tab-item" data-tab-name="'+(null==(__t=a.tabName)?"":__t)+'" data-leftlist="'+(null==(__t=a.tabLeftLine)?"":__t)+'">\n	',"more"==a.tabName?(__p+='\n		<span class="tu-icon-diot tab-more" data-name="tab-more-btn"></span>\n		<ul class="tt-new-filter-dropdownlist filter-more-tab " data-name="more-tab-list">\n			',_.each(a.moreData,function(a){__p+='\n				<li class="list-item" data-name="more-tab-list-item"  data-tab-name="'+(null==(__t=a.tabName)?"":__t)+'">\n					'+(null==(__t=a.tabTitle)?"":__t)+"\n				</li>\n			"}),__p+="\n		</ul>\n	"):__p+='\n		<div class="filter-tab-item-wrap">\n			<span data-name="item-name" class="name">'+(null==(__t=a.tabTitle)?"":__t)+'</span>\n			<span class="icon tu-icon-sort-down"></span>\n		</div>\n	',__p+="\n	</li>	\n"}),__p+="\n",hasLeftlineTabListData.length&&(__p+='\n	<span class="group-line">|</span>\n	',_.each(hasLeftlineTabListData,function(a,b){__p+='\n		<li class="filter-tab-item" data-name="tab-item" data-tab-name="'+(null==(__t=a.tabName)?"":__t)+'" data-leftlist="'+(null==(__t=a.tabLeftLine)?"":__t)+'">\n			<div class="filter-tab-item-wrap">\n				<span data-name="item-name" class="name">'+(null==(__t=a.tabTitle)?"":__t)+'</span>\n				<span class="icon tu-icon-sort-down"></span>\n			</div>\n		</li>	\n	'}),__p+="\n");return __p},this.JST["common/new-filter/search-filter-tab"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div data-name="filter-tab-list"></div>\n<div data-name="result-wrap"></div>';return __p},this.JST["common/new-filter/search-filter"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="filter-left-wrap" data-name="filter-tab-wrap"></div>\n<div class="filter-right-wrap tu-clearfix">\n	<div class="filter-seach__container" data-name="search-wrap"></div>\n	<div class="filter-orther-btn">\n		',chart.show&&(__p+='\n			<button class="tu-btn chart-btn" data-name="chart-btn"><span class="tu-icon-chart"></span></button>\n		'),__p+="\n	</div>\n</div>";return __p},this.JST["common/new-filter/search/search"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<div data-name="search-box">\n	<div class="tu-input-default" data-name="search-body">\n	    <label class="placeholder" for="'+(null==(__t=searchName)?"":__t)+'" data-name="placeholder">'+(null==(__t=placeholder)?"":__t)+'</label>\n	    <input type="text" id="'+(null==(__t=searchName)?"":__t)+'" data-name="input">\n	    <div class="right-action tu-clearfix">\n	        ',isShowDelete&&(__p+='<span class="tu-icon-close cancel-btn" data-name="cancel-btn"></span>'),__p+='\n	        <span class="tu-icon-search" data-name="search-btn"></span>\n	    </div>\n	</div>\n</div>\n';return __p},this.JST["common/new-search/new-search"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+=1==type?'\n<div class="btn-wrap-1">\n	<span class="tu-icon-close btn-1 cancel" data-name="cancel"></span>\n	<span class="tu-icon-search btn-1" data-name="search-form-btn"></span>\n</div>\n<div class="tu-input-default">\n    <label class="placeholder" for="'+(null==(__t=searchName)?"":__t)+'" style="padding-left: 5px;">请输入关键字</label>\n    <input type="text" id="'+(null==(__t=searchName)?"":__t)+'" autocomplete="off" style="padding-left: 5px;">\n</div>\n\n':'\n	<div class="tu-input-default">\n	    <label class="placeholder" for="'+(null==(__t=searchName)?"":__t)+'" style="padding-left: 5px;">请输入关键字</label>\n	    <input type="text" id="'+(null==(__t=searchName)?"":__t)+'" value="'+(null==(__t=routerData.filterKey)?"":__t)+'" autocomplete="off" style="padding-left: 5px;">\n	</div>\n	<div class="btn-wrap-2 clearfix">\n		<button class="tu-btn tu-btn-small tu-btn-sure" data-name="search-form-btn">搜索</button>\n		<a href="javascript:;" data-name="cancel">清空搜索</a>\n	</div>\n\n';return __p},this.JST["common/new-send-notice/add-user-list"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<em class="ux_add_btn"></em>\n<ul></ul>';return __p},this.JST["common/new-send-notice/add-user"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<a href="javascript:void(0)" title="删除:'+(null==(__t=name)?"":__t)+'" class="ux_user_area">'+(null==(__t=imgTemplate)?"":__t)+"</a>";return __p},this.JST["common/new-send-notice/send-notice-component"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)collection.length&&(__p+='\r\n<ul class="notice-member"><span class="title"><i>* </i>提醒对象</span>\r\n	<div class="tu-clearfix" data-name="notice-member-container"></div>\r\n</ul>\r\n'),__p+='\r\n<ul class="notice-content" data-name="notice-content"><span class="title"><i>* </i>提醒内容</span>\r\n<div data-name="notice-content-container">\r\n	<div class="tu-input-default">\r\n	 <textarea class="input tu-scroll" style="resize: none;max-height:120px;" data-name="input" data-id="input" id="notice-input">'+(null==(__t=mailContent)?"":__t)+'</textarea>\r\n	<label class="placeholder" data-name="placeholder" for="notice-input">请输入通知内容</label>\r\n  \r\n    <div class="right-action tu-clearfix">\r\n        <span data-name="delAll" data-id="input" class="tu-icon-cross" data-body="清除全部"></span>\r\n    </div>\r\n    <div class="error-tip" data-name="error-tip"></div>\r\n</div>\r\n</div>\r\n</ul>\r\n<ul class="notice-status" data-name="notice-status">\r\n',isShowSystemNotice&&(__p+='\r\n<li><a href="javascript:void(0);" title="" class="tu-icon-check-active notice-status-item disable">\r\n		系统通知（内容为系统自动生成）\r\n	</a>\r\n</li>\r\n'),__p+="\r\n",isShowWidthStatistics&&(__p+='\r\n<li><a href="javascript:void(0);" title="" class="tu-icon-check-active  notice-status-item" data-name="checkedWidthStatistics">\r\n		附带统计表\r\n	</a>\r\n</li>\r\n'),__p+="\r\n",isShowFormalNotice&&(__p+='\r\n<li><a href="javascript:void(0);" title="" class="tu-icon-check-active  notice-status-item ',canSendMail||(__p+="disable"),__p+='" data-name="checkedSendMail">\r\n		正式邮件通知',canSendMail||(__p+="（员工离线时系统将发送邮件提醒）"),__p+="\r\n	</a>\r\n</li>\r\n"),__p+="\r\n",isShowCopyMe&&(__p+='\r\n<li><a href="javascript:void(0);" title="" class="tu-icon-check-active  notice-status-item" data-name="checkedCopySelf">\r\n		同时抄送我自己\r\n	</a>\r\n</li>\r\n'),__p+="\r\n",autoRemindUrl&&(__p+='\r\n<li>\r\n	<span class="disable" >\r\n		企业已为您设置自动提醒，\r\n		<a href="'+__e(autoRemindUrl)+'" target="_black" title=""  data-name="autoRemind">\r\n			点击查看\r\n		</a>\r\n	</span>\r\n</li>\r\n'),__p+="\r\n</ul>\r\n";return __p},this.JST["common/new-send-notice/send-notice-user-list-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\r\n<a href="javascript:void(0);" title="" class="tu-icon-check-active" data-name="user-item" data-body=\''+(null==(__t=name)?"":__t)+"'>\r\n"+(null==(__t=_.convertImage({src:avatar.small,size:30,shape:"radius",name:name,bgColor:avatar.color}))?"":__t)+"\r\n</a>";return __p},this.JST["common/note/color-list"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="note_color_list">\n	',colorList&&_.each(colorList,function(a,b){__p+='\n			<a href="javascript:void(0)" ',b==activeNum&&(__p+='class="active"'),__p+='data-name="'+(null==(__t=b)?"":__t)+'" style="background-color:'+(null==(__t=a)?"":__t)+';"></a>\n		'}),__p+="\n</div>";return __p},this.JST["common/note/note-add"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="note_add"><a href="javascript:void(0)">+ 新建标签</a></div>\n<div class="note_add_pop">\n	<div class="note_add_content">\n		<textarea></textarea>\n	</div>\n	<div class="note_foot">\n		<a href="javascript:void(0)" class="note_set_color"></a>\n		<div class="note_btn">\n			<a href="javascript:void(0)"  class="note_sure">确定</a>\n			<a href="javascript:void(0)" class="note_cancel">取消</a>\n		</div>\n	</div>\n</div>';return __p},this.JST["common/note/note-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="note_li" style="background-color:'+(null==(__t=color)?"":__t)+'">\n	<textarea style="background-color:'+(null==(__t=color)?"":__t)+';resize:none;" data-name="content">'+(null==(__t=_.substring(content,20,!0))?"":__t)+'</textarea>\n	<div class="note_close">\n		<a href="javascript:void(0)" data-name="edit-note-del" class="icon-dialog-closed"></a>\n	</div>\n	<div class="note_edit" data-name="note-edit">\n		<a href="javascript:void(0)" class="note_set_color" data-name="edit-note-color" style="background:'+(null==(__t=color)?"":__t)+'"></a>\n		<div class="note_btn">\n			<a href="javascript:void(0)"  class="note_sure" data-name="edit-note-sure">确定</a>\n			<a href="javascript:void(0)" class="note_cancel" data-name="edit-note-cancel">取消</a>\n		</div>\n	</div>\n</div>';return __p},this.JST["common/note/note-list"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="note_container">\n	\n	<div class="note_list">\n		',1==curPage&&(__p+='\n				<div class="note_add">\n					<a href="javascript:void(0)" data-name="note-add">+ 新建便签</a>\n				</div>\n			'),__p+='\n		<div class="note_add_pop" data-name="note-add-pop">\n			<div class="note_add_content" ',color&&(__p+='style="background:'+(null==(__t=color)?"":__t)+'"'),__p+='>\n					<textarea data-name="note-add-content" ',color&&(__p+='style="resize:none;background:'+(null==(__t=color)?"":__t)+'"'),__p+='></textarea>\n			</div>\n			<div class="note_foot">\n				<a href="javascript:void(0)" class="note_set_color" ',color&&(__p+='style="background:'+(null==(__t=color)?"":__t)+'"'),__p+=' data-name="add-note-color"></a>\n				<div class="note_btn">\n					<a href="javascript:void(0)"  class="note_sure" data-name="add-note-sure">确定</a>\n					<a href="javascript:void(0)" class="note_cancel" data-name="add-note-cancel">取消</a>\n				</div>\n			</div>\n		</div>	\n		<ul></ul>\n		',totalPage>1&&(__p+='\n			<div class="note_page">	\n				<a href="javascript:void(0)" class="next tu-icon-angle-right ',curPage==totalPage&&(__p+="disabled"),__p+='" data-name="next"></a>\n				<a href="javascript:void(0)" class="prev tu-icon-angle-left ',1==curPage&&(__p+="disabled"),__p+='" data-name="prev"></a>\n			</div>\n		'),__p+="\n		\n	</div>\n</div>";return __p},this.JST["common/onlineservice/onlineservice"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<li><a class="right-suspend-item" href="javascript:;">QQ咨询</a></li>\n<li><a class="right-suspend-item" href="javascript:;">帮助中心</a></li>';return __p},this.JST["common/operate-history"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n<div class="item '+(null==(__t=isLast?"last":"")?"":__t)+'">\n	<span class="'+(null==(__t="icon-end")?"":__t)+'"></span>\n	<span class="day l">'+(null==(__t=day)?"":__t)+'</span>\n	<span class="time l">'+(null==(__t=time)?"":__t)+'</span>\n	<div class="right-wraper l">\n		<div class="right">\n			<span class="name l">'+(null==(__t=_.substring(PublishUser.Name,10,!0))?"":__t)+'</span>\n			<span class="detail l '+(null==(__t=isPushScreen?"isPushScreen":"")?"":__t)+'">'+(null==(__t=Content)?"":__t)+'</span>\n		</div>\n		<!-- <div class="reason">\n			理由:<span class="txt">打卡机的绿卡就登录啊了肯德基绿卡大刻录机都是啊</span>\n			<span class="icon-frame-top"></span>\n		</div> -->\n	</div>\n	\n	\n</div>\n\n';return __p},this.JST["common/page-regions/footer"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="box_foot">\n	<span class="copyright_foot">京ICP备05051632号 京公安网备110108002767号</span>   \n	<span class="link_foot">\n		<a href="'+(null==(__t=HelpUrl)?"":__t)+'" style="margin-left:0" target="_blank">帮助中心</a>\n		<a href="'+(null==(__t=HelpUrl)?"":__t)+'/ProIntro/TitaIntroduce">使用手册</a>\n		<a href="'+(null==(__t=HelpUrl)?"":__t)+'/App/MobilePageDescribe" target="_blank">手机客户端</a>\n		<a href="'+(null==(__t=HelpUrl)?"":__t)+'/CooperationZone/Index" target="_blank" >媒体报道</a>\n		<a href="http://weibo.com/titacom" target="_blank">官方微博</a>\n		<a href="/blog" target="_blank">官方博客</a>\n		<a href="'+(null==(__t=HelpUrl)?"":__t)+'/CommonProblem/SafyAndPrivate" target="_blank">安全与隐私</a>\n		<a href="'+(null==(__t=HelpUrl)?"":__t)+'/ContactUs/Index" target="_blank">联系我们</a>\n	</span>\n</div>\n\n\n';return __p},this.JST["common/page-regions/header-tita-extention"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<li class="guide_tthn ico_tthn">\n	<a href="javascript:void(0);" original-title="tita入门">tita入门</a>\n</li>\n',isShowInviteBtn&&(__p+='\n<li class="inivte_tthn ico_tthn">\n	<!-- <a href="/u/'+(null==(__t=UserInfo.Id)?"":__t)+'/Invite/InviteMoreIndex" data-name="invite-member" original-title="邀请同事">邀请同事</a> -->\n	<a href="'+(null==(__t=url)?"":__t)+'" data-name="invite-member" original-title="邀请同事">邀请同事</a>\n</li>\n'),__p+="\n",isShowCalendar&&(__p+='\n<li class="calendar_tthn">\n	<a href="#calendar">日程</a>\n</li>\n'),__p+="\n\n\n\n\n";return __p},this.JST["common/page-regions/header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=(_.escape,Array.prototype.join);with(obj)__p+=tenantInfo.Logo&&1==routerData.appid?'\n<a class="logo" href="/u/'+(null==(__t=loginUserInfo.Id)?"":__t)+'/Home" title="返回首页" data-name="logo"><img src="" alt="" /></a>\n':'\n<a class="logo logo_'+(null==(__t=routerData.appid)?"":__t)+'" href="/u/'+(null==(__t=loginUserInfo.Id)?"":__t)+'/Home" title="返回首页" data-name="logo"></a>\n',
__p+='\n<span class="brand" data-name="brand">\n	'+(null==(__t=tenantInfo.Abbreviation)?"":__t)+"\n</span>\n","undefined"!=typeof headerAppData&&headerAppData.length>0&&(__p+='\n<a class="italent_show_app_container"  href="javascript:void(0)"><span class="italent_show_app"></span></a>\n'),__p+='\n\n\n<ul class="_tt_headnav" data-name="head-nav">\n	\n	',isShowTask&&(__p+='\n	<li class="task_tthn">\n		<a href="javascript:void(0);">任务</a>\n	</li>\n	'),__p+='\n	<li class="notice_tthn" style="display:block">\n		<a href="javascript:void(0);" tipcont="暂无提醒">提醒</a>\n	</li>\n	<li class="msg_tthn">\n		<a href="javascript:void(0);">消息</a>\n	</li>\n	<li class="logout_tthn">\n		<a href="javascript:void(0);" class="avatar_ltthn">\n\n			'+(null==(__t=_.convertImage({className:"radius_img30",src:loginUserInfo.Avatar,size:30,shape:"radius",name:loginUserInfo.Name,bgColor:loginUserInfo.UserAvatar.Color}))?"":__t)+'\n\n		</a>\n		<a href="javascript:void(0);" class="namewrap_tthn"><span class="name_tthn">',print(loginUserInfo.Name.substring(0,3)),__p+='</span><b class="caret"></b></a>\n		<ul class="menu_ltthn">\n			<li class="profile_ltthn"><a href="#italent/home?appid='+(null==(__t=routerData.appid)?"":__t)+"&apptype="+(null==(__t=routerData.apptype)?"":__t)+'&name=TalentProfile-record">个人主页</a></li>\n			<li class="archives_ltthn"><a href="#more/archives?appid='+(null==(__t=routerData.appid)?"":__t)+"&apptype="+(null==(__t=routerData.apptype)?"":__t)+'">简档编辑</a></li>\n			<li class="set_ltthn"><a href="/u/'+(null==(__t=loginUserInfo.Id)?"":__t)+'/Setting/Avatar">个人设置</a></li>\n			<li><a data-name="logout" href="/Account/Logout">退出登录</a></li>\n		</ul>\n	</li>\n</ul>\n\n\n<div class="tt_headsearch" data-name="head-search">\n	<div class="text_tths"><input type="search"><label class="label_tths">搜索'+(null==(__t=i18n.workmate_1)?"":__t)+"、动态、"+(null==(__t=i18n.work_1)?"":__t)+'等</label></div>\n	<a href="javascript:void(0);" class="btn_tths"></a>\n</div>\n',isShowPlatForm&&(__p+='\n<a href="#'+(null==(__t=homeUrl)?"":__t)+'" class="platform_th" data-name="head-platform"></a>\n');return __p},this.JST["common/page-regions/sidebar"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<a href="'+(null==(__t=url)?"":__t)+'" class="'+(null==(__t=type_class)?"":__t)+'_ttsn"> <strong></strong><span>'+(null==(__t=name)?"":__t)+"</span></a>\n";return __p},this.JST["common/plan/plan-create"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n<form class="tt_createnewitem">\n	<div class="input-default input-large">\n		<div>\n			<label class="name_label">输入'+(null==(__t=i18n.task_1)?"":__t)+'名称</label>\n			<input name="new-content" type="text" autocomplete=off class="name" />\n		</div>\n	</div>\n	<a href="javascript:void(0);" class="submint" >发布</a>\n</form>\n\n';return __p},this.JST["common/plan/plan-data-filter-dropdown"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div data-name="filter-all"><a href="javascript:void(0);" class="checkbox ',allChecked&&(__p+="checkbox-checked"),__p+='"><span class="ico"></span></a><span>全选</span></div>\n<ul>\n	',_.each(data,function(a){__p+='\n	<li id="'+(null==(__t=a.Id)?"":__t)+'">\n		',"undefined"!=typeof a.Checked&&a.Checked?(__p+='\n		<a href="javascript:void(0);" title="" class="checkbox checkbox-checked" data-name="input-checkbox"><span class="ico"></span></a><span ',"undefined"!=typeof a.Type&&0==a.Type&&(__p+='style="color:#8a8a8a;" data-name="dotted-tips"'),__p+=">"+(null==(__t=a.Name)?"":__t)+"</span>\n		"):(__p+='\n		<a href="javascript:void(0);" title="" class="checkbox" data-name="input-checkbox"><span class="ico"></span></a><span ',"undefined"!=typeof a.Type&&0==a.Type&&(__p+='style="color:#8a8a8a;" data-name="dotted-tips"'),__p+=">"+(null==(__t=a.Name)?"":__t)+"</span>\n		"),__p+="\n	</li>\n	"}),__p+='\n</ul>\n<div class="action_pdfd"><button class="btn btn-sure" data-name="submit">确定</button></div>';return __p},this.JST["common/plan/plan-data-filter"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="list_df">\n	',status&&(__p+='\n	<li class="status status-item" data-type="status"><span>状态</span><i class="icon-arrow-down-2t"></i></li>\n	'),__p+="\n	",Class&&(__p+='\n	<li class="class status-item" data-type="class"><span>类别</span><i class="icon-arrow-down-2t"></i></li>\n	'),__p+='\n</ul>\n\n<div class="filter-right">\n	',isShowDetail&&(__p+='\n	<div class="look_by_mark">\n		<a href="javascript:void(0);" title="" class="checkbox ',detail_checked&&(__p+="checkbox-checked"),__p+='" data-name="detail-mode"><span class="ico"></span></a>详情模式\n	</div>\n	'),__p+="\n	",memberType&&(__p+='\n	<li class="memberType status-item" data-type="memberType"><span>范围</span><i class="icon-arrow-down-2t"></i></li>\n	'),__p+="\n	",member&&(__p+='\n		<div class="member status-item" data-type="member">\n			<span>人员</span>\n			<i class="icon-arrow-down-2t"></i>\n		</div>\n	'),__p+='\n	\n	<div class="sort" data-type="class" data-name="sort">\n		<span>排序</span><i class="icon-arrow-down-2t"></i>\n	</div>\n	\n</div>\n\n\n\n';return __p},this.JST["common/plan/plan-item-status"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\r\n<ul>\r\n	<li status="2"><a href="javascript:void(0);" title="">\r\n		<span class="ico icon-taskStatus'+(null==(__t=isChildTask?"-s":"")?"":__t)+'-2"></span>已完成\r\n	</a></li>\r\n	<li status="1"><a href="javascript:void(0);" title="" >\r\n		<span class="ico icon-taskStatus'+(null==(__t=isChildTask?"-s":"")?"":__t)+'-1"></span>进行中</a></li>\r\n	<li status="4"><a href="javascript:void(0);" title="" >\r\n		<span class="ico icon-taskStatus'+(null==(__t=isChildTask?"-s":"")?"":__t)+'-4"></span>已取消\r\n	</a></li>\r\n	<li status="3"><a href="javascript:void(0);" title="" >\r\n		<span class="ico icon-taskStatus'+(null==(__t=isChildTask?"-s":"")?"":__t)+'-3"></span>已延迟\r\n	</a></li>\r\n	<li status="6"><a href="javascript:void(0);" title="" >\r\n		<span class="ico icon-taskStatus'+(null==(__t=isChildTask?"-s":"")?"":__t)+'-6"></span>暂停中\r\n	</a></li>\r\n	<li status="0"><a href="javascript:void(0);" title="" >\r\n		<span class="ico icon-taskStatus'+(null==(__t=isChildTask?"-s":"")?"":__t)+'-0"></span>未开始\r\n	</a></li>\r\n</ul>\r\n\r\n\r\n\r\n\r\n\r\n';return __p},this.JST["common/plan/plan-list-composite"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="list-container">\n\n</div>\n<div class="showmore" data-name="showmore">\n	<a href="javascript:void(0);"   class="text_fsm">\n		<span>查看更多</span>\n	</a>\n</div>';return __p},this.JST["common/plan/plan-list-empty"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="content">\r\n	',to_user_id==loginUserId?(__p+="\r\n\r\n\r\n		","bench"===hash?(__p+='\r\n			<p><span class="text">\r\n				',__p+=isThisDay===!0?"\r\n					今天":"当天",__p+="还没有"+(null==(__t=i18n.plan_1)?"":__t)+'，你可以:</span></p>\r\n\r\n			<p><span class="text">1.立即在当前发布</span></p>\r\n\r\n			<p><span class="text">2.在<a href="#plan">'+(null==(__t=i18n.plan_1)?"":__t)+"表</a>下发布,设置对应时间</span></p>\r\n\r\n		"):__p+='\r\n			<span class="text">把'+(null==(__t=i18n.plan_1)?"":__t)+"写下来，你就已经成功了一半！</span>\r\n		",__p+="\r\n	"):(__p+="\r\n		\r\n		",__p+="undefined"!=typeof IsNotify&&1==IsNotify?'\r\n		<span class="text">Ta还没有写'+(null==(__t=i18n.plan_1)?"":__t)+'，你可以</span>\r\n		<a user-id="'+(null==(__t=to_user_id)?"":__t)+'" href="javascript:void(0)" class="btnnotice btn btn-sure">正式通知Ta写'+(null==(__t=i18n.plan_1)?"":__t)+"</a>\r\n		":'\r\n		<span class="text">Ta还没有写'+(null==(__t=i18n.plan_1)?"":__t)+"</span>\r\n		",__p+="\r\n	"),__p+="\r\n</div>";return __p},this.JST["common/plan/plan-list-item-v2"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)isChildTask&&(__p+='\n	\n	<span class="border-left"></span>\n	<span class="icon-task-left-border"></span>\n'),__p+='\n\n<div class="plan_list_li '+(null==(__t=isChildTask?"p1":isShowKclass?"p3":"p2")?"":__t)+'">\n	<div class="right_ttpl">\n		',2==status&&evaluateModel?__p+="\n			"+(null==(__t=_.evaluation(evaluateModel))?"":__t)+"\n		":(__p+="\n			",__p+=cycleId>0?'\n				<span class="icon-task-cycle" data-name="task-cycle" data-id="'+(null==(__t=taskId)?"":__t)+'" data-cys="'+(null==(__t=cycleId)?"":__t)+'"></span>\n			':'\n				<span class="cycle-placeholder"></span>\n			',__p+="\n			",isLongTerm?__p+='\n				<span class="date">长期</span>\n			':(__p+="\n				",__p+=isDeadLine?'\n					<span class="date expire">'+(null==(__t=DeadLine)?"":__t)+"</span>\n				":2==status?'\n					<span class="date">'+(null==(__t=DeadLine)?"":__t)+"</span>\n				":'\n					<span class="date '+(null==(__t=1==fromNow?"warn":"")?"":__t)+'">'+(null==(__t=fromNow>0&&fromNow<4?"剩余"+fromNow+"天":DeadLine)?"":__t)+"</span>\n				",__p+="\n			"),__p+='	\n			<span class="principle">'+(null==(__t=context.subString(principalUser.name,6,!0,2))?"":__t)+"</span>\n			",needAlarm&&(__p+="\n				",__p+=0==cycleId?'\n					<span data-name="notice_plan" class="notice-wraper" original-title="'+(null==(__t=IsRemind?"已设提醒":"设置提醒")?"":__t)+'" data=\'{"objid":"'+(null==(__t=taskId)?"":__t)+'","objType":"'+(null==(__t=objType)?"":__t)+'"}\'>\n						<span class="sup-notice icon-clock'+(null==(__t=IsRemind?"-active":"")?"":__t)+'"></span>\n					</span>\n				':'\n					<span class="sup-notice-placeholder"></span>\n				',__p+="\n\n			"),__p+="\n			",isShowStar&&(__p+="\n				",__p+=isMark?'\n					<span class="sup-set-mark icon-star-active" original-title="取消星标" data-id="'+(null==(__t=taskId)?"":__t)+'" data-name="set-mark"></span>\n				':'\n					<span class="sup-set-mark icon-star" original-title="标为星标" data-id="'+(null==(__t=taskId)?"":__t)+'" data-name="set-mark"></span>\n				',__p+="\n			"),__p+="\n			",needAlarm&&(__p+="\n				",__p+=isShowDelete&&Deleteable?'\n					<span class="sup-delete"  data-name="plan-delete" data-id="'+(null==(__t=taskId)?"":__t)+'">删除</span>\n				':'	\n					<span class="sup-delete-placeholder"></span>\n				',__p+="\n			"),__p+="\n		"),__p+='\n	</div>\n\n	<div class="left_left left_ttp_'+(null==(__t=type)?"":__t)+'">\n		',(hasSubTask||Tasks&&Tasks.length)&&(__p+="\n			",__p+=Tasks&&Tasks.length?'\n				<span data-id="'+(null==(__t=taskId)?"":__t)+'" data-name="packup" class="packup '+(null==(__t=currentDeploy?"icon-minus":"icon-plus")?"":__t)+'"></span>\n			':'\n				<span data-id="'+(null==(__t=taskId)?"":__t)+'" data-name="packup" class="packup icon-plus"></span>\n			',__p+="\n			\n		"),__p+="\n		",__p+=isApply?'\n			<span class="status_ttpl_wraper" style="height:1px;"></span>\n			<span class="apply_status"></span>\n		':'\n			<span class="status_ttpl_wraper">	\n				<a href="javascript:void(0);" class="status_ttpl icon-taskStatus'+(null==(__t=isChildTask?"-s":"")?"":__t)+"-"+(null==(__t=status)?"":__t)+(null==(__t=editStatusable?"":"-disable")?"":__t)+" "+(null==(__t=editStatusable?"":"status_disabled")?"":__t)+'" original-title="'+(null==(__t=StatusTip)?"":__t)+'" data-id="'+(null==(__t=taskId)?"":__t)+'"><span class="ico"></span></a>\n				\n			</span>\n		',__p+="\n		",isShowKclass&&(__p+="\n			",__p+=editLableable?'\n				<div class="klass_box_ttpl pointer" data-id="'+(null==(__t=taskId)?"":__t)+'" data-name="update-klass" data-lab="'+(null==(__t=labelId)?"":__t)+'" data-type="'+(null==(__t=labelType)?"":__t)+'">\n			':'\n				<div class="klass_box_ttpl">\n			',__p+='\n					<div class="kclass" data-name="kclass-area"></div>\n				',labelName&&"未分类"!=labelName?(__p+="\n					",__p+=4==labelType?'\n						<span class="icon-work-'+(null==(__t=402==appId?"target":203==appId?"position":902==appId?"icon-app-xxs-902":"small")?"":__t)+'"></span><span class="klass_ttpl">'+(null==(__t=_.substringWithM(labelName,8,!1))?"":__t)+"</span>  \n					":'\n						<span class="klass_ttpl">'+(null==(__t=_.substringWithM(labelName,10,!1))?"":__t)+"</span>  \n					",__p+="\n				"):__p+='\n					<span class="klass_ttpl none_klass_ttpl">未分类</span>  \n				',__p+="\n				</div>\n			"),__p+='\n			\n			\n			\n			\n	</div>\n	<div class="left_ttpl '+(null==(__t="group"==type?"group":"")?"":__t)+"  "+(null==(__t=isChildTask?"p1":isShowKclass?"p3":"p2")?"":__t)+'">\n		\n		',__p+=2==status||4==status||6==status?'\n			\n				<a  href="'+(null==(__t=url)?"":__t)+'" data-id="'+(null==(__t=taskId)?"":__t)+'" data-name="taskName" class="'+(null==(__t=isChildTask?"child":"")?"":__t)+' task-name disable">'+(null==(__t=taskName)?"":__t)+"</a>\n			\n		":'\n				<a  href="'+(null==(__t=url)?"":__t)+'"  data-id="'+(null==(__t=taskId)?"":__t)+'" data-name="taskName" class="'+(null==(__t=isChildTask?"child":"")?"":__t)+"  task-name "+(null==(__t=isDeadLine?"warn":"")?"":__t)+'">'+(null==(__t=taskName)?"":__t)+"</a>\n		",__p+='\n		<div class="all-icons">\n			',(203==appId||902==appId)&&(__p+='\n				<span class="icon-position icon-position-'+(null==(__t=taskType)?"":__t)+'">\n					'+(null==(__t={6:"面",7:"offer",8:"职",16:"筛",20:"审",21:"申"}[taskType])?"":__t)+"\n				</span>\n			"),__p+="\n			",isShowOwnerTag&&(__p+="\n				",__p+=1==userRelation?'\n					<span class="mine task-tag">'+(null==(__t=selfView?"我":"ta")?"":__t)+"派发的</span>\n				":2==userRelation?'\n					<span class="task-tag">上级安排</span>\n				':3==userRelation?'\n					<span class="join task-tag">'+(null==(__t=selfView?"我":"ta")?"":__t)+"参与的</span>\n				":'\n					<!-- <span class="task-tag-placeholder"></span> -->\n				',__p+="\n			"),__p+="\n			",isShowPercent&&counter.taskTotal&&(__p+='\n			<span class="percent task-tag" original-title="下一级任务（完成数/总数）">\n				<span class="icon-task"></span>\n				'+(null==(__t=counter.finishTaskTotal)?"":__t)+"/"+(null==(__t=counter.taskTotal)?"":__t)+"\n			</span>\n			"),__p+="\n\n			",counter.workTimeTotal&&(__p+='\n				<span class="work_hour">'+(null==(__t=counter.workTimeTotal)?"":__t)+"h</span>\n			"),__p+="\n			",detail_checked||(__p+="\n				",counter.taskTotal>0&&!isShowPercent&&(__p+='\n					<span class="icon-plan-task icon" original-title="有任务"></span>\n					<span class="num">'+(null==(__t=counter.taskTotal)?"":__t)+"</span>\n\n				"),__p+="\n				",counter.commentTotal>0&&social&&(__p+='\n					<span class="icon-plan-talk icon" original-title="有沟通"></span>\n					<span class="num">'+(null==(__t=counter.commentTotal)?"":__t)+"</span>\n				"),__p+="\n				",counter.experienceTotal>0&&(__p+='\n					<span class="icon-plan-summarize icon" original-title="有心得"></span>\n					<span class="num">'+(null==(__t=counter.experienceTotal)?"":__t)+"</span>\n				"),__p+="\n				",counter.businessTripTotal>0&&IsUseBusinessTrip&&(__p+='\n					<span class="icon-plan-trip icon" original-title="有出差"></span>\n					<span class="num">'+(null==(__t=counter.businessTripTotal)?"":__t)+"</span>\n				"),__p+="\n				",counter.meetTotal>0&&IsUseMeet&&(__p+='\n					<span class="icon-plan-meeting icon" original-title="有会议"></span>\n					<span class="num">'+(null==(__t=counter.meetTotal)?"":__t)+"</span>\n				"),__p+="\n				\n				\n			"),__p+="\n		</div>\n		\n	</div>	\n</div>\n\n",detail_checked&&(__p+='\n<div class="plan_list_total ',(hasSubTask||Tasks&&Tasks.length)&&currentDeploy&&(__p+="border-over"),__p+=" "+(null==(__t=isChildTask?"p1":isShowKclass?"p3":"p2")?"":__t)+'">\n	<div class="plan_total_left">\n		<span>'+(null==(__t=i18n.task_1)?"":__t)+"&nbsp;"+(null==(__t=counter.taskTotal)?"":__t)+"</span>\n		",social&&(__p+="\n			<span>沟通&nbsp;"+(null==(__t=counter.commentTotal)?"":__t)+"</span>\n		"),__p+="\n		<span>心得&nbsp;"+(null==(__t=counter.experienceTotal)?"":__t)+"</span>\n		",IsUseBusinessTrip&&(__p+="\n			<span>出差&nbsp;"+(null==(__t=counter.businessTripTotal)?"":__t)+"</span>\n		"),__p+="\n		",IsUseMeet&&(__p+="\n			<span>会议&nbsp;"+(null==(__t=counter.meetTotal)?"":__t)+"</span>\n		"),__p+='\n		\n		\n	</div>\n	<div class="plan_total_right">\n		<span class="start-date">创建于'+(null==(__t=moment(createDate).format("YYYY/MM/DD"))?"":__t)+"</span>\n		",0==cycleId&&(__p+="\n			",isRemind?(__p+='\n				<span data-name="notice_plan"  class="notice-wraper" original-title="已设提醒" data=\'{"objid":"'+(null==(__t=taskId)?"":__t)+'","objType":"'+(null==(__t=objType)?"":__t)+'"}\'>\n					<span class="notice icon-clock-active"></span>\n					<span class="txt">',time&&(__p+="于"+(null==(__t=time)?"":__t)+" "),__p+="提醒我</span>\n				</span>\n			"):__p+='\n				<span data-name="notice_plan" class="notice-wraper" original-title="设置提醒" data=\'{"objid":"'+(null==(__t=taskId)?"":__t)+'","objType":"'+(null==(__t=objType)?"":__t)+'"}\'>\n					<span class="notice icon-clock"></span>\n					<span class="txt">提醒我</span>\n				</span>\n				\n			',__p+="\n		"),__p+="\n		",isShowDelete&&(__p+="\n			",__p+=deleteable?'\n				<span class="delete icon-delete" original-title="删除" data-name="plan-delete" data-id="'+(null==(__t=taskId)?"":__t)+'"></span>\n			':'	\n				<span class="sub-delete-placeholder"></span>\n			',__p+="\n		"),__p+="\n	</div>\n</div>\n"),__p+='\n<div class="child-list-wraper '+(null==(__t=isChildTask?"p3":isShowKclass?"p1":"p2")?"":__t)+'">\n	\n	<ul class="child-list '+(null==(__t=currentDeploy?"":"hide")?"":__t)+'  "></ul>\n</div>\n\n\n';return __p},this.JST["common/plan/plan-list-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)isChildTask&&(__p+='\r\n	\r\n	<span class="border-left"></span>\r\n	<span class="icon-task-left-border"></span>\r\n'),__p+='\r\n\r\n<div class="plan_list_li '+(null==(__t=isChildTask?"p1":isShowKclass?"p3":"p2")?"":__t)+'">\r\n	<div class="right_ttpl">\r\n		',2==Status&&EvaluateModel?__p+="\r\n			"+(null==(__t=_.evaluation(EvaluateModel))?"":__t)+"\r\n		":(__p+="\r\n			",__p+=CycleId>0?'\r\n				<span class="icon-task-cycle" data-name="task-cycle" data-id="'+(null==(__t=Id)?"":__t)+'" data-cys="'+(null==(__t=CycleId)?"":__t)+'"></span>\r\n			':'\r\n				<span class="cycle-placeholder"></span>\r\n			',__p+="\r\n			",IsLongTerm?__p+='\r\n				<span class="date">长期</span>\r\n			':(__p+="\r\n				",__p+=IsDeadLine?'\r\n					<span class="date expire">'+(null==(__t=DeadLine)?"":__t)+"</span>\r\n				":2==Status?'\r\n					<span class="date">'+(null==(__t=DeadLine)?"":__t)+"</span>\r\n				":'\r\n					<span class="date '+(null==(__t=1==fromNow?"warn":"")?"":__t)+'">'+(null==(__t=fromNow>0&&fromNow<4?"剩余"+fromNow+"天":DeadLine)?"":__t)+"</span>\r\n				",__p+="\r\n			"),__p+='	\r\n			<span class="principle">'+(null==(__t=context.subString(PrincipalUser.Name,6,!0,2))?"":__t)+"</span>\r\n			",needAlarm&&(__p+="\r\n				",__p+=0==CycleId?'\r\n					<span data-name="notice_plan" class="notice-wraper" original-title="'+(null==(__t=IsRemind?"已设提醒":"设置提醒")?"":__t)+'" data=\'{"objid":"'+(null==(__t=Id)?"":__t)+'","objType":"'+(null==(__t=objType)?"":__t)+'"}\'>\r\n						<span class="sup-notice icon-clock'+(null==(__t=IsRemind?"-active":"")?"":__t)+'"></span>\r\n					</span>\r\n				':'\r\n					<span class="sup-notice-placeholder"></span>\r\n				',__p+="\r\n\r\n			"),__p+="\r\n			",isShowStar&&(__p+="\r\n				",__p+=IsMark?'\r\n					<span class="sup-set-mark icon-star-active" original-title="取消星标" data-id="'+(null==(__t=Id)?"":__t)+'" data-name="set-mark"></span>\r\n				':'\r\n					<span class="sup-set-mark icon-star" original-title="标为星标" data-id="'+(null==(__t=Id)?"":__t)+'" data-name="set-mark"></span>\r\n				',__p+="\r\n			"),__p+="\r\n			",needAlarm&&(__p+="\r\n				",__p+=isShowDelete&&Deleteable?'\r\n					<span class="sup-delete"  data-name="plan-delete" data-id="'+(null==(__t=Id)?"":__t)+'">删除</span>\r\n				':'	\r\n					<span class="sup-delete-placeholder"></span>\r\n				',__p+="\r\n			"),__p+="\r\n		"),__p+='\r\n	</div>\r\n\r\n	<div class="left_left left_ttp_'+(null==(__t=type)?"":__t)+'">\r\n		',(HasSubTask||Tasks&&Tasks.length)&&(__p+="\r\n			",__p+=Tasks&&Tasks.length?'\r\n				<span data-id="'+(null==(__t=Id)?"":__t)+'" data-name="packup" class="packup '+(null==(__t=currentDeploy?"icon-minus":"icon-plus")?"":__t)+'"></span>\r\n			':'\r\n				<span data-id="'+(null==(__t=Id)?"":__t)+'" data-name="packup" class="packup icon-plus"></span>\r\n			',__p+="\r\n			\r\n		"),__p+="\r\n		",__p+=IsApply?'\r\n			<span class="status_ttpl_wraper" style="height:1px;"></span>\r\n			<span class="apply_status"></span>\r\n		':'\r\n			<span class="status_ttpl_wraper">	\r\n				<a href="javascript:void(0);" class="status_ttpl icon-taskStatus'+(null==(__t=isChildTask?"-s":"")?"":__t)+"-"+(null==(__t=Status)?"":__t)+(null==(__t=EditStatusable?"":"-disable")?"":__t)+" "+(null==(__t=EditStatusable?"":"status_disabled")?"":__t)+'" original-title="'+(null==(__t=StatusTip)?"":__t)+'" data-id="'+(null==(__t=Id)?"":__t)+'"><span class="ico"></span></a>\r\n				\r\n			</span>\r\n		',__p+="\r\n		",isShowKclass&&(__p+="\r\n			",__p+=EditLableable?'\r\n				<div class="klass_box_ttpl pointer" data-id="'+(null==(__t=Id)?"":__t)+'" data-name="update-klass" data-lab="'+(null==(__t=LabId)?"":__t)+'" data-type="'+(null==(__t=LabType)?"":__t)+'">\r\n			':'\r\n				<div class="klass_box_ttpl">\r\n			',__p+='\r\n					<div class="kclass" data-name="kclass-area"></div>\r\n				',LabName&&"未分类"!=LabName?(__p+="\r\n					",__p+=4==LabType?'\r\n						<span class="icon-work-'+(null==(__t=402==AppId?"target":203==AppId?"position":"small")?"":__t)+'"></span><span class="klass_ttpl">'+(null==(__t=_.substringWithM(LabName,8,!1))?"":__t)+"</span>  \r\n					":'\r\n						<span class="klass_ttpl">'+(null==(__t=_.substringWithM(LabName,10,!1))?"":__t)+"</span>  \r\n					",__p+="\r\n				"):__p+='\r\n					<span class="klass_ttpl none_klass_ttpl">未分类</span>  \r\n				',__p+="\r\n				</div>\r\n			"),__p+='\r\n			\r\n			\r\n			\r\n			\r\n	</div>\r\n	<div class="left_ttpl '+(null==(__t="group"==type?"group":"")?"":__t)+"  "+(null==(__t=isChildTask?"p1":isShowKclass?"p3":"p2")?"":__t)+'">\r\n		\r\n		',__p+=2==Status||4==Status||6==Status?'\r\n			\r\n				<a  href="'+(null==(__t=url)?"":__t)+'" data-name="taskName" class="'+(null==(__t=isChildTask?"child":"")?"":__t)+' task-name disable">'+(null==(__t=Name)?"":__t)+"</a>\r\n			\r\n		":'\r\n				<a  href="'+(null==(__t=url)?"":__t)+'" data-name="taskName" class="'+(null==(__t=isChildTask?"child":"")?"":__t)+"  task-name "+(null==(__t=IsDeadLine?"warn":"")?"":__t)+'">'+(null==(__t=Name)?"":__t)+"</a>\r\n		",__p+='\r\n		<div class="all-icons">\r\n			',203==AppId&&(__p+='\r\n				<span class="icon-position icon-position-'+(null==(__t=TaskType)?"":__t)+'">\r\n					'+(null==(__t={6:"面",7:"offer",8:"职",16:"筛",21:"申"}[TaskType])?"":__t)+"\r\n				</span>\r\n			"),__p+="\r\n			",isShowOwnerTag&&(__p+="\r\n				",__p+=1==UserRelation?'\r\n					<span class="mine task-tag">'+(null==(__t=selfView?"我":"ta")?"":__t)+"派发的</span>\r\n				":2==UserRelation?'\r\n					<span class="task-tag">上级安排</span>\r\n				':3==UserRelation?'\r\n					<span class="join task-tag">'+(null==(__t=selfView?"我":"ta")?"":__t)+"参与的</span>\r\n				":'\r\n					<!-- <span class="task-tag-placeholder"></span> -->\r\n				',__p+="\r\n			"),__p+="\r\n			",isShowPercent&&SubTaskCount&&(__p+='\r\n			<span class="percent task-tag" original-title="下一级任务（完成数/总数）">\r\n				<span class="icon-task"></span>\r\n				'+(null==(__t=FinishSubTaskCount)?"":__t)+"/"+(null==(__t=SubTaskCount)?"":__t)+"\r\n			</span>\r\n			"),__p+="\r\n\r\n			",PlanCounter.WorkTimeTotal&&(__p+='\r\n				<span class="work_hour">'+(null==(__t=PlanCounter.WorkTimeTotal)?"":__t)+"h</span>\r\n			"),__p+="\r\n			",detail_checked||(__p+="\r\n				",PlanCounter.TaskTotal>0&&!isShowPercent&&(__p+='\r\n					<span class="icon-plan-task icon" original-title="有任务"></span>\r\n					<span class="num">'+(null==(__t=PlanCounter.TaskTotal)?"":__t)+"</span>\r\n\r\n				"),__p+="\r\n				",PlanCounter.CommentTotal>0&&social&&(__p+='\r\n					<span class="icon-plan-talk icon" original-title="有沟通"></span>\r\n					<span class="num">'+(null==(__t=PlanCounter.CommentTotal)?"":__t)+"</span>\r\n				"),__p+="\r\n				",PlanCounter.ExperienceTotal>0&&(__p+='\r\n					<span class="icon-plan-summarize icon" original-title="有心得"></span>\r\n					<span class="num">'+(null==(__t=PlanCounter.ExperienceTotal)?"":__t)+"</span>\r\n				"),__p+="\r\n				",PlanCounter.BusinessTripTotal>0&&IsUseBusinessTrip&&(__p+='\r\n					<span class="icon-plan-trip icon" original-title="有出差"></span>\r\n					<span class="num">'+(null==(__t=PlanCounter.BusinessTripTotal)?"":__t)+"</span>\r\n				"),__p+="\r\n				",PlanCounter.MeetTotal>0&&IsUseMeet&&(__p+='\r\n					<span class="icon-plan-meeting icon" original-title="有会议"></span>\r\n					<span class="num">'+(null==(__t=PlanCounter.MeetTotal)?"":__t)+"</span>\r\n				"),__p+="\r\n				\r\n				\r\n			"),__p+="\r\n		</div>\r\n		\r\n	</div>	\r\n</div>\r\n",detail_checked&&(__p+='\r\n<div class="plan_list_total">\r\n	<div class="plan_total_left">\r\n		<span>'+(null==(__t=i18n.task_1)?"":__t)+"&nbsp;"+(null==(__t=PlanCounter.TaskTotal)?"":__t)+"</span>\r\n		",social&&(__p+="\r\n			<span>沟通&nbsp;"+(null==(__t=PlanCounter.CommentTotal)?"":__t)+"</span>\r\n		"),__p+="\r\n		<span>心得&nbsp;"+(null==(__t=PlanCounter.ExperienceTotal)?"":__t)+"</span>\r\n		",IsUseBusinessTrip&&(__p+="\r\n			<span>出差&nbsp;"+(null==(__t=PlanCounter.BusinessTripTotal)?"":__t)+"</span>\r\n		"),__p+="\r\n		",IsUseMeet&&(__p+="\r\n			<span>会议&nbsp;"+(null==(__t=PlanCounter.MeetTotal)?"":__t)+"</span>\r\n		"),__p+='\r\n		\r\n		\r\n	</div>\r\n	<div class="plan_total_right">\r\n		<span class="start-date">创建于'+(null==(__t=moment(CreateDate).format("YYYY/MM/DD"))?"":__t)+"</span>\r\n		",0==CycleId&&(__p+="\r\n			",IsRemind?(__p+='\r\n				<span data-name="notice_plan"  class="notice-wraper" original-title="已设提醒" data=\'{"objid":"'+(null==(__t=Id)?"":__t)+'","objType":"'+(null==(__t=objType)?"":__t)+'"}\'>\r\n					<span class="notice icon-clock-active"></span>\r\n					<span class="txt">',time&&(__p+="于"+(null==(__t=time)?"":__t)+" "),__p+="提醒我</span>\r\n				</span>\r\n			"):__p+='\r\n				<span data-name="notice_plan" class="notice-wraper" original-title="设置提醒" data=\'{"objid":"'+(null==(__t=Id)?"":__t)+'","objType":"'+(null==(__t=objType)?"":__t)+'"}\'>\r\n					<span class="notice icon-clock"></span>\r\n					<span class="txt">提醒我</span>\r\n				</span>\r\n				\r\n			',__p+="\r\n		"),__p+="\r\n		",isShowDelete&&(__p+="\r\n			",__p+=Deleteable?'\r\n				<span class="delete icon-delete" original-title="删除" data-name="plan-delete" data-id="'+(null==(__t=Id)?"":__t)+'"></span>\r\n			':'	\r\n				<span class="sub-delete-placeholder"></span>\r\n			',__p+="\r\n		"),__p+="\r\n	</div>\r\n</div>\r\n"),__p+='\r\n<div class="child-list-wraper '+(null==(__t=isChildTask?"p3":isShowKclass?"p1":"p2")?"":__t)+'">\r\n	\r\n	<ul class="child-list '+(null==(__t=currentDeploy?"":"hide")?"":__t)+'  "></ul>\r\n</div>\r\n\r\n\r\n';return __p},this.JST["common/plugins/calendar/calendar"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj){if(2==calendarType){__p+='\n	<div class="topbar">\n		<span data-name="pre" class="left icon" ',hidePre&&(__p+='style="display:none"'),__p+='>\n			<span class="icon-arrow-left"></span>\n		</span>\n		<span class="date">'+(null==(__t=year)?"":__t)+"年"+(null==(__t=month+1)?"":__t)+'月</span>\n		<span data-name="next" class="right icon" ',hideNext&&(__p+='style="display:none"'),__p+='>\n			<span class="icon-arrow-right"></span>\n		</span>\n	</div>\n	<div class="main">\n		';for(var i=0,len=calendar.length;len>i;i++){__p+="\n			";var item=calendar[i],mStart=moment(item.startDate),mEnd=moment(item.endDate);__p+='\n			<span date="'+(null==(__t=item.date)?"":__t)+'" planTableId="'+(null==(__t=item.planTableId)?"":__t)+'" data-name="item" class="item col1 '+(null==(__t="status"+item.status)?"":__t)+'">\n				<span class="l">第'+(null==(__t=i+1)?"":__t)+'周</span><span class="process">'+(null==(__t=parseInt(mStart.format("MM"))+"/"+parseInt(mStart.format("DD")))?"":__t)+"～"+(null==(__t=parseInt(mEnd.format("MM"))+"/"+parseInt(mEnd.format("DD")))?"":__t)+"</span>\n			</span>\n		"}__p+="\n	</div>\n"}else if(3==calendarType){__p+='\n	<div class="topbar">\n		<span data-name="pre" class="left icon" ',hidePre&&(__p+='style="display:none"'),__p+='>\n			<span class="icon-arrow-left"></span>\n		</span>\n		<span class="date">'+(null==(__t=year)?"":__t)+'年</span>\n		<span data-name="next" class="right icon" ',hideNext&&(__p+='style="display:none"'),__p+='>\n			<span class="icon-arrow-right"></span>\n		</span>\n	</div>\n	<div class="main">\n		';for(var i=0,len=calendar.length;len>i;i++){__p+="\n			";var item=calendar[i];__p+='\n			<span date="'+(null==(__t=item.date)?"":__t)+'" planTableId="'+(null==(__t=item.planTableId)?"":__t)+'" data-name="item" class="item '+(null==(__t="status"+item.status)?"":__t)+'">\n				'+(null==(__t=i+1)?"":__t)+"月\n			</span>\n		"}__p+="\n	</div>\n"}__p+="\n"}return __p},this.JST["common/plugins/calendar/highlight-calendar"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="highlightDate">\n	<div class="date_hd" data-name="date-picker"></div>\n	<div class="remark">\n		<h2 data-name="title">'+(null==(__t=title)?"":__t)+'</h2>\n		<div class="statics">\n			',_.each(labels,function(a,b){__p+="\n				",__p+=0==b?'\n				<span class="comStyle borderAll"></span>\n				':1==b?'\n				<span class="comStyle borderIn"></span>\n				':'\n				<span class="comStyle borderPart"></span>\n				',__p+="\n				<span>"+(null==(__t=a)?"":__t)+"</span>\n			"}),__p+="\n			\n		</div>\n	</div>\n</div>";return __p},this.JST["common/plugins/class/checked-class-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="checked_name">'+(null==(__t=name)?"":__t)+'</div>\n<a href="javascript:void(0)" data-handler="Delete" class="smember_btn_reduce">\n	<span></span>\n</a>';return __p},this.JST["common/plugins/class/class-component"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="top_cd">\n	<ul class="tab_cd" data-name="klass-tab">\n		<li class="active" data-type="17">选择分类</li>\n		',IsUseWorkLable&&isShowProject&&(__p+='\n			<li data-type="4">选择'+(null==(__t=i18n.work_1)?"":__t)+"</li>\n		"),__p+="\n		",isShowTarget&&(__p+='\n			<li data-type="402">选择目标</li>\n		'),__p+='\n	</ul>\n	<span class="icon-dialog-closed closed_cd" data-name="klass-close"></span>\n</div>\n<div class="box_cd" >\n	<div data-name="klass-content" class="plan-klass-content"></div>\n</div>';return __p},this.JST["common/plugins/class/class-move-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="title_tv" data-name="title">\n\n	',0==isEnd&&(__p+='\n	<span class="icon_tv" data-name="toggle"></span>\n	'),__p+="\n	","undefined"!=typeof IsTenant&&IsTenant?(__p+='\n		<span class="icon-enterprise_icon" data-name="enterprise"></span>\n		<div class="text_tv_parent">\n			<div class="text_tv text_width" data-name="title-name">'+(null==(__t=name)?"":__t)+"</div>\n			",IsAllowSetPersonalLable||(__p+='\n				<span class="m-lock icon-lock" data-name="lock-permission"></span>\n			'),__p+="\n		</div>\n	"):__p+="undefined"==typeof IsTenant||IsTenant?'\n		<div class="text_tv" data-name="title-name">'+(null==(__t=name)?"":__t)+"</div>\n	":'\n		<span class="icon-personal_img" data-name="person"></span>\n		<div class="text_tv_parent">\n			<div class="text_tv personal" data-name="title-name">'+(null==(__t=name)?"":__t)+"</div>\n		</div>\n	",__p+="\n	",0!=id&&isEdit&&(__p+="\n		","undefined"==typeof IsTenant||IsTenant||(__p+='\n			<div class="action_ttv" data-name="klass-item-action">\n				<a href="javascript:void(0);" data-name="edit" id="'+(null==(__t=id)?"":__t)+'">编辑</a>\n				<a href="javascript:void(0);" data-name="deleted" data-end="'+(null==(__t=isEnd)?"":__t)+'" id="'+(null==(__t=id)?"":__t)+'">删除</a>\n			</div> \n		'),__p+="  \n	"),__p+="\n</div>\n<ul></ul>";return __p},this.JST["common/plugins/class/class-move-new"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<form data-name="file-move-new-form">\n	',"rename"!=type&&(__p+='\n	<div class="title_tv">\n	'),__p+='\n		<div class="new_tv">\n			<div class="input-default input_ntv" data-name="file-move-new-input-warp">\n				<input type="text" value="'+(null==(__t=name)?"":__t)+'">\n			</div>\n			<span class="btn_ntv icon-radius-success-over" data-name="file-move-new-submit"></span>\n			<span class="btn_ntv icon-radius-error-over" data-name="file-move-new-cancel"></span>\n		</div>\n	',
"rename"!=type&&(__p+="\n	</div>\n	"),__p+="\n</form>";return __p},this.JST["common/plugins/class/class-move"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="title_rd" data-name="title">\n		<h2>我的分类</h2>\n		<span class="icon-dialog-closed closed_rd" data-name="klass-move-close"></span>\n</div>\n	<div class="cont_rd">\n		<div class="tt_tree_view">\n			<div data-name="class-project-tab"></div>\n			<div data-name="search-class"></div>\n			<div data-name="tree" class ="moveTreeList">\n				<div class="_tt_loading_m">努力加载中…</div>\n			</div>\n			<div data-name="empty"></div>\n		</div>\n	</div>\n	<div class="bottom_rd" data-name="klass-action">\n		<button class="btn btn-cancel reset_rd" data-name="klass-move-reset">清空选项</button>\n		<button class="btn btn-cancel new_rd" data-name="klass-move-new-folder">添加分类</button>\n		<button class="btn btn-cancel cancel_rd" data-name="klass-move-cancel">取消</button>\n		<button class="btn btn-sure sure_rd" data-name="klass-move-submit">确定</button>\n		\n	</div>';return __p},this.JST["common/plugins/class/class-project-tab"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<!--<a href="javascript:void(0)" class="current" data-id="0">全部</a>-->\n<a href="javascript:void(0)" data-id="2771" class="current">Marco</a>\n<a href="javascript:void(0)" data-id="1669">Public</a>\n<a href="javascript:void(0)" data-id="1648">Private</a>';return __p},this.JST["common/plugins/class/class-rename"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<form data-name="rename-form">\n	<div class="input-default input_ridl" data-name="rename-inputwrap">\n		<input type="text" value="'+(null==(__t=name)?"":__t)+'">\n	</div>\n	<a class="btn btn-sure" data-name="rename-sure">确定</a>\n	<a class="btn btn-cancel" data-name="rename-cancel">取消</a>\n</form>\n';return __p},this.JST["common/plugins/class/class-search"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="smember_form_container">\n	<div class="smember_header_input">\n		<label class="smember_condition_label" data-name="smember-condition">搜索分类</label>\n		<input  autocomplete="off" id="lableName" class="smember_condition_input smemberInput " type="text"  name="content"></input>\n		<span class="icon-search"></span>\n	</div>\n	<div class="lable-list" id="lable-list" data-name="lable-list">\n		<ul class="lable-ul" data-name="lable-ul" id="lable-ul"></ul>\n	</div>\n</div>';return __p},this.JST["common/plugins/class/class-tree-component"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="class_data_pop_header">\n	'+(null==(__t=title)?"":__t)+'\n	<a href="javascript:void(0)" class="icon-dialog-closed" data-handler="Close"></a>\n</div>\n<div class="class_data_pop_content">\n	<div class="class_data_search_content_left">\n		<div class="tab">\n			<span class="class active" data-name="all">所有分类</span>\n			',1==pluginType&&(__p+='<span class="project" data-name="project">所有项目</span>'),__p+='\n		</div>\n		<div class="class_data_type_list"></div>\n	</div>\n	<div class="class_data_search_content_center">\n		<span class="smember_search_arrow_icon search_arrow_icon"></span>\n	</div>\n	<div class="class_data_search_content_right">\n		<span>已选类别</span>\n		<div class="class_data_checked_type_list"></div>\n	</div>\n</div>\n<div class="smember_footer">\n	<a href="javascript:void(0)" class="btn btn-cancel" data-handler="clean">清除全部</a>\n	<a href="javascript:void(0)" class="btn cancel_rd" data-handler="Cancel">取消</a>\n	<a href="javascript:void(0)" class="btn btn-sure sure_rd" data-handler="Submit">确定</a>\n</div>   ';return __p},this.JST["common/plugins/class/department-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="title_tv" data-name="title">\n	',0==isEnd&&(__p+='\n	<span class="icon_tv" data-name="toggle"></span>\n	'),__p+='\n	<div class="text_tv" data-name="title-name">'+(null==(__t=Name)?"":__t)+"</div>\n</div>\n<ul></ul>";return __p},this.JST["common/plugins/class/department"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="title_rd" data-name="work-klass-title">\n	<h2>所有部门</h2>\n	<span class="icon-dialog-closed closed_rd" data-name="work-klass-close"></span>\n</div>\n<div class="cont_rd">\n	<div class="tt_tree_view">\n		<div data-name="work-box">\n			<div class="_tt_loading_m">努力加载中…</div>\n		</div>\n		<div data-name="work-klass-empty"></div>\n	</div>\n</div>\n<div class="bottom_rd" data-name="work-action">\n	<button class="btn btn-cancel reset_rd" data-name="work-klass-reset">清空选项</button>\n	<button class="btn btn-sure sure_rd" data-name="work-klass-submit">确定</button>\n</div>';return __p},this.JST["common/plugins/class/enterprise/class-enter-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="title_enter_tv" data-name="title">\n\n	',0==isEnd&&(__p+='\n	<span class="icon_tv" data-name="toggle"></span>\n	'),__p+="\n	",__p+="undefined"!=typeof IsTenant&&IsTenant?'\n		<span class="icon-enterprise_icon"></span><div class="text_tv text_width" data-name="title-name">'+(null==(__t=name)?"":__t)+"</div>\n	":"undefined"==typeof IsTenant||IsTenant?'\n		<div class="text_tv" data-name="title-name">'+(null==(__t=name)?"":__t)+"</div>\n	":'\n		<span class="icon-personal_img"></span><div class="text_tv personal " data-name="title-name">'+(null==(__t=name)?"":__t)+"</div>\n	",__p+="\n	",0!=id&&isEdit&&(__p+='\n		<div class="action_ttv" data-name="klass-item-action">\n			<a href="javascript:void(0);" data-name="edit" id="'+(null==(__t=id)?"":__t)+'">编辑</a>\n			<a href="javascript:void(0);" id="'+(null==(__t=id)?"":__t)+'" class="'+(null==(__t=IsAllowSetPersonalLable)?"":__t)+'" data-name="permissions">权限</a>\n			<a href="javascript:void(0);" data-name="deleted" data-end="'+(null==(__t=isEnd)?"":__t)+'" id="'+(null==(__t=id)?"":__t)+'">删除</a>\n		</div>\n	'),__p+=" \n</div>\n<ul></ul>\n<div class=\"documentlist_permissions\" data-name=\"permissions-dropdown\">\n	<div class='class-set' id=\"setScope\" data-name='set-scope'>设置分类可见范围</div>\n	<span class=\"icon-arrow-left-disabled\"></span><div class='class-set'  data-name='setting-addClass'>是否允许添加个人分类</div>\n</div>\n<div class=\"activeClass\" data-name='judge-add-class'>\n	<span id=\"yesAddClass\" class=\"right\"></span><div class='class-set'  data-name='yes-addClass'>允许添加</div>\n	<span id=\"noAddClass\" class=\"right\"></span><div class='class-set'   data-name='no-addClass'>不允许添加</div>\n</div>\n";return __p},this.JST["common/plugins/class/enterprise/class-enter-move"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n	<div class="title_rd" data-name="title">\n		<h2>我的分类</h2>\n		<span class="icon-dialog-closed closed_rd" data-name="klass-move-close"></span>\n	</div>\n	<div class="cont_rd">\n		<div class="tt_tree_view">\n			<div data-name="tree">\n				<div class="_tt_loading_m">努力加载中…</div>\n			</div>\n			<div data-name="empty"></div>\n		</div>\n		\n	</div>\n	<div class="bottom_rd" data-name="klass-action">\n		<button class="btn btn-success new_rd" data-name="klass-move-new-folder">添加类别</button>\n	</div>\n';return __p},this.JST["common/plugins/class/enterprise/class-enter-setting"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+="";return __p},this.JST["common/plugins/class/enterprise/class-move-new"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<form data-name="file-move-new-form">\n	',"rename"!=type&&(__p+='\n	<div class="title_tv">\n	'),__p+='\n		<div class="new_tv">\n			<div class="input-default input_ntv" data-name="file-move-new-input-warp">\n				<input type="text" value="'+(null==(__t=name)?"":__t)+'">\n			</div>\n			<span class="btn_ntv icon-radius-success-over" data-name="file-move-new-submit"></span>\n			<span class="btn_ntv icon-radius-error-over" data-name="file-move-new-cancel"></span>\n		</div>\n	',"rename"!=type&&(__p+="\n	</div>\n	"),__p+="\n</form>";return __p},this.JST["common/plugins/class/project"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="cont_rd">\n	<div class="tt_tree_view">\n		<div data-name="work-box">\n			<div class="_tt_loading_m">努力加载中…</div>\n		</div>\n		<div data-name="work-box-join"></div>\n		<div data-name="empty"></div>\n	</div>\n</div>';return __p},this.JST["common/plugins/class/work-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<span class="icon-work-small"></span><span>'+(null==(__t=WorkName)?"":__t)+"</span>";return __p},this.JST["common/plugins/class/work-list"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n<div class="title_kw" data-name="work-title">\n	<span class="icon-minus-square" data-name="toggle"></span><span>'+(null==(__t=title)?"":__t)+'</span>\n</div>\n<ul data-name="work-list"></ul>';return __p},this.JST["common/plugins/class/work"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="title_rd" data-name="work-move-title">\n	<h2>'+(null==(__t=i18n.work_1)?"":__t)+'分类</h2>\n	<span class="icon-dialog-closed closed_rd" data-name="work-move-close"></span>\n</div>\n<div class="cont_rd">\n	<div class="tt_tree_view">\n		<div data-name="work-box">\n			<div class="_tt_loading_m">努力加载中…</div>\n		</div>\n		<div data-name="work-box-join"></div>\n		<div data-name="empty"></div>\n	</div>\n</div>\n<div class="bottom_rd" data-name="work-action">\n	<button class="btn btn-cancel reset_rd" data-name="work-move-reset">清空选项</button>\n	<button class="btn btn-cancel new_rd" data-name="work-move-new-folder">新建项目</button>\n	<button class="btn btn-cancel cancel_rd" data-name="work-move-cancel">取消</button>\n	<button class="btn btn-sure sure_rd" data-name="work-move-submit">确定</button>\n	\n</div>';return __p},this.JST["common/plugins/indicator/indicator-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n	<span class="inner_indi">\n		<a href="'+(null==(__t=href)?"":__t)+'" target="_blank">\n			<span class="num_inii" data-name="indicator-num">'+(null==(__t=IndicatorValue)?"":__t)+"</span>\n			<span>"+(null==(__t=Contents)?"":__t)+"</span>\n		</a>\n	</span>\n";return __p},this.JST["common/plugins/indicator/indicator"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="indicater_tri" data-name="indicator-wrap">\n	<a href="javascript:void(0)" class="tri" data-name="indicator"></a>\n	<div class="indicater" data-name="indicator-list-wrap">\n   		<ul class="list_indi"></ul>\n	</div>\n</div>\'';return __p},this.JST["common/plugins/notice/add-user-list"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="title-pl">'+(null==(__t=title)?"":__t)+'</div>\n<div class="list-pl">\n<em class="ux_add_btn"></em>\n<ul></ul>\n</div>';return __p},this.JST["common/plugins/notice/add-user"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<a href="javascript:void(0)" title="删除:'+(null==(__t=Name)?"":__t)+'" id="'+(null==(__t=Id)?"":__t)+'" class="ux_user_area">'+(null==(__t=_.convertImage({src:Avatar.Small,size:30,name:Name,bgColor:Avatar.Color}))?"":__t)+"</a>";return __p},this.JST["common/plugins/popup/export-excel-pop"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tBar">导出Excel</div>\n<div class="mBar">\n	<span class="label">任务层级</span>\n	<span class="level" data-name="level">所有层级</span>\n</div>\n<div class="bBar">\n	<a data-name="export" href="'+(null==(__t=downloadUrl)?"":__t)+'" class="btn btn-sure">导出</a>\n</div>\n';return __p},this.JST["common/plugins/popup/export-pop"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tBar">导出日报</div>\n<div class="mBar">\n	<span class="label">导出日期</span>\n	<span class="date" data-name="timepicker">'+(null==(__t=timeTxt)?"":__t)+'</span>\n</div>\n<div class="bBar">\n	<a data-name="local" href="'+(null==(__t=downloadUrl)?"":__t)+'" class="local btn btn-sure">导出到本地</a>\n	<button class="mail btn btn-sure" data-name="mail">发送到邮箱</button>\n</div>\n';return __p},this.JST["common/plugins/popup/hour-pop"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj){__p+='<div class="ux_hour_pop">\n	<div class="ux_hour_list">\n		<h2>小时</h2>\n		<div class="hour_list">\n			';for(var i=0;24>=i;i++)__p+='\n				<a href="javascript:void(0)" ',""!=hourDate&&hourDate==i&&(__p+='class="current"'),__p+='data-time="'+(null==(__t=i)?"":__t)+'">\n					',__p+=9>=i?"\n						0"+(null==(__t=i)?"":__t)+"\n					":"\n						"+(null==(__t=i)?"":__t)+"\n					",__p+="\n				</a>\n			";__p+='\n			\n		</div>\n	</div>\n	<div class="ux_minite_list">\n		<h2>分钟</h2>\n		<div class="minite_list">\n			<a href="javascript:void(0)"  data-time="0" ',""!==minuteDate&&0==minuteDate&&(__p+='class="current"'),__p+='>00</a>\n			<a href="javascript:void(0)"  data-time="15" ',15==minuteDate&&(__p+='class="current"'),__p+='>15</a>\n			<a href="javascript:void(0)"  data-time="30" ',30==minuteDate&&(__p+='class="current"'),__p+='>30</a>\n			<a href="javascript:void(0)"  data-time="45" ',45==minuteDate&&(__p+='class="current"'),__p+=">45</a>\n		</div>\n	</div>\n</div>"}return __p},this.JST["common/plugins/popup/import-task"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="tBar">导入'+__e(typeData.name),"任务"==typeData.name&&(__p+='<span class="bar-info">导入的任务里有里程碑信息请先导入里程碑</span>'),__p+='</div>\n<div class="mBar">\n	<div class="uploader_container" style="position: relative;">\n		<a class="dowonload" href="'+(null==(__t=context.getWebUrl("Content/导入"+typeData.name+".rar"))?"":__t)+'">下载示例模板</a>\n	</div>\n	<div id="attachmentViewBox_homeMblog">\n		<!-- <div class="preview_container"></div>\n		<div class="error_container"></div>\n		<div class="loading_container"></div> -->\n		<div id="attachmentViewBox_homeMblog" class="exit_file"></div> \n		<div id="attachmentViewBox_homeMblog" class="error_container"></div> \n		<div id="attachmentViewBox_homeMblog" data-name="message-file-preview" class="preview_container message-file-preview">\n	</div>\n	\n	<img class="loading" src="'+(null==(__t=context.getStaticUrl("images/load_m.gif"))?"":__t)+'"/>\n</div>\n';return __p},this.JST["common/plugins/popup/member-sort"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="mBar">\n	<div class="item" data-type="checkAll">\n		<span class="check checkbox'+(null==(__t=checkAll?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">全选</span>\n	</div>\n	',isShowRes&&(__p+='\n	<div class="item" data-type="r">\n		<span class="check checkbox'+(null==(__t=r?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">'+(null==(__t=isSelfView?"我":"ta")?"":__t)+"负责的</span>\n	</div>\n	"),__p+="\n	",isShowCreate&&(__p+='\n	<div class="item" data-type="c">\n		<span class="check checkbox'+(null==(__t=c?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">'+(null==(__t=isSelfView?"我":"ta")?"":__t)+"派发的</span>\n	</div>\n	"),__p+="\n	",isShowPart&&(__p+='\n	<div class="item" data-type="p">\n		<span class="check checkbox'+(null==(__t=p?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">'+(null==(__t=isSelfView?"我":"ta")?"":__t)+"参与的</span>\n	</div>\n	"),__p+='\n</div>\n<div class="bBar">\n	<button class="btn btn-sure '+(null==(__t=isEmpty?"btn-disabled":"")?"":__t)+'" data-name="sure">确定</button>\n</div>\n';return __p},this.JST["common/plugins/popup/sort-pop"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="mBar">\n	<div class="item '+(null==(__t=1==SortType?"active":"")?"":__t)+'" data-name="default">\n		<span class="txt">默认排序</span>\n	</div>\n	<div class="item '+(null==(__t=2==SortType||3==SortType?"active":"")?"":__t)+'" data-name="start" original-title="点击后最'+(null==(__t=3==SortType?"早":"晚")?"":__t)+'开始的在前面">\n		<span class="txt">开始时间</span>\n		<span class="icons">\n			<span class="up icon-arrow-up-solid'+(null==(__t=2==SortType?"-blue":"")?"":__t)+'">\n			</span>\n			<span class="down icon-arrow-down-solid'+(null==(__t=3==SortType?"-blue":"")?"":__t)+'"></span>\n		</span>\n	</div>\n	<div class="item '+(null==(__t=4==SortType||5==SortType?"active":"")?"":__t)+'" data-name="end" original-title="点击后最'+(null==(__t=5==SortType?"早":"晚")?"":__t)+'结束的在前面">\n		<span class="txt">结束时间</span>\n		<span class="icons">\n			<span class="up icon-arrow-up-solid'+(null==(__t=4==SortType?"-blue":"")?"":__t)+'">\n			</span>\n			<span class="down icon-arrow-down-solid'+(null==(__t=5==SortType?"-blue":"")?"":__t)+'"></span>\n		</span>\n	</div>\n	<div class="item '+(null==(__t=6==SortType||7==SortType?"active":"")?"":__t)+'" data-name="create" original-title="点击后最'+(null==(__t=7==SortType?"早":"晚")?"":__t)+'创建的在前面">\n		<span class="txt">创建时间</span>\n		<span class="icons">\n			<span class="up icon-arrow-up-solid'+(null==(__t=6==SortType?"-blue":"")?"":__t)+'">\n			</span>\n			<span class="down icon-arrow-down-solid'+(null==(__t=7==SortType?"-blue":"")?"":__t)+'"></span>\n		</span>\n	</div>\n	',isShowStar&&(__p+='\n	<div class="item '+(null==(__t=8==SortType?"active":"")?"":__t)+'" data-name="star" original-title="星标任务在最前面">\n		<span class="txt">星标</span>\n	</div>\n	'),__p+="\n</div>";return __p},this.JST["common/plugins/popup/summary"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tt_summary_head">\n	<div class="title">填写心得</div>\n</div>\n<div class="tt_summary_content" data-name="summary_content"></div>';return __p},this.JST["common/plugins/popup/transfer-task-pop"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="tBar">转移任务</div>\n<div class="mBar">\n	<span class="label">转移到</span>\n	<span class="mile" data-name="choose-miles">\n		<span class="txt">'+(null==(__t=defaultData.value)?"":__t)+'</span>\n		<span class="icon icon-arrow-down"></span>\n	</span>\n</div>\n<div class="bBar '+(null==(__t=isShowCancelMile?"":"no-cancel")?"":__t)+'">\n	',isShowCancelMile&&(__p+='\n	<span class="cancel-mile" data-name="cancel-mile">取消设置里程碑</span>\n	'),__p+='\n	\n	<button data-name="cancel" class="btn btn-cancel">取消</button>\n	<button data-name="sure" class="btn btn-sure">确定</button>\n</div>';return __p},this.JST["common/plugins/popup/wrap"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="tBar">\n	',setDoubleDate&&(__p+='\n	<li class="item active" data-name="date">起止时间</li>\n	'),__p+="\n	",setCycle&&(__p+='\n	<li class="item" data-name="cycle" >循环时间</li>\n	'),__p+='\n</ul>\n<div class="mBar" data-name="content">\n</div>';return __p},this.JST["common/plugins/remindme-widget/remindme-time-picker"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)_.each(data,function(a,b){__p+="\n	<li data-id= "+(null==(__t=a.value)?"":__t)+" >"+(null==(__t=a.text)?"":__t)+"</li>\n"});return __p},this.JST["common/plugins/remindme-widget/remindme-widget-list-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="remindme_item_animate">\n	<span class="icon"></span><span>提醒</span>\n</div>\n<div class="remindme_item_content">\n	<p class="remindme_item_content_tips">\n		'+(null==(__t=Time)?"":__t)+"\n		<span>"+(null==(__t=Content)?"":__t)+'</span>\n	</p>\n	<p class="remindme_item_content_content">\n		<span class="remindme_item_content_type">'+(null==(__t=typeText)?"":__t)+'</span>\n		<a href="'+(null==(__t=Url)?"":__t)+'" class="remindme_item_content_title">'+(null==(__t=ObjName)?"":__t)+"</a>\n	</p>\n	",RemindUser&&(__p+='\n		<p class="remindme_item_content_tips"><span>提醒发起人:'+(null==(__t=RemindUser.Name)?"":__t)+"</span></p>\n	"),__p+='\n</div>\n<div class="remindme_item_btn_group">\n	<a href="javascript:void(0)" data-handler="show_tip" class="btn_remindme_blue btn_remindme_later">稍后<span></span></a>\n	<a href="javascript:void(0)" class="btn_remindme_default btn_remindme_clear">消除<span></span></a>\n</div>\n<div class="remindme_all_operate">\n	<a href="javascript:void(0)" data-handler="prev" class="btn_remindme_arrow_prev btn_remindme_prev"></a>\n	<span class="remindme_all_now_count">'+(null==(__t=index+1)?"":__t)+"/"+(null==(__t=count)?"":__t)+'</span>\n	<a href="javascript:void(0)" data-handler="next" class="btn_remindme_arrow_next btn_remindme_next"></a>\n	<a href="javascript:void(0)" class="btn_remindme_tip">展开全部</a>\n</div>';return __p},this.JST["common/plugins/remindme-widget/remindme-widget"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<ul class="remindme_list_container">\n	\n</ul>\n<div class="remindme_list_foot">\n	<div class="remindme_foot_line"></div>\n	<div class="remindme_item_animate"></div>\n	<div class="remindme_item_content"></div>\n	<div class="remindme_item_btn_group"> \n		<a href="javascript:void(0)" class="btn_remindme_blue btn_remindme_later_all">全部稍后<span></span></a>\n		<a href="javascript:void(0)" class="btn_remindme_default btn_remindme_clear_all">全部消除<span></span></a>\n	</div>\n	<div class="remindme_all_operate">\n		<span class="remindme_list_foot_count">共<span>'+(null==(__t=count)?"":__t)+'</span>个提醒</span>\n		<span class="btn_remindme_tip">收起全部</span>\n		<a href="javascript:void(0)" class="a"></a>\n	</div>\n</div>';return __p},this.JST["common/plugins/tdialog/dialog"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="arrow"></div>\n',settings.showClosed&&(__p+='\n	<span class="icon-dialog-closed closed_dialog"></span>\n'),__p+='\n<div class="content_dialog"></div>\n',(settings.sure||settings.cancel)&&(__p+='\n<div class="uibutton">\n	',settings.sure&&(__p+='\n		<a data-bypass href="'+(null==(__t=settings.sureLink?settings.sureLink:"javascript:void(0);")?"":__t)+'"   class="btn btn-sure sure_dialog">'+(null==(__t=settings.sureText)?"":__t)+"</a>\n		"),__p+="\n	",settings.cancel&&(__p+='\n	<a href="javascript:void(0);" title="" class="btn btn-cancel cancel_dialog">'+(null==(__t=settings.cancelText)?"":__t)+"</a>\n	"),__p+="\n</div>\n");return __p},this.JST["common/remindme-widget/remindme-time-picker"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)_.each(data,function(a,b){__p+="\n	<li data-id= "+(null==(__t=a.value)?"":__t)+" >"+(null==(__t=a.text)?"":__t)+"</li>\n"});return __p},this.JST["common/remindme-widget/remindme-widget-list-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="remindme_item_animate">\n	<span class="icon"></span><span class="remindme_item_animane_info">提醒</span>\n</div>\n<div class="remindme_item_content">\n	<p class="remindme_item_content_tips">\n		'+(null==(__t=Time)?"":__t)+"\n		<span>"+(null==(__t=Content)?"":__t)+'</span>\n	</p>\n	<p class="remindme_item_content_content">\n		<span class="remindme_item_content_type">'+(null==(__t=typeText)?"":__t)+'</span>\n		<a href="'+(null==(__t=Url)?"":__t)+'" class="remindme_item_content_title">'+(null==(__t=_.escape(ObjName))?"":__t)+"</a>\n	</p>\n	",RemindUser&&(__p+='\n		<p class="remindme_item_content_tips"><span>提醒发起人:'+(null==(__t=RemindUser.Name)?"":__t)+"</span></p>\n	"),__p+='\n</div>\n<div class="remindme_item_btn_group">\n	<a href="javascript:void(0)" data-handler="show_tip" class="btn_remindme_blue btn_remindme_later">稍后<span></span></a>\n	<a href="javascript:void(0)" class="btn_remindme_default btn_remindme_clear">消除<span></span></a>\n</div>\n<div class="remindme_all_operate">\n	<a href="javascript:void(0)" data-handler="prev" class="btn_remindme_arrow_prev btn_remindme_prev"></a>\n	<span class="remindme_all_now_count">'+(null==(__t=index+1)?"":__t)+"/"+(null==(__t=count)?"":__t)+'</span>\n	<a href="javascript:void(0)" data-handler="next" class="btn_remindme_arrow_next btn_remindme_next"></a>\n	<a href="javascript:void(0)" class="btn_remindme_tip">展开全部</a>\n</div>';return __p},this.JST["common/remindme-widget/remindme-widget"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<ul class="remindme_list_container">\n	\n</ul>\n<div class="remindme_list_foot">\n	<div class="remindme_foot_line"></div>\n	<div class="remindme_item_animate"></div>\n	<div class="remindme_item_content"></div>\n	<div class="remindme_item_btn_group"> \n		<a href="javascript:void(0)" class="btn_remindme_blue btn_remindme_later_all">全部稍后<span></span></a>\n		<a href="javascript:void(0)" class="btn_remindme_default btn_remindme_clear_all">全部消除<span></span></a>\n	</div>\n	<div class="remindme_all_operate">\n		<span class="remindme_list_foot_count">共<span>'+(null==(__t=count)?"":__t)+'</span>个提醒</span>\n		<span class="btn_remindme_tip">收起全部</span>\n		<a href="javascript:void(0)" class="a"></a>\n	</div>\n</div>';return __p},this.JST["common/search-filter/search-filter-component"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)isShowTime&&(__p+='\n   <div class="report_label" data-name="report-date"></div>\n'),__p+="\n",isShowStaff&&(__p+='\n   <div class="report_label" data-name="report-staff"></div>\n'),__p+="\n",isShowType&&(__p+='\n  <div class="report_label" data-name="report-type"></div>\n'),__p+="\n",isShowStatus&&(__p+='\n   <div class="report_label" data-name="report_status_filter"></div>\n'),__p+="\n",isShowRange&&(__p+='\n   <div class="report_label" data-name="report_range_filter"></div>\n'),__p+="\n",isShowKey&&(__p+='\n   <div class="report_label" data-name="report_key_filter"></div>\n');return __p},this.JST["common/search-filter/search-filter-date"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="report_title">'+__e(TimeLabelText)+'</span>\n<div class="report_desc">\n	<div class="input-default">\n		'+(null==(__t=startDate)?"":__t)+" - "+(null==(__t=endDate)?"":__t)+"	\n	</div>\n</div>";return __p},this.JST["common/search-filter/search-filter-key"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<span class="report_title">'+__e(KeyLabelText)+'</span>\n<div class="report_desc">\n	<div class="input-default">	\n		<input type="text" placeholder="'+__e(keyPlaceHolder)+'" />\n	</div>\n</div>\n';return __p},this.JST["common/search-filter/search-filter-range"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="report_title">'+__e(RangeLabelText)+'</span>\n<div class="choose">\n	<div class="item" data-name="range-all" data-status="'+(null==(__t=checkRangeAll?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=checkRangeAll?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">全选</span>\n		\n	</div>\n	<div class="item" data-name="range" data-type="charge" data-status="'+(null==(__t=charge?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=charge?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">我负责的</span>\n	</div>\n	<div class="item" data-name="range"  data-type="pass" data-status="'+(null==(__t=pass?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=pass?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">我派发的</span>\n	</div>\n	<div class="item" data-name="range"  data-type="join" data-status="'+(null==(__t=join?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=join?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">我参与的</span>\n	</div>\n</div>';return __p},this.JST["common/search-filter/search-filter-staff"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<a href="javascript:void(0);" title="" class="checkbox ',checked&&(__p+="checkbox-checked"),__p+='"><span class="ico"></span></a>\n',UserAvatar&&(__p+="\n    "+(null==(__t=_.convertImage({src:UserAvatar.Small,size:30,name:Name,bgColor:UserAvatar.Color}))?"":__t)+"\n"),__p+="\n";return __p},this.JST["common/search-filter/search-filter-status"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="report_title">'+__e(StatusLabelText)+'</span>\n<div class="choose">\n	<div class="item" data-name="all" data-status="'+(null==(__t=checkAll?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=checkAll?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">全选</span>\n		\n	</div>\n	<div class="item" data-name="status" data-type="ing" data-status="'+(null==(__t=ing?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=ing?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">进行中</span>\n	</div>\n	<div class="item" data-name="status" data-type="done" data-status="'+(null==(__t=done?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=done?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">已完成</span>\n	</div>\n	<div class="item" data-name="status" data-type="postbone" data-status="'+(null==(__t=postbone?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=postbone?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">已延迟</span>\n	</div>\n	<div class="item" data-name="status" data-type="cancel" data-status="'+(null==(__t=cancel?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=cancel?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">已取消</span>\n	</div>\n	<div class="item" data-name="status" data-type="unstart" data-status="'+(null==(__t=unstart?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=unstart?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">未开始</span>\n	</div>\n	<div class="item" data-name="status" data-type="stop" data-status="'+(null==(__t=stop?1:0)?"":__t)+'">\n		<span class="check checkbox'+(null==(__t=stop?"-checked":"")?"":__t)+'"><span class="ico"></span></span>\n		<span class="label">暂停中</span>\n	</div>\n</div>';return __p},this.JST["common/search-filter/search-filter-type"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<span class="report_title">'+__e(TypeLabelText)+'</span>\n<div class="report_desc">\n	<div class="input-default ',typeList&&typeList.length&&(__p+="input-blur"),__p+='" data-name="report-type-checked">	\n		\n		',0==typeList.length?__p+="\n			所有分类\n		":(__p+="\n		",_.each(typeList,function(a,b){17==a.tabType?(__p+=" \n					"+__e(a.path),b<typeList.length-1&&(__p+=","),__p+="\n				"):4==a.tabType&&(__p+='\n					<span class="icon-work-small"></span>'+__e(a.path),b<typeList.length-1&&(__p+=","),__p+="\n				"),__p+="\n			"})),__p+="\n	</div>\n</div>";return __p},this.JST["common/search-filter/staff-list-composite"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<span class="report_title">'+__e(StaffLabelText)+'</span>\n<spa class="report_desc">\n	',isWorkingHours&&(__p+='<span style="line-height: 34px">所有员工</span>'),__p+="\n	",isShowAll&&!isWorkingHours&&(__p+='\n		<div class="all_checked">\n			<a href="javascript:void(0);" title="" class="checkbox checkbox-checked" data-name="all-checked"><span class="ico"></span></a>\n			<em>全选</em>\n		</div>\n	'),__p+="\n</div>";return __p},this.JST["common/search-form"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<form>\r\n<div class="input-default">\r\n	<a href="javascript:void(0);" title="" class="button_sfl" data-type="submit-content" ><span class="icon-search"></span></a>\r\n	<input type="text" data-type="new-content" autocomplete="off" />\r\n</div>\r\n</form>';return __p},this.JST["common/search-user/form"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="form"><div class="input-default" ><input type="search" value="" /></div></div>';return __p},this.JST["common/search-user/tab"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="menutab">\r\n	<a href="javascript:void(0);" title="" class="active" data-type="often">常用联系人</a>\r\n	<a href="javascript:void(0);" title="" data-type="search">搜索</a>\r\n</div>';
return __p},this.JST["common/search-user/user-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\r\n<a href="javascript:void(0);" title="">\r\n	'+(null==(__t=Avatar)?"":__t)+'\r\n	<span class="name_uil">'+(null==(__t=Name)?"":__t)+'</span>\r\n	<span class="mail_uil">'+(null==(__t=Email)?"":__t)+"</span>\r\n</a>\r\n\r\n";return __p},this.JST["common/search-user/user"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="useritemlist">\r\n	<ol>\r\n	</ol>\r\n</div>';return __p},this.JST["common/search-user/warp"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="lay_form"></div>\r\n<div class="lay_menutab"></div>\r\n<div class="lay_userList"></div>\r\n';return __p},this.JST["common/send-notice/add-user-list"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<em class="ux_add_btn"></em>\n<ul></ul>';return __p},this.JST["common/send-notice/add-user"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<a href="javascript:void(0)" title="删除:'+(null==(__t=name)?"":__t)+'" class="ux_user_area">'+(null==(__t=imgTemplate)?"":__t)+"</a>";return __p},this.JST["common/send-notice/send-notice-component"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="title_nm" data-name="title">'+(null==(__t=title)?"":__t)+'</div>\r\n<div class="userwho">\r\n	<div class="title_uw">通知对象：</div>\r\n	<div class="list_uw" data-name="user-list"></div>\r\n</div>\r\n<div class="sendbox">\r\n	<div class="mailtemplate">\r\n		',__p+=isMailEdit?'\r\n			<div class="input-default" data-name="mail-cont"><textarea name="" rows="" cols=""></textarea></div>\r\n		':'\r\n			<div class="input-default input-disable" data-name="mail-cont"><textarea name="" rows="" cols="" disabled="true">'+(null==(__t=mailContent)?"":__t)+"</textarea></div>\r\n		",__p+='\r\n		<ul class="settype">\r\n		',isShowSystemNotice&&(__p+='\r\n			<li>\r\n				<a href="javascript:void(0);" class="checkbox-disable"><span class="ico"></span></a>\r\n				<strong>系统通知</strong><span>（内容为系统自动生成）</span>\r\n			</li>\r\n		'),__p+="\r\n		<!--",isShowFormalNotice&&editFormalNotice?(__p+='\r\n			<li>\r\n				<a href="javascript:void(0);" class="checkbox ',checkedSendMail&&(__p+="checkbox-checked"),__p+='" data-name="send-official-mail"><span class="ico"></span></a>\r\n				<strong>正式邮件通知</strong><span>（内容需自行编辑）</span>\r\n			</li>\r\n		'):isShowFormalNotice&&!editFormalNotice&&(__p+='\r\n			<li>\r\n				<a href="javascript:void(0);" class="checkbox-disable" data-name="send-official-mail"><span class="ico"></span></a>\r\n				<strong>正式邮件通知</strong><span>（内容需自行编辑）</span>\r\n			</li>\r\n		'),__p+='-->\r\n		</ul>\r\n		<div class="senderwrap">\r\n			<ul class="copytoself">\r\n				',isShowWithStatistics&&(__p+='\r\n				<li>\r\n					<a class="checkbox ',checkedWidthStatistics&&(__p+="checkbox-checked"),__p+='" href="javascript:void(0);" data-name="with-statistics"><span class="ico"></span></a>\r\n					<span>附带统计表</span>\r\n				</li>\r\n				'),__p+="\r\n				<li>\r\n				",isEditCopySelf?(__p+='\r\n					<a class="checkbox ',checkedCopySelf&&(__p+="checkbox-checked"),__p+='" href="javascript:void(0);" data-name="copy-my"><span class="ico"></span></a>\r\n					<span>同时抄送我自己</span>\r\n					\r\n				'):__p+='\r\n					<a class="checkbox-disable" href="javascript:void(0);"><span class="ico"></span></a>\r\n					<span>同时抄送我自己</span>\r\n				',__p+="\r\n				</li>\r\n				\r\n			</ul>\r\n		</div>\r\n	</div>\r\n</div>\r\n";return __p},this.JST["common/send-notice/send-notice-user-list-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+=(null==(__t=_.convertImage({className:"avatar_uw",src:avatar.Small,size:30,shape:"radius",name:name,bgColor:avatar.Color}))?"":__t)+'\r\n\r\n<a href="javascript:void(0);" class="select_uw"><span class="ico"></span></a>\r\n';return __p},this.JST["common/set-role/set-role"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='    <div class="setRole__close tu-icon-close tu-poa tu-icon-a1" data-name="closeSetRole"></div>\n    <div class="setRole__left"></div>\n    <div class="setRole__right">\n        ',1==withOutType&&(__p+='<div class="setRole__title tu-mb-15">您还没有下属，<a href="'+__e(setUrl)+'" target="_blank">设置下属</a> 或 <a data-name="remindAdmin" href="javascript:void(0)">一键提醒管理员</a> 设置吧！</div>'),__p+="\n        ",2==withOutType&&(__p+='<div class="setRole__title">您还没有上级，<a data-name="remindAdmin" href="javascript:void(0)">一键提醒管理员</a> 设置吧！</div> '),__p+='\n        <div class="setRole__contact  tu-mb-15">您也可以直接联系以下管理员:</div>\n        <div class="setRole__admin">\n            <ul>\n                ',_.each(managers,function(a){__p+='\n                    <li class="setRole__admin_li">\n                        <p class="setRole__admin_name">'+__e(a.name)+"</p>\n                        <p>"+__e(a.phone?a.phone:a.email)+"</p>\n                    </li>\n                "}),__p+="\n            </ul>\n        </div>\n    </div>\n    ";return __p},this.JST["common/share-range/share-range-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<a href="/u/'+(null==(__t=User.Id)?"":__t)+'">\r\n\r\n	',__p+=0==User.UserAvatar.HasAvatar?"\r\n								\r\n		"+(null==(__t=_.convertImage({className:"",src:User.Avatar,size:30,shape:"radius",name:User.Name,bgColor:User.UserAvatar.Color}))?"":__t)+"\r\n	":'\r\n		<img class="radius_img30" alt="'+(null==(__t=User.Name)?"":__t)+'" src="'+(null==(__t=User.UserAvatar.Small)?"":__t)+'">\r\n	',__p+="\r\n\r\n</a>\r\n",0==Type&&(__p+='<span class="del_sr" id="'+(null==(__t=User.Id)?"":__t)+'" data-name="deleted"><i class="ico"></i></span>'),__p+="\r\n";return __p},this.JST["common/share-range/share-range"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="\r\n	<h4>"+(null==(__t=title)?"":__t)+'</h4>\r\n	<ul class="list_sr">\r\n		',isEdit&&(__p+='\r\n		<li class="button_sr"><a href="javascript:void(0);" title="" class="add_sr  tu-btn tu-btn-mini tu-btn-add tu-icon-add" data-name="add"><span></span></a></li>\r\n		'),__p+="\r\n	</ul>\r\n";return __p},this.JST["common/share/share-range-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<a href="/u/'+(null==(__t=User.Id)?"":__t)+'">\r\n\r\n	',__p+=0==User.UserAvatar.HasAvatar?"\r\n								\r\n		"+(null==(__t=_.convertImage({className:"",src:User.Avatar,size:30,shape:"radius",name:User.Name,bgColor:User.UserAvatar.Color}))?"":__t)+"\r\n	":'\r\n		<img class="radius_img30" alt="'+(null==(__t=User.Name)?"":__t)+'" src="'+(null==(__t=User.Avatar)?"":__t)+'">\r\n	',__p+="\r\n\r\n</a>\r\n",0==Type&&(__p+='<span class="del_sr" id="'+(null==(__t=User.Id)?"":__t)+'"><i class="ico"></i></span>'),__p+="\r\n";return __p},this.JST["common/share/share-range"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+="\r\n	<h4>共享给谁？</h4>\r\n	<ul>\r\n		",IsEdit&&(__p+='\r\n		<li><a href="javascript:void(0);" title="" class="add_sr"><span></span></a></li>\r\n		'),__p+="\r\n	</ul>\r\n";return __p},this.JST["common/smember/invite-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="narrow"==viewType?'\n	<div class="invite_narrow_item">\n		<img src="//st-web.tita.com/titacn/tita/common/images/default_man_middle.jpg"/>邀请'+(null==(__t=name)?"":__t)+"加入\n	</div>\n":'\n	<div class="invite_item_wide">\n		<p class="invite_title">ta的邮箱</p>\n		<p class="invite_input"><input type="text" name="email" value="'+(null==(__t=name)?"":__t)+'" autocomplete="off"></p>\n		<p class="invite_tips invite_email_tips"></p>\n		<p class="invite_title invite_title_name">ta的姓名<span>（可选）</span></p>\n		<p class="invite_input"><input type="text" name="name" autocomplete="off"></p>\n		<p class="invite_tips  nvite_name_tips"></p>\n		<a class="btn_invite" href="javascript:void(0)">邀请加入</a>\n		<div class="invite_sucess"><span></span>邀请已发出！</div>\n	</div>\n';return __p},this.JST["common/sort-dropdown-menu/sort-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="item" original-title="',isShowTip.show&&(__p+=null==(__t=isShowTip.txt)?"":__t),__p+='">\n<span class="sort-name">'+(null==(__t=name)?"":__t)+"</span>\n",isSort.show&&(__p+='\n	<span class="sort-icons">\n		<span class="icon tu-icon-sort-up ',"up"==isSort.type&&(__p+="active"),__p+='"></span>\n		<span class="icon tu-icon-sort-down  ',"down"==isSort.type&&(__p+="active"),__p+='"></span>\n	</span>\n'),__p+="\n</div>\n\n\n";return __p},this.JST["common/tag-dialog/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n<div class="tit_amd">选择人员标识</div>\n<div class="list_adm">\n	<ul class="clearfix">\n	</ul>\n	<div class="kf_adm">如需 <b>自定义标识</b>，请联系客服<br>电话： 400 650 3180<br>QQ：1945 5939 03</div>\n</div>\n<div class="action_adm">\n	<a href="#" title="" class="btn-sure">确定</a>\n	<a href="#" title="" class="btn-cancel">取消</a>\n</div>\n\n';return __p},this.JST["common/tag-dialog/tag-item"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<input type="radio" title="首席执行官" name="mark" id="8378197F-B1B4-4190-A5AC-E717172F717C">\n<span>首席执行官</span><img src="//st-web.tita.com/titacn/tita/admin/luotro/img/CEO.png" alt="">';return __p},this.JST["common/tag-list"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='\n<div class="tag-box tu-clearfix ',tagManageBtn&&(__p+="tag-manage"),__p+='" >\n	<div data-name="tag-wrap"></div>\n	',showMore&&(__p+='\n		<a href="javascript:;" data-name="show-more" class="show-more">查看全部<span class="tu-icon-arrow-down"></span></a>\n	'),__p+="\n	",tagManageBtn&&(__p+='\n	<a href="#set?page_id=tag" class="tu-icon-setting tag-manage-btn" data-name="tag-manage" data-placement="left" data-toggle="infotip" ></a>\n	'),__p+="\n</div>\n\n\n";return __p},this.JST["common/todo-composite"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div id="test" style="width : 200px;height :200px; border:1px solid red; background-color:#fff;">\n<form>\n	<input name="new-content" autocomplete=off />\n	<input type="submit" name="submit" />\n</form>\n<ul>\n</ul>\n</div>';return __p},this.JST["common/treeview/tree-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="title_tv" data-name="title">\r\n	',0==isEnd&&(__p+='\r\n	<span class="icon_tv" data-name="toggle"></span>\r\n	'),__p+='\r\n	<span class="text_tv">'+(null==(__t=Name)?"":__t)+"</span>\r\n</div>\r\n<ul></ul>\r\n";return __p},this.JST["common/uploader/uploader-item"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="uploader_container"></div>\n<div  class="error_container" style="padding-top: 8px; display: none;"></div>\n<div class="preview_container"></div>\n<div class="loading_view" style="padding-top: 8px; display: none;padding-left:75px;"></div> ';return __p},this.JST["common/work-task/lotSize-deal/lotSize-deal-btns"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="project-lotSize__btn-area tu-tar">\n	<button class="tu-btn tu-btn-small tu-btn-sure tu-mr-10 disabled" data-name="delete">删除任务</button>\n	<button class="tu-btn tu-btn-small tu-btn-sure tu-mr-10 disabled" data-name="dropDown" data-type="changeTime">修改时间</button>\n	<button class="tu-btn tu-btn-small tu-btn-sure tu-mr-10 disabled" data-name="dropDown" data-type="changeStatus">修改状态</button>\n	<button class="tu-btn tu-btn-small tu-btn-sure tu-mr-10 disabled" data-name="changePrincipal">转交负责人</button>\n</div>';return __p},this.JST["common/work-task/lotSize-deal/lotSize-deal-errorTip"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="errorTip__header">修改成功 '+(null==(__t=successNum)?"":__t)+" 项，失败 "+(null==(__t=fialNum)?"":__t)+" 项，失败原因："+(null==(__t=fialReason)?"":__t)+"，修改失败的任务如下：</div>\n<ul>\n	",_.each(fialList,function(a,b){__p+="\n		",(showMore||10>b)&&(__p+='\n			<li class="errorTip__item tu-ft_m2">'+(null==(__t=a.taskName)?"":__t)+"</li>\n		"),__p+="\n	"}),__p+="\n</ul>\n",fialList.length>10&&(__p+='\n	<a href="javascript:void(0)" data-name="showMore" class="tu-fr errorTip__more">加载更多<span class="'+(null==(__t=showMore?"tu-icon-arrow-down":"tu-icon-arrow-up")?"":__t)+'"></span></a>\n'),__p+="\n";return __p},this.JST["common/work-task/lotSize-deal/lotSize-deal-main"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n<div class="project-lotSize__filter" data-name="lotSize-filter"></div>\n<div data-name="lotSize-task"></div>\n<div data-name="pagination"></div>\n\n<!-- <div class="project-lotSize__btn tu-por" data-name="lotSize-btn">\n	<button class="tu-btn tu-btn-small tu-btn-sure disabled" data-name="dropDown" data-type="changeTime">修改时间</button>\n	<button class="tu-btn tu-btn-small tu-btn-sure tu-ml-10 disabled" data-name="dropDown" data-type="changeStatus">修改状态</button>\n	<button class="tu-btn tu-btn-small tu-btn-sure tu-ml-10 disabled" data-name="changePrincipal">转交负责人</button>\n</div> -->';return __p},this.JST["common/work-task/lotSize-deal/lotSize-task-composite"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)mileStoneName&&(__p+='\n	<div class="tu-ft_m3 tu-font-a2 project-lotSize__task-milepost-name">'+(null==(__t=mileStoneName)?"":__t)+"</div>\n"),__p+='\n<ul class="project-lotSize__task-list"></ul>';return __p},this.JST["common/work-task/lotSize-deal/lotSize-task-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj){if(__p+='<!-- 未接受，已完成审批中任务置灰显示 status 2 已完成，status 5 未接受 isApply 审批中-->\n<li class="tu-clearfix tu-font-a1 tu-ft_m1 tu-por project-lotSize__task_border project-lotSize__task-li">\n	<div class="'+(null==(__t=checked?checkedIcons.checked:checkedIcons.unchecked)?"":__t)+" "+(null==(__t=isApply?"icon-gray":"tu-cp")?"":__t)+'  project-lotSize__task-grid-checked" '+(null==(__t=isApply?'data-body="审批中不可操作"':'data-name="changeCheck"')?"":__t)+' ></div>\n	<div class="project-lotSize__task-grid-name tu-ft_m3">\n		\n		',level>2){__p+="\n			";for(var i=0;i<2*(level-2);i++)__p+='\n				<a href="javascript:void(0)" class="project-lotSize__task-icon-empty"></a>\n			';__p+="\n		"}__p+="\n\n		",1!=level&&(__p+='\n			<span class="tu-icon-fold-arrow project-lotSize__task-icon_size tu-pl-20"></span>\n		'),__p+="\n\n		",hasSubTask?(__p+="\n			",__p+=showChildren?'\n				<span class="tu-icon-pack-up tu-ft_m3 tu-cp project-lotSize__task-icon_size" data-name="hideChildern"></span>\n			':'\n				<span class="tu-icon-open tu-ft_m3 tu-cp project-lotSize__task-icon_size" data-name="showChildern"></span>\n			',__p+="\n		"):__p+='\n			<a href="javascript:void(0)" class="project-lotSize__task-icon-empty"></a>\n		',__p+="\n\n		",isApply&&(__p+='\n			<span class="icon-approval tu-poa"></span>\n		'),__p+='\n		<a href="'+(null==(__t=host)?"":__t)+"id="+(null==(__t=taskId)?"":__t)+'" '+(null==(__t=showTip?'data-body="'+taskName+'"':"")?"":__t)+'  class="project-lotSize__task-name '+(null==(__t=2==status||5==status||isApply?"tu-ft_m3":"tu-ft_c2")?"":__t)+' " target="_blank">\n			'+(null==(__t=taskName)?"":__t)+'\n		</a>\n	</div>\n	<div class="project-lotSize__task-grid-status '+(null==(__t=2==status||5==status||isApply?"tu-ft_m3":"tu-ft_m1")?"":__t)+'">'+(null==(__t=statusName)?"":__t)+'</div>\n	<div class="project-lotSize__task-grid-status '+(null==(__t=2==status||5==status||isApply?"tu-ft_m3":"tu-ft_m1")?"":__t)+'">'+(null==(__t=_.substring(principalUser.name,6,!0))?"":__t)+'</div>\n	<div class="project-lotSize__task-grid-startTime '+(null==(__t=2==status||5==status||isApply?"tu-ft_m3":"tu-ft_m1")?"":__t)+'">'+(null==(__t=startDate)?"":__t)+"</div>\n	",__p+=isLongTerm?'\n	<div class="project-lotSize__task-grid-EndTime '+(null==(__t=2==status||5==status||isApply?"tu-ft_m3":"tu-ft_m1")?"":__t)+'">长期</div>\n	':'\n	<div class="project-lotSize__task-grid-EndTime '+(null==(__t=2==status||5==status||isApply?"tu-ft_m3":"tu-ft_m1")?"":__t)+'">'+(null==(__t=deadLine)?"":__t)+"</div>\n	",__p+='\n</li>\n<ul class="project-lotSize__task-childern '+(null==(__t=showChildren?"tu-db":"tu-dn")?"":__t)+'" data-name="task-childern"></ul>\n'}return __p},this.JST["common/work-task/lotSize-deal/lotSize-time-input"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tu-input-default " data-name="input-containter">\n	<label class="placeholder" for="time-input" data-name="placeholder">请输入'+(null==(__t=labelType)?"":__t)+'天数，仅支持输入≥1，≤1000的整数</label>\n	<input type="text" id="time-input" data-name="input" data-id="dateMsg">\n	<div class="error-tip" data-name="error-tip"></div>\n</div>';return __p},this.JST["common/work-task/mile-tab-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<span class="border '+(null==(__t=2==status||3==status?"ing":4==status?"done":"")?"":__t)+'">\n</span>\n<span class="top-icon icon-'+(null==(__t=2==status||3==status?"blue":4==status?"green":"dark")?"":__t)+'-triangle-down">\n</span>\n<div class="bottom '+(null==(__t=activeMile.mileStoneId==mileStoneId?"active":"")?"":__t)+'" data-name="tab" data-id="'+(null==(__t=mileStoneId)?"":__t)+'">\n	<div class="mile-name '+(null==(__t=2==status||3==status?"ing":4==status?"done":"")?"":__t)+'" original-title="'+__e(mileStoneName)+'">里程碑'+(null==(__t=index+1)?"":__t)+'</div>\n	<div class="mile-date">'+(null==(__t=_handleDate(endDate))?"":__t)+"</div>\n	",activeMile.mileStoneId==mileStoneId&&(__p+='\n		<span class="icon icon-blue-triangle-top"></span>\n	'),__p+="\n</div>\n	\n";return __p},this.JST["common/work-task/mile-tab"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="mile-tab-wraper">\n	<span class="icon-arrow-left" data-name="pre" original-title="返回"></span>\n	<span class="icon-arrow-right '+(null==(__t=length>6?"active":"")?"":__t)+'" data-name="next"  original-title="查看更多"></span>\n	<div class="project-start">\n		<span class="top-icon icon-green-triangle-down"></span>\n		<div class="mile-name">'+(null==(__t=6==workType?"目标开始":"项目开始")?"":__t)+'</div>\n		<div class="mile-date">'+(null==(__t=_handleDate(startDate))?"":__t)+'</div>\n	</div>\n	<div class="mile-tab">\n		\n		\n	</div>\n	<div class="no-class '+(null==(__t=0==activeMile.mileStoneId?"active":"")?"":__t)+'" data-id="0"  data-name="tab" original-title="未设置里程碑的其他任务" >\n		<div class="mile-name">其他任务</div>\n		',0==activeMile.mileStoneId&&(__p+='\n			<span class="icon icon-blue-triangle-top"></span>\n		'),__p+='\n	</div>\n</div>\n	\n<div class="mile-detail">\n	',0!=activeMile.mileStoneId?(__p+='\n		<div class="avator">\n			'+(null==(__t=_.convertImage({className:"icon",src:activeMile.user.Avatar.Medium,size:30,shape:"radius",name:activeMile.user.Name,bgColor:activeMile.user.Avatar.Color}))?"":__t)+'\n		</div>\n		<div class="milepost-left">\n			<div class="name"><strong>'+(null==(__t=activeMile.mileStoneName)?"":__t)+"</strong></div>\n\n			\n		",__p+=activeMile.taskTotal>0?'\n			<div class="percent">\n			完成度： <span class="num">\n'+(null==(__t=activeMile.finishTaskTotal)?"":__t)+"/"+(null==(__t=activeMile.taskTotal)?"":__t)+"(<strong>"+(null==(__t=Number((100*activeMile.finishTaskTotal/activeMile.taskTotal).toFixed(1)))?"":__t)+"%</strong>)\n		</span>	\n		</div>\n		":'\n			<div class="noTask">暂无任务</div>\n		',__p+='\n				\n			\n		</div>\n		<div class="milepost-right">\n			<span class="status">\n				',1==activeMile.status?__p+="\n					<strong>未开始</strong>\n				":2==activeMile.status?__p+='\n					<span class="ing">剩余<span class="num">'+(null==(__t=activeMile.remainingDays)?"":__t)+"</span>天</span>\n				":3==activeMile.status?__p+='\n					<span class="warn"><strong>已过期</strong></span>\n				':4==activeMile.status&&(__p+="\n					<strong>已完成</strong>\n				"),__p+='\n			</span>\n			<span data-name="date" class="date ">\n				('+(null==(__t=_handleDate(activeMile.startDate))?"":__t)+"-"+(null==(__t=_handleDate(activeMile.endDate))?"":__t)+")\n			</span>\n		</div>\n	"):__p+='\n		<div class="avator">\n			<span class="radius_img30" style="background-color:#c5c5c5;" >其他</span>\n		</div>\n		<div class="milepost-left">\n			<div class="name">未设置里程碑的其他任务</div>\n		</div>\n	',__p+="\n</div>";return __p},this.JST["common/work-task/work-task"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)mileTotal>0&&(__p+='\n<div class="mile-task-tab" data-name="mile-task-tab"></div>\n'),__p+='\n<div class="task-wraper">\n	<div class="task-create" data-name="create"></div>\n	',(showFilter||showTaskListSearch||showTaskListBatchEdit||showTaskListExport||showGant)&&(__p+='\n		<div class="task-filter" >\n				<div data-name="task-data-filter" ></div>\n			<div class="task-filter__btns"  data-name="task-right-btns">\n				',showTimeManage&&(__p+='\n				<a href="/u/'+(null==(__t=userId)?"":__t)+'/Home#plan" target="_blank" class="tu-mr-10 tu-font-a2 tu-ft_m2">\n					<img src="'+(null==(__t=Talent.Context.getStaticUrl("images/work/decree.png"))?"":__t)+'" />\n					按时间管理我的任务\n				</a>\n				'),__p+="\n				",showTaskListSearch&&(__p+='\n				<button class="tu-icon-search tu-btn tu-btn-small tu-mr-5 task-filter__btns_style" data-body="搜索" data-name="task-filter-search"></button>\n				'),__p+="\n				",showTaskListBatchEdit&&(__p+='\n					<button class="tu-icon-lines---pencil tu-btn tu-btn-small task-filter__btns_style" data-body="批量编辑任务" data-name="lot-size-handler"></button>\n				'),__p+="\n				",showTaskListExport&&(__p+='\n				<a href="'+(null==(__t=exportGanttHref)?"":__t)+'" class="tu-ft-hv_m1 tu-ft_m1  tu-btn tu-btn-small tu-ml-5" data-body="导出任务">\n						导出\n				</a>\n				'),__p+="\n				",showGant&&(__p+='\n				<a href="'+(null==(__t=gantHref)?"":__t)+'" class="tu-ft-hv_m1 tu-ft_m1  tu-btn tu-btn-small tu-ml-5" data-body="甘特图" target="_blank">甘特图</a>\n				'),__p+='\n				\n			</div>\n			<div class="task-filter__search tu-dn" data-name="search-area"></div>\n		</div>\n	'),__p+='\n	<div class="task-list-container" data-name="task-list"></div>\n	',showPagination&&(__p+='\n		<div data-name="pagination"></div>\n	'),__p+="\n</div>\n\n";return __p},this.JST["common/work-today/today-week-composite"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tt_bench_plan_time">\n	<div class="left">\n		<div class="left_time" data-name="date-box">\n			<span class="date"><span data-name="year">'+(null==(__t=year)?"":__t)+'</span>年<span data-name="month">'+(null==(__t=month)?"":__t)+'</span>月<span data-name="day">'+(null==(__t=date)?"":__t)+'</span>日<span class="tu-icon-sort-down"></span></span>\n		</div>\n	</div>\n	<div class="right">\n		<ul class="right_week" data-name="week-list"></ul>\n	</div>\n</div>\n\n';return __p},this.JST["common/work-today/today-week-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<span class="name_list">\n	<a data-trigger="false" href="javascript:void(0);">'+(null==(__t=CName)?"":__t)+"</a>\n</span>\n";return __p},this.JST}),define("iTalent-header",["talent"],function(Talent){var jst=function(){return this.JST=this.JST||{},this.JST["header/company-info"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="company-icon">\n	<!-- <a href="'+(null==(__t=href)?"":__t)+'"><img class="cmpy-logo" src="'+(null==(__t=logo)?"":__t)+'"></a> -->\n	<a href="'+(null==(__t=href)?"":__t)+'"><img class="cmpy-logo" alt="logo"></a>\n	<span class="company-name">'+(null==(__t=name)?"":__t)+"</span>\n</div>";return __p},this.JST["header/header"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='    \n    <div class="header-out-wrapper">\n        <div class="header-left company-info-region clearfix"></div>\n        <div class="header-right clearfix">\n          <!--用户信息-->\n          <div class="header-webim-region"></div>\n          <div class="user-info-region"></div>\n          <ul class=\'btns-group\'></ul>\n        </div>\n    </div>\n';return __p},this.JST["header/icon-view/home-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<a class="common-link '+(null==(__t=iconName)?"":__t)+'" href="'+(null==(__t=href)?"":__t)+'" ',target&&(__p+='target="'+(null==(__t=target)?"":__t)+'"'),__p+=">\n	",reminds.remindCount&&(__p+='\n 		<span class="new-message">'+(null==(__t=reminds.remindCount<=99?reminds.remindCount:"99+")?"":__t)+"</span>\n 	"),__p+='\n 	<div class="btn-tips">\n		<div class="entry-trangle-top"></div>\n		'+(null==(__t=title)?"":__t)+'\n	</div>\n</a>\n<div class="list-wrapper"></div>\n';return __p},this.JST["header/icon-view/message"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<a class="common-link '+(null==(__t=iconName)?"":__t)+'" href="'+(null==(__t=reminds.remindCount?"javascript:void(0)":href)?"":__t)+'" ',target&&(__p+=' target="'+(null==(__t=target)?"":__t)+'"'),__p+=">\n	",reminds.remindCount&&(__p+='\n 		<span class="new-message">'+(null==(__t=reminds.remindCount<=99?reminds.remindCount:"99+")?"":__t)+"</span>\n 	"),__p+='\n 	<div class="btn-tips">\n		<div class="entry-trangle-top"></div>\n		'+(null==(__t=title)?"":__t)+"\n	</div>\n</a>\n\n",reminds.remindList.length&&(__p+='\n	<div class="list-wrapper">\n		<div class="content-visible">\n				<div class="title">'+(null==(__t="新通知("+reminds.remindCount+")")?"":__t)+'</div>\n				<ul class="message-list">\n					',Talent._.each(reminds.remindList,function(a,b){__p+='\n						<li class="message-item">\n							<a href="'+(null==(__t=a.href)?"":__t)+'" class="message-item-a">\n								<span class="icon-box '+(null==(__t=a.className)?"":__t)+'"></span>\n								<span class="content">'+(null==(__t=a.content)?"":__t)+'</span>\n								<span class="num" >'+(null==(__t=a.length)?"":__t)+'</span>\n								<span class="date">'+(null==(__t=a.date)?"":__t)+"</span>\n							</a>\n						</li>\n					"}),__p+='\n				</ul>\n				<li class="view-all"><a href="'+(null==(__t=reminds.viewAllHref)?"":__t)+'">查看全部</a></li>\n		</div>\n	</div>\n'),__p+="\n";return __p},this.JST["header/icon-view/search"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+=' \n<a class="common-link '+(null==(__t=iconName)?"":__t)+'" href="'+(null==(__t=href)?"":__t)+'" ',target&&(__p+=' target="'+(null==(__t=target)?"":__t)+'"'),__p+=">\n	",reminds.remindCount&&(__p+='\n 		<span class="new-message">'+(null==(__t=reminds.remindCount)?"":__t)+"</span>\n 	"),__p+='\n 	<div class="btn-tips">\n		<div class="entry-trangle-top"></div>\n		搜索\n	</div>\n</a>\n<div class="list-wrapper">\n		<div class="form-input form-input-active"> \n			<form action="" data-name="search-form">\n				<input placeholder="'+(null==(__t=title)?"":__t)+'" /> \n			</form>\n		</div> \n		<div class="comfirm-btn"></div>\n</div>\n';return __p},this.JST["header/icon-view/settings"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<a class="common-link '+(null==(__t=iconName)?"":__t)+'"  ',href&&(__p+=' href="'+(null==(__t=href)?"":__t)+'" '),__p+=" ",target&&(__p+=' target="'+(null==(__t=target)?"":__t)+'"'),__p+=">\n	",reminds.remindCount&&(__p+='\n 		<span class="new-message">'+(null==(__t=reminds.remindCount<=99?reminds.remindCount:"99+")?"":__t)+"</span>\n 	"),__p+='\n 	<div class="btn-tips">\n		<div class="entry-trangle-top"></div>\n		'+(null==(__t=title)?"":__t)+"\n	</div>\n</a>\n",reminds.remindList&&reminds.remindList.length&&(__p+='\n	<div class="list-wrapper">\n		<div class="content-visible">\n			<ul class="message-list">\n				',Talent._.each(reminds.remindList,function(a,b){__p+='\n					<li class="message-item">\n						<a href="'+(null==(__t=a.href)?"":__t)+'" ',a.target&&(__p+=' target="'+(null==(__t=target)?"":__t)+'"'),__p+='  class="message-item-a">\n							<span class="settings-icon '+(null==(__t=a.className)?"":__t)+'"></span>\n							<span class="content">'+(null==(__t=a.content)?"":__t)+"</span>\n						</a>\n					</li>\n				"}),__p+="\n			</ul>\n	</div>\n	</div>\n"),__p+="\n\n";return __p},this.JST["header/icon-view/skin"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='	<a class="common-link '+(null==(__t=iconName)?"":__t)+'" href="'+(null==(__t=href)?"":__t)+'" ',target&&(__p+=' target="'+(null==(__t=target)?"":__t)+'"'),__p+=">\n		",reminds.remindCount&&(__p+='\n 		<span class="new-message">'+(null==(__t=reminds.remindCount<=99?reminds.remindCount:"99+")?"":__t)+"</span>\n	 	"),__p+='\n	 	<div class="btn-tips">\n			<div class="entry-trangle-top"></div>\n			'+(null==(__t=title)?"":__t)+'\n		</div>\n	</a>\n	<div class="list-wrapper">\n		<div class="content-visible">\n			<div class="color-title">拖动滑块选择颜色</div>\n			<input type="range" class="color-range">\n			<div class="selector-btn clearfix">\n				<div class="check-default check-back">\n					<div class="check-box ">\n						<span class="un-check"></span>\n						<span class="in-check"></span>\n					</div>\n					<label class="text">恢复默认</label>\n				</div>\n\n				<span class="comfirm-btn-style comfirm-btn">确定</span>\n			</div>\n		</div>\n	</div>\n</div>\n';return __p},this.JST["header/icon-view/todos-item/todos-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="\n	",Talent._.each(reminds.remindList,function(a,b){__p+='\n		<li class="message-item">\n			<a href="'+(null==(__t=a.href)?"":__t)+'" class="clearfix message-item-a">\n				',__p+=a.avatar.hasAvatar?'\n					<div class="user-pic"><img src="'+(null==(__t=a.avatar.medium)?"":__t)+'"></div>\n				':'\n					<div class="user-pic" style="background-color: '+(null==(__t=a.avatar.color)?"":__t)+'">'+(null==(__t=a.userName.substr(0,1)||"Name")?"":__t)+"</div>\n				",__p+='\n				<div class="item-detail">\n					<div class="detail-head clearfix">\n						<span class="user-name">'+(null==(__t=a.userName)?"":__t)+'</span>\n						<span class="user-opr">'+(null==(__t=a.teskName)?"":__t)+'</span>\n						<span class="date">'+(null==(__t=a.date)?"":__t)+'</span>\n					</div>\n					<div class="detail-content">'+(null==(__t=a.taskContent)?"":__t)+"</div>\n				</div>\n			</a>\n		</li>\n	"}),__p+="\n";return __p},this.JST["header/icon-view/todos"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<a class="common-link '+(null==(__t=iconName)?"":__t)+'" href="'+(null==(__t=reminds.remindCount?"javascript:void(0)":href)?"":__t)+'" ',target&&(__p+=' target="'+(null==(__t=target)?"":__t)+'"'),__p+=">\n	",reminds.remindCount&&(__p+='\n 		<span class="new-message">'+(null==(__t=reminds.remindCount<=99?reminds.remindCount:"99+")?"":__t)+"</span>\n 	"),__p+='\n 	<div class="btn-tips">\n		<div class="entry-trangle-top"></div>\n		'+(null==(__t=title)?"":__t)+"\n	</div>\n</a>\n\n",reminds.remindCount&&(__p+='\n	<div class="list-wrapper">\n		<div class="content-visible">\n			<div class="title">'+(null==(__t="我的待办("+reminds.remindCount+")")?"":__t)+'</div>\n			<ul class="message-list">\n				<div class="spinner">\n					<div class="rect1"></div>\n					<div class="rect2"></div>\n					<div class="rect3"></div>\n					<div class="rect4"></div>\n				</div>\n				<div class="text-loading">加载中...</div>\n			</ul>\n			<li class="view-all"><a href="'+(null==(__t=reminds.viewAllHref)?"":__t)+'">查看全部</a></li>\n		</div>\n	</div>\n'),__p+="\n";return __p},this.JST["header/user-info"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n	<div class="user-info">\n		',__p+=userInfo.avatar.hasAvatar?'\n			<span class="user-photo"><img src="'+(null==(__t=userInfo.avatar.small)?"":__t)+'"></span>\n		':'\n			<span class="name-pic" style="background-color: '+(null==(__t=userInfo.avatar.color)?"":__t)+'">'+(null==(__t=userInfo.name.substr(0,1)||"Name")?"":__t)+"</span>\n		",__p+='\n			<span class="user-name">'+(null==(__t=userInfo.name)?"":__t)+'</span>\n	</div>\n\n	<div class="dp-down-list">\n		<ul class="list-ul-box dp-list-front">\n		',
Talent._.each(userInfoDropDown,function(a,b){__p+='\n			<li class="dp-list-item"><a href="'+(null==(__t=a.href)?"":__t)+'" target="'+(null==(__t=a.target)?"":__t)+'" data-name="'+(null==(__t=a.type)?"":__t)+'" index="'+(null==(__t=b)?"":__t)+'">'+(null==(__t=a.title)?"":__t)+"</a></li>\n		"}),__p+='\n			<!-- <li class="item-high-light"></li> -->\n		</ul>\n\n		<ul class="list-ul-box dp-list-shadow">\n			',Talent._.each(userInfoDropDown,function(a,b){__p+='\n				<li class="'+(null==(__t="item-"+b)?"":__t)+'" item-index="'+(null==(__t=b)?"":__t)+'"><a href="">'+(null==(__t=a.title)?"":__t)+"</a></li>\n			"}),__p+="\n		</ul>\n	</div>";return __p},this.JST["header/webim"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<span class="header-icon-titaim ico-webim disabled"></span>\n<b class="u-unread new-message hide">0<b>\n';return __p},this.JST}(),BaseView=Talent.Layout.extend({initialize:function(a){this.options=a,this.model=new Talent.Model(a),this.listenTo(this.model,"change",this.render)},autoHideRegister:function(){},autoHideCancle:function(){},listClose:function(){this.ui.iconBtn.removeClass("opr-btns-select"),this.ui.popList.removeClass("list-open").addClass("list-close")},popListClick:function(a){var b=a||window.event;b.stopPropagation()},listShow:function(a){var b=this;this.ui.popList.addClass("list-open").removeClass("list-close"),this.ui.iconBtn.addClass("opr-btns-select"),Talent.$(document).off("mousedown.list-wrapper"),Talent.$(document).on("mousedown.list-wrapper",function(a){b.ui.popList.removeClass("list-open").addClass("list-close"),b.ui.iconBtn.removeClass("opr-btns-select"),Talent.$(document).off("mousedown.list-wrapper")}),this.trigger("iconClickEvent",this.options)}}),Search=BaseView.extend({template:jst["header/icon-view/search"],className:"search-icon-box",ui:{iconBtn:".common-link",popList:".list-wrapper",valueInput:".form-input input",searchForm:"[data-name=search-form]"},events:function(){var a={};return a["click "+this.ui.iconBtn]="selfListShow",a["mousedown "+this.ui.popList]="popListClick",a["mouseleave "+this.ui.popList]="autoHideRegister",a["mouseenter "+this.ui.popList]="autoHideCancle",a["submit "+this.ui.searchForm]="formSubmit",a},selfListShow:function(a){this.listShow(),this.ui.valueInput.focus()},formSubmit:function(a){var b={target:this.options.type,id:this.options.id,exportData:{searchValue:this.ui.valueInput.val()}};return this.trigger("iconOprEvents",b),this.ui.valueInput.val(""),this.ui.valueInput.blur(),this.listClose(),!1},messageRenew:function(a){this.model.clear({silent:!0}).set(a)}}),HomePage=Talent.Layout.extend({template:jst["header/icon-view/home-page"],className:"",initialize:function(a){this.options=a,this.model=new Talent.Model(a),this.listenTo(this.model,"change",this.render)},ui:{iconBtn:".common-link"},events:function(){var a={};return a["click "+this.ui.iconBtn]="iconBtnClick",a},iconBtnClick:function(){this.trigger("iconClickEvent",this.options)},messageRenew:function(){this.model.set({reminds:newMsg.reminds})}}),Message=BaseView.extend({template:jst["header/icon-view/message"],className:"message-icon-box",regions:{popRegion:".list-wrapper"},ui:{iconBtn:".common-link",popList:".list-wrapper",messageItem:".message-item",viewAll:".view-all a"},events:function(){var a={};return a["click "+this.ui.iconBtn]="listShow",a["click "+this.ui.messageItem]="listClose",a["mousedown "+this.ui.popList]="popListClick",a["mouseleave "+this.ui.popList]="autoHideRegister",a["mouseenter "+this.ui.popList]="autoHideCancle",a["click "+this.ui.viewAll]="listClose",a},messageRenew:function(a){this.model.clear({silent:!0}).set(a)}}),TodosItems=Talent.ItemView.extend({template:jst["header/icon-view/todos-item/todos-item"],initialize:function(a){this.model=new Talent.Model(a)}}),Todos=BaseView.extend({template:jst["header/icon-view/todos"],className:"todos-icon-box",regions:{listRegion:".message-list"},ui:{iconBtn:".common-link",popList:".list-wrapper",messageItem:".message-item",viewAll:".view-all a"},events:function(){var a={};return a["click "+this.ui.iconBtn]="selfListShow",a["mousedown "+this.ui.popList]="popListClick",a["mouseleave "+this.ui.popList]="autoHideRegister",a["mouseenter "+this.ui.popList]="autoHideCancle",a["click "+this.ui.messageItem]="listClose",a["click "+this.ui.viewAll]="listClose",a},selfListShow:function(a){this.model.get("reminds").remindCount&&this.listShow(a)},messageRenew:function(a){a.reminds.remindList&&a.reminds.remindList.length?this.listRegion.show(new TodosItems(a)):this.model.clear({silent:!0}).set(a)}}),Skin=BaseView.extend({template:jst["header/icon-view/skin"],className:"skin-icon-box",ui:{iconBtn:".common-link",popList:".list-wrapper",comfirmBtn:".comfirm-btn",inputRange:".color-range",checkbox:".check-default"},events:function(){var a={};return a["click "+this.ui.iconBtn]="listShow",a["mousedown "+this.ui.popList]="popListClick",a["mouseleave "+this.ui.popList]="autoHideRegister",a["mouseenter "+this.ui.popList]="autoHideCancle",a["click "+this.ui.comfirmBtn]="getRangeVal",a["click "+this.ui.checkbox]="setDefalutColor",a},getRangeVal:function(){var a={target:this.options.type,id:this.options.id,exportData:{rangeValue:this.ui.inputRange.val(),isDefaultColor:this.ui.checkbox.hasClass("check-go")}};this.trigger("iconOprEvents",a),this.listClose()},setDefalutColor:function(){this.ui.checkbox.toggleClass("check-back").toggleClass("check-go")},messageRenew:function(a){this.model.clear({silent:!0}).set(a)}}),Settings=BaseView.extend({template:jst["header/icon-view/settings"],className:"settings-box",initialize:function(a){this.model=new Talent.Model(a),this.listenTo(this.model,"change",this.render)},ui:{iconBtn:".common-link",popList:".list-wrapper",messageItem:".message-item"},events:function(){var a={};return a["click "+this.ui.iconBtn]="iconBtnClick",a["click "+this.ui.messageItem]="listClose",a["mousedown "+this.ui.popList]="popListClick",a},iconBtnClick:function(){var a=this.model.get("reminds"),b=a&&a.remindList;b&&b.length&&this.listShow(),this.trigger("iconClickEvent",this.options)},messageRenew:function(a){this.model.clear({silent:!0}).set(a)}}),WebIMView=Talent.ItemView.extend({template:jst["header/webim"],className:"header-webim",initialize:function(a){this.options=a},ui:{webim:".ico-webim"},events:function(){var a={};return a["click "+this.ui.webim]="_bindWebIM",a},open:function(){this.ui.webim.removeClass("disabled")},_bindWebIM:function(a){a.stopPropagation();var b=Talent.$(a.currentTarget),c=this;b.hasClass("disabled")||window.beisenWebim&&(this.beisenWebim||(this.beisenWebim=new window.beisenWebim({})),this.beisenWebim.popupPanel(),this._webIMIsShow(),$(document).on("click.Header-WebIM-View",function(){c.beisenWebim&&($(document).off("click.Header-WebIM-View"),setTimeout(function(){c._webIMIsShow()},0))}))},_webIMIsShow:function(){var a=this.beisenWebim.getPanelState();a?this.ui.webim.addClass("active"):this.ui.webim.removeClass("active")},onClose:function(){$(document).off("click.Header-WebIM-View")}}),UserInfo=Talent.Layout.extend({template:jst["header/user-info"],className:"",initialize:function(a){this.options=a,this.model=new Talent.Model(a)},ui:{showList:".user-info",listWrap:".dp-down-list",listItem:".list-ul-box .dp-list-item a",listFront:".dp-list-front",listShadow:".dp-list-shadow"},events:function(){var a={};return a["click "+this.ui.showList]="showList",a["click "+this.ui.listItem]="listItemScale",a},showList:function(a){var b=this;this.ui.listWrap.addClass("dp-down-active"),Talent.$(document).off("mouseup.alertList"),Talent.$(document).on("mouseup.alertList",function(a){b.ui.listWrap.removeClass("dp-down-active"),Talent.$(document).off("mouseup.alertList")}),setTimeout(function(){b.ui.listWrap.removeClass("dp-down-active")},6e3)},listItemScale:function(a){var b=this,c=Talent.$(a.target).attr("index");this.ui.listWrap.removeClass("dp-down-active"),!this.isIE()&&this.ui.listShadow.show(),this.ui.listShadow.find(".item-"+c).addClass("li-scale").siblings().removeClass("li-scale"),setTimeout(function(){b.ui.listShadow.hide()},350)},isIE:function(){return window.ActiveXObject||"ActiveXObject"in window?!0:!1}}),CompanyInfo=Talent.Layout.extend({template:jst["header/company-info"],className:"",initialize:function(a){a.logo||(a.logo="http://st-web.tita.com/ux/tita-web-v4/release/app/images/components/tita-common/logo_v3.png"),this.model=new Talent.Model(a)},ui:{companyLogo:".cmpy-logo"},onRender:function(){var a=this,b=this.model.get("logo");if(b){var c=new Image;c.onload=function(){function d(a,b){var c={},d=a/b;return a>150||b>30?(width=30*d,height=150/d,width>150&&(width=150),height>30&&(height=30),c={w:width,h:height}):c={w:a,h:b},c}var e=c.width,f=c.height,g=d(e,f);a.ui.companyLogo.css({width:parseInt(g.w)||1,height:parseInt(g.h)||1,display:"block",marginTop:(30-g.h)/2}),a.ui.companyLogo.attr("src",b)},c.src=b}}}),Header=Talent.Layout.extend({template:jst["header/header"],className:"iTalent-header",initialize:function(a){this.options=a,this.viewMapping={Search:Search,HomePage:HomePage,Message:Message,Skin:Skin,Todos:Todos,Settings:Settings}},ui:{btnGroup:".btns-group"},regions:{userInfoRegion:".user-info-region",companyInfoRegion:".company-info-region",webIMRegion:".header-webim-region"},onShow:function(){},onRender:function(){this.companyInfoShow(),this.userInfoShow(),this.oprBtnShow(),this.options.showWebIM&&this.webIMShow()},userInfoShow:function(){this.userInfoRegion.show(new UserInfo({userInfo:this.options.userInfo,userInfoDropDown:this.options.userInfoDropDown}))},companyInfoShow:function(){this.companyInfoRegion.show(new CompanyInfo(this.options.companyInfo))},oprBtnShow:function(){var a=this;Talent._.each(this.options.oprBtn,function(b,c){var d=document.createElement("li"),e=b.type,f=e+"-region",g="opr-btns "+f;$(d).addClass(g),a.ui.btnGroup.prepend(d),a.addRegion(f,"."+f),b.target=b.target||"",a[e]=new a.viewMapping[e](b),a[f].show(a[e]),a.listenTo(a[e],"iconOprEvents",function(b){a.trigger("iconOprEvents",b)}),a.listenTo(a[e],"iconClickEvent",function(b){a.trigger("iconClickEvent",b)})})},reloadMessage:function(a){this[a.type].messageRenew(a)},reloadWebIM:function(){this.webIMView&&this.webIMView.open()},webIMShow:function(){this.webIMView=new WebIMView,this.webIMRegion.show(this.webIMView)},_checkIEVersion:function(){var a=navigator.userAgent,b="MSIE",c=a.indexOf(b);if(c>=0)var d=parseFloat(a.substr(c+b.length));return d}});return Header}),function(a){"function"==typeof define&&define.amd?define("$.cookie",["jquery"],a):a(jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),define("iTalent-sidebar",["talent","$.cookie"],function(Talent){var jst=function(){return this.JST=this.JST||{},this.JST["sidebar/bg-slider"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+="";return __p},this.JST["sidebar/multiple-menu-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n\n<a class="list-1st-a" index="'+(null==(__t=index)?"":__t)+"\" href='javascript:;'>\n    <span class=\"sd-icon-before "+(null==(__t=iconName)?"":__t)+" "+(null==(__t=newCount?"sd-new-message":"")?"":__t)+"  "+(null==(__t=MenuPoint&&MenuPoint.value?"sd-update-tip":"")?"":__t)+'" >\n		<span class="red-remind" data-name="feed-all-indicator" ></span>\n		<span class="new-tip" data-name="update-tip" ></span>\n    </span>\n    <span class="text">'+(null==(__t=title)?"":__t)+'</span>\n    <span class="sd-icon-after"></span>\n</a>\n\n',children.length&&(__p+='\n		<ul class="list-2sd-ul">\n			',Talent._.each(children,function(a,b){__p+='\n				<li>\n					<a \n						class="list-2sd-li '+(null==(__t="ani-item-"+b)?"":__t)+" "+(null==(__t="iframe"==a.type?"is-iframe":"")?"":__t)+" "+(null==(__t=a.isActive?"bg-highlight":"")?"":__t)+' "\n						href="'+(null==(__t=""==a.href||"#"==a.href||"iframe"==a.type?"javascript:;":a.href)?"":__t)+'"\n						index="'+(null==(__t=b)?"":__t)+'"\n						target= "'+(null==(__t="intLink"==a.type?"_self":"extLink"==a.type||"newPage"==a.type?"_blank":"")?"":__t)+'"\n						data-trigger="'+(null==(__t="iframe"==a.type?!1:"")?"":__t)+'">\n						<span>'+(null==(__t=a.title)?"":__t)+'</span>\n						<span class=" '+(null==(__t=a.MenuPoint&&a.MenuPoint.value?"sd-update-tip":"")?"":__t)+'" >\n							<span class="new-tip mult-new-tip" data-name="update-tip" ></span>\n						</span>\n					</a>\n				</li>\n			'}),__p+="\n		</ul>\n"),__p+="\n";return __p},this.JST["sidebar/narrow-list-extend"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="list-narrow-wrapper">\n    ',Talent._.each(menuArry,function(a,b){__p+='\n         <li class="list-1st2-li  '+(null==(__t="sp-item-"+b)?"":__t)+" "+(null==(__t=a.children&&a.children.length?"has-sub-list":"no-sub-list")?"":__t)+" "+(null==(__t=a.isQuickEntry?"quick-entry-extend":"")?"":__t)+'">\n            <a \n            class="list-1st2-a '+(null==(__t="iframe"==a.type?"is-iframe":"")?"":__t)+" "+(null==(__t=a.isActive?"shadow-bg":"")?"":__t)+'" \n            href="'+(null==(__t=""==a.href||"#"==a.href||"iframe"==a.type?"javascript:void(0)":a.href)?"":__t)+'" \n            index="'+(null==(__t=b)?"":__t)+'"\n            isSuperItem="true"\n            data-trigger="'+(null==(__t="iframe"==a.type?!1:"")?"":__t)+'">\n                '+(null==(__t=a.title)?"":__t)+'\n                <span class="sd-icon-after" ></span>\n            </a>\n            ',a.children&&a.children.length&&(__p+='\n                <ul class="list-2sd2-ul top-position">\n                    ',Talent._.each(a.children,function(c,d){__p+='\n                        <li class="list-2sd2-li '+(null==(__t="ani-index-"+d)?"":__t)+" "+(null==(__t=c.isActive?"shadow-bg":"")?"":__t)+'">\n                        <a \n                            href="'+(null==(__t=""==c.href||"#"==c.href||"iframe"==c.type?"javascript:void(0)":c.href)?"":__t)+'"\n                            class="shadow-list-a '+(null==(__t="iframe"==c.type?"is-iframe":"")?"":__t)+'" \n                            super-name="'+(null==(__t=a.code)?"":__t)+'"\n                            sub-name="'+(null==(__t=c.code)?"":__t)+'"\n                            super-index="'+(null==(__t=b)?"":__t)+'"\n                            sub-index="'+(null==(__t=d)?"":__t)+'"\n                            target= "'+(null==(__t="intLink"==c.type?"_self":"extLink"==c.type||"newPage"==c.type?"_blank":"")?"":__t)+'"\n                            data-trigger="'+(null==(__t="iframe"==c.type?!1:"")?"":__t)+'">\n                            '+(null==(__t=c.title)?"":__t)+"\n                        </a>\n                        </li>\n                    "}),__p+="\n                </ul>\n            "),__p+="\n        </li>\n    "}),__p+="\n</ul>\n";return __p},this.JST["sidebar/side-bar"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="status-switch-wrapper">\n    <span class="status-switch" data-name="switch">\n        <span class="line-1"></span>\n        <span class="line-2"></span>\n        <span class="line-3"></span>\n    </span>\n</div>\n<div data-name=\'top-shadow\' class="shadow-node-top"></div>\n<div class="list-outer-wrapper">\n    <ul class="list-1st-ul">\n    	<div class="bg-slider-region"></div>\n    </ul>\n</div>\n<div class="list-narrow-extend"></div>\n<div data-name=\'bottom-shadow\' class="shadow-node-bottom"></div>';return __p},this.JST["sidebar/single-menu-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n<a class="list-1st-a '+(null==(__t=isActive?"bg-highlight":"")?"":__t)+" "+(null==(__t="iframe"==type?"is-iframe":"")?"":__t)+'" \n	href="'+(null==(__t=""==href||"#"==href||"iframe"==type?"javascript:;":href)?"":__t)+'" \n	index="'+(null==(__t=index)?"":__t)+'" \n	target= "'+(null==(__t="intLink"==type?"_self":"extLink"==type||"newPage"==type?"_blank":"")?"":__t)+'"\n	data-trigger="'+(null==(__t="iframe"==type?!1:"")?"":__t)+'">\n    <span class="sd-icon-before '+(null==(__t=iconName)?"":__t)+" "+(null==(__t=newCount?"sd-new-message":"")?"":__t)+"  "+(null==(__t=MenuPoint&&MenuPoint.value?"sd-update-tip":"")?"":__t)+' " >\n        <span class="red-remind" data-name="feed-all-indicator" ></span>\n        <span class="new-tip" data-name="update-tip" ></span>\n    </span>\n    <span class="text">'+(null==(__t=title)?"":__t)+"</span>\n</a>";return __p},this.JST}(),SingleItem=Talent.ItemView.extend({template:jst["sidebar/single-menu-item"],className:"",initialize:function(a){this.model=new Talent.Model(a),this.listenTo(this.model,"change",this.render),this.Viewindex=a.index},ui:{memuItem:".list-1st-a"},events:function(){var a={};return a["click "+this.ui.memuItem]="menuItemClick",a["mouseenter "+this.ui.memuItem]="itemMouseEnter",a["mouseleave "+this.ui.memuItem]="itemMouseLeave",a},menuItemClick:function(a){this.trigger("getLayout"),this.model.set({newCount:!1}),this.model.set({MenuPoint:!1})},clickType:function(a){a?this.trigger("pseudoClick",this.model.toJSON()):this.trigger("itemClick",this.model.toJSON())},highlightCancle:function(a){this.model.set({isActive:!1})},highlightAdd:function(){this.model.set({isActive:!0})},itemMouseEnter:function(){this.triggerData("addClass")},itemMouseLeave:function(){this.triggerData("removeClass")},triggerData:function(a){var b={id:this.model.get("id"),index:this.model.get("index"),isActive:this.model.get("isActive"),classOpr:a};this.trigger("mouse-enter-leave",b)},itemReload:function(a){a.isActive=a.isActive?!0:!1,a.newCount=a.newCount?!0:!1,a.index=this.Viewindex,a.isActive=this.isActive,this.model.clear({silent:!0}).set(a)},setMsgNotice:function(a){this.model.set({newCount:a})}}),MultipleItem=Talent.Layout.extend({template:jst["sidebar/multiple-menu-item"],className:"has-sub-list",initialize:function(a){this.options=a,this.viewIndex=a.index,this.model=new Talent.Model(a),this.listenTo(this.model,"change",this.render),this.isSubNav=!0,this.listIsOpen=!1,this.subListHeight=34*this.options.children.length},ui:{menuItem:".list-1st-a",subItem:".list-2sd-li",listWrap:".list-2sd-ul"},events:function(){var a={};return a["click "+this.ui.subItem]="subNavClick",a["click "+this.ui.menuItem]="listSwitch",a["mouseenter "+this.ui.menuItem]="superItemEnter",a["mouseleave "+this.ui.menuItem]="superItemLeave",a},onShow:function(){this.model.get("isQuickEntry")&&this.$el.addClass("open quick-entry")},listSwitch:function(a){if(!this.model.get("isQuickEntry"))if(a&&a.isFromQuickEntry){var b=this;this.listIsOpen||this.superMenuHighlightSwitch(!0);var c=a.p.cIndex>=0?34*a.p.cIndex+44:0,d=b.$el.position().top;b.trigger("listSwitch",{top:d,subListHeight:c,isOpen:b.listIsOpen,target:b,isFromQuickEntry:a&&a.isFromQuickEntry?!0:!1})}else{this.listIsOpen=!this.listIsOpen,this.$el.toggleClass("open"),this.superMenuHighlightSwitch();var e=this.ui.listWrap.find(".bg-highlight"),c=e.length?34*(parseInt(e.attr("index"))+1):this.subListHeight,d=this.$el.position().top;this.trigger("listSwitch",{top:d,subListHeight:c,isOpen:this.listIsOpen,target:this,isFromQuickEntry:a&&a.isFromQuickEntry?!0:!1})}},subNavClick:function(a){var b=Talent.$(a.currentTarget).attr("index"),c=this.model.toJSON().children[b];this.trigger("itemClick",c),this._setMenuPoint(b)},simSubNavClick:function(a){var b=this.$el.find(".list-2sd-ul").children().eq(a).children();b.click()},_setMenuPoint:function(a){var b=this.model.get("children")[a];b.MenuPoint&&0==b.MenuPoint.value||(b.MenuPoint&&(b.MenuPoint.value=!1),this.model.set({MenuPoint:!1}))},superMenuHighlightSwitch:function(a){if(a){var b=this;setTimeout(function(){b.ui.menuItem.addClass("bg-highlight")},300)}else{var c=this.ui.listWrap.find(".bg-highlight").length;this.ui.menuItem[c?"addClass":"removeClass"]("bg-highlight")}},superItemEnter:function(a){this.dataTrigger("addClass")},superItemLeave:function(){this.dataTrigger("removeClass")},dataTrigger:function(a){var b={id:this.model.get("id"),index:this.model.get("index"),isActive:this.ui.menuItem.hasClass("bg-highlight"),classOpr:a};this.trigger("mouse-enter-leave",b)},listClose:function(){this.listIsOpen=!1,this.$el.removeClass("open"),this.superMenuHighlightSwitch();var a=this.ui.listWrap.find(".bg-highlight"),b=a.length?34*(parseInt(a.attr("index"))+1):this.subListHeight,c=this.$el.position().top;this.trigger("listSwitch",{top:c,subListHeight:b,isOpen:this.listIsOpen,target:this})},itemReload:function(a){a.isActive=a.isActive?!0:!1,a.newCount=a.newCount?!0:!1,a.index=this.viewIndex,this.model.clear({silent:!0}).set(a)},highlightReset:function(a){this.dataArrange({})},highlightAdd:function(a){this.ui.listWrap.find(".ani-item-"+a.cIndex).addClass("bg-highlight");this.model.get("children")||[];this.model.get("children")&&this.$el.addClass("open")},highlightCancle:function(a){this.$el.find(".bg-highlight").removeClass("bg-highlight")},dataArrange:function(a){var b=JSON.parse(JSON.stringify(this.model.toJSON()));Talent._.each(b.children,function(b,c){b.isActive=b.id==a.id?!0:!1}),this.itemReload(b)}}),BgSlider=Talent.Layout.extend({template:jst["sidebar/bg-slider"],className:"bg-slider silder-hidden",initialize:function(a){this.positionY=0},sliderAni:function(a){var b=this;this.$el.removeClass("silder-hidden"),this.sliderGo(a),setTimeout(function(){b.trigger("aniFinish"),b.$el.addClass("silder-hidden")},300)},positionResetSlice:function(a){this.sliderGo(a)},sliderGo:function(a){this.positionY=a.top,this.height=a.height;var b=this.transitionSupport()("transform"),c=this.transitionSupport()("transition");b.isSupport&&c.isSupport?this.transformGo(a,b.props):this.topGo(a)},transformGo:function(a,b){var c={};c[b]="translate3d(0,"+a.top+"px,0)",c.height=a.height,this.$el.css(c)},topGo:function(a){this.$el.css({top:a.top,height:a.height})},transitionSupport:function(){var a=document.createElement("div"),b="Khtml Ms O Moz Webkit".split(" "),c=b.length;return function(d){if(d in a.style)return{isSupport:!0,props:d};for(d=d.replace(/^[a-z]/,function(a){return a.toUpperCase()});c--;)if(b[c]+d in a.style)return{isSupport:!0,props:b[c]+d};return!1}}}),NarrowListExtend=Talent.Layout.extend({template:jst["sidebar/narrow-list-extend"],className:"list-narrow-outer",initialize:function(a){this.options=a,this.model=new Talent.Model(a),this.listenTo(this.model,"change",this.render),this.preHLT=null},ui:{superLi:".no-sub-list .list-1st2-a",subItem:".shadow-list-a",listItem:".list-1st2-li",ListWrap:".list-narrow-wrapper"},events:function(){var a={};return a["click "+this.ui.superLi]="superItemClick",a["click "+this.ui.subItem]="subListClick",a["mouseenter "+this.ui.listItem]="showSpread",a["mouseleave "+this.ui.listItem]="hideSpread",a},onShow:function(){this.model.get("isQuickEntry")&&this.$el.addClass("quick-entry")},showSpread:function(a){var b=$(a.target).parents(".list-1st2-li");b.addClass("list-spread")},hideSpread:function(a){$(a.target).parents(".list-1st2-li").removeClass("list-spread")},superItemClick:function(a){var b=this,c=$(a.target).parent();c.removeClass("bg-ripple").addClass("bg-ripple"),this.$el.find(".shadow-bg").removeClass("shadow-bg");var d=$(a.target).attr("index"),e=b.options.menuArry[d];b.trigger("superItemActive",e),setTimeout(function(){c.removeClass("bg-ripple list-spread").addClass("shadow-bg")},450)},subListClick:function(a){var b=$(a.target);this.$el.find(".shadow-bg").removeClass("shadow-bg"),b.removeClass("bg-ripple").addClass("bg-ripple");var c=b.attr("super-index"),d=b.attr("sub-index"),e=JSON.parse(JSON.stringify(this.model.toJSON())).menuArry[c],f={superNodeInfo:e,subNodeInfo:e.children[d]};this.trigger("sublistActive",f),setTimeout(function(){b.parents(".list-1st2-li").removeClass("list-spread")},450)},itemSpreade:function(a){var b=this.$el.find(".sp-item-"+a.index);b[a.classOpr]("list-spread"),this.$el[a.classOpr]("extend"),this.subListOpen(b,a)},setScrollTop:function(a){this.ui.ListWrap.css("top",-a),this.positionTop=a},subListOpen:function(a,b){var c=a.find(".list-2sd2-ul");c.removeClass("bottom-position").addClass("top-position");var d=a.offset().top,e=$(window).height(),f=e-d-50,g=40*this.options.menuArry[parseInt(b.index)].children.length;f-g>20||c.addClass("bottom-position").removeClass("top-position")},modelReset:function(a){var b=this,c=JSON.parse(JSON.stringify(this.model.toJSON()));Talent._.each(c.menuArry,function(b,c){b.isActive=b.id==a.fId?!0:!1,Talent._.each(b.children,function(c,d){c.isActive=c.id==a.cId?!0:!1,c.isActive&&(b.isActive=!0)})}),setTimeout(function(){b.model.clear({silent:!0}).set(c)},700)},pseudoClick:function(a){this.$el.find(".sp-item-"+a.index).find(".list-1st2-a ").click()},onRender:function(){this.setScrollTop(this.positionTop||0)}}),SideBar=Talent.Layout.extend({template:jst["sidebar/side-bar"],className:"page-sidebar-wrapper page-spread-layout",initialize:function(a){this.options=a,this.isNarrowLayout=!1,this.preOpenList=null,this.isFirstInit=!0,this.initLayout(),this.isFirstLevel=!1},regions:{bgSilderRegion:".bg-slider-region",listNarrowExtend:".list-narrow-extend"},ui:{layoutSwitchBtn:"[data-name='switch']",shadowTop:"[data-name='top-shadow']",shadowBottom:"[data-name='bottom-shadow']",itemWrapper:"ul.list-1st-ul",btnWrap:".status-switch-wrapper"},events:function(){var a={};return a["click "+this.ui.layoutSwitchBtn]="_changeLayout",a},onRender:function(){this.bgSilder=new BgSlider,this.bgSilderRegion.show(this.bgSilder),this.narrowListExtend=new NarrowListExtend(this.options),this._listExtendListener(),this.listNarrowExtend.show(this.narrowListExtend),this._baseViewCreate(),this.triggerLayoutStatus()},onShow:function(){this._syncRoll()},_baseViewCreate:function(){var a=this;Talent._.each(this.options.menuArry,function(b,c){if(void 0!==b.id){b.isActive=b.isActive?!0:!1,b.newCount=b.newCount?!0:!1,b.MenuPoint="object"==typeof b.MenuPoint?b.MenuPoint:{},b.index=c;var d=document.createElement("li"),e="menuItem"+b.id,f=e+"-region",g="list-1st-li "+f;$(d).addClass(g),a.ui.itemWrapper.append(d),a.addRegion(f,"."+f),a[e]=b.children.length?new MultipleItem(b):new SingleItem(b),a.baseViewListener(a[e]),a[f].show(a[e])}})},baseViewListener:function(a){var b=this;this.listenTo(a,"itemClick",function(a){return"newPage"==a.type?void window.open(a.href):(b.isFirstLevel=1==a.level,void b._triggerHash(a))}),this.listenTo(a,"listSwitch",function(c){if(clearTimeout(b._timer),c.isFromQuickEntry){var d=c.isOpen?c.subListHeight:0,e=c.isOpen?34:44,f=c.target.$el.position().top+d;this.bgSilder.sliderAni({top:f,height:e}),setTimeout(function(){b.bgSilder.positionResetSlice({top:f,height:e})},300)}else{if(b.bgSilder.positionY>=c.top){var g=c.isOpen?c.subListHeight:-c.subListHeight,f=b.bgSilder.positionY+g;b.bgSilder.positionResetSlice({top:f,height:b.bgSilder.height})}b.preOpenList&&b.preOpenList!=c.target&&b.preOpenList.listClose()}if(c.isOpen){var h=c.target.model.get("appId")||0;(b.preOpenList&&b.preOpenList!=c.target||!b.preOpenList)&&1020==h&&(b._timer=setTimeout(function(){a.simSubNavClick(0)},250))}b.preOpenList=c.target}),this.listenTo(a,"mouse-enter-leave",function(a){b.isNarrowLayout&&b.narrowListExtend.itemSpreade(a)}),this.listenTo(a,"getLayout",function(){a.clickType(b.isNarrowLayout)}),this.listenTo(a,"pseudoClick",function(a){b.narrowListExtend.pseudoClick(a)})},_listExtendListener:function(){var a=this;this.listenTo(this.narrowListExtend,"superItemActive",function(b){a._triggerHash(b)}),this.listenTo(this.narrowListExtend,"sublistActive",function(b){a._triggerHash(b.subNodeInfo)})},_changeLayout:function(){this.$el.toggleClass("page-spread-layout").toggleClass("page-norrow-layout"),this.isNarrowLayout=!this.isNarrowLayout,this.triggerLayoutStatus();var a=this.isNarrowLayout?"narrow":"extend";this._createCookie("layoutStatus",a,30)},_syncRoll:function(){var a=this;Talent.$(".list-outer-wrapper").scroll(function(b){a.narrowListExtend.setScrollTop(this.scrollTop);var c=this.scrollTop>10?"addClass":"removeClass";a.ui.shadowTop[c]("top-shadow");var d=this.scrollHeight-this.offsetHeight-this.scrollTop>10?"addClass":"removeClass";a.ui.shadowBottom[d]("bottom-shadow")});var b=$(window).innerHeight()-95-30;$(".list-1st-ul").height()>b&&this.ui.shadowBottom.addClass("bottom-shadow");this.isOS()?!1:!0,Talent.$(".list-outer-wrapper").slimScroll({height:b,color:"#000",opacity:.3,size:6,distance:2,alwaysVisible:!0,railVisible:!1,railColor:"#000",railOpacity:.1,allowPageScroll:!1,position:"right"});this.resetScrollArea(),this.scrollEvent()},resetScrollArea:function(){$(window).on("resize",function(){windowH=window.innerHeight-95-30,Talent.$(".page-sidebar-wrapper .slimScrollDiv").css({height:windowH}).find(".list-outer-wrapper").css({height:windowH})})},scrollEvent:function(){var a=$(".slimScrollBar"),b=$(".slimScrollRail");a.on("mouseenter",function(){b.css({width:12})}),a.on("mouseleave",function(){b.css({width:8})})},initLayout:function(){var a=this._getCookie("layoutStatus");if("extend"==a)this.isNarrowLayout=!1;else if("narrow"==a)this.isNarrowLayout=!0;else{this.isNarrowLayout=!1;var b=this.isNarrowLayout?"narrow":"extend";this._createCookie("layoutStatus",b,30)}this.isNarrowLayout&&this.$el.removeClass("page-spread-layout").addClass("page-norrow-layout"),this.triggerLayoutStatus()},isOS:function(){var a=-1!=navigator.userAgent.indexOf("Mac",0)?!0:!1;return a},_createCookie:function(a,b,c){$.cookie(a,b,{expires:30})},_getCookie:function(a){return $.cookie(a)},getWidth:function(){return{width:this.isNarrowLayout?50:200}},triggerLayoutStatus:function(){this.trigger("layoutChanged",{width:this.isNarrowLayout?50:200,isNarrowLayout:this.isNarrowLayout})},_triggerHash:function(a){this.trigger("hashChanged",a)},menuItemReload:function(a){this["menuItem"+a.id]&&this["menuItem"+a.id].itemReload(a)},setMsgNotice:function(a){var b;a.code?Talent._.each(this.options.menuArry,function(c,d){c.code==a.code&&(b=c.index)}):Talent._.each(this.options.menuArry,function(c,d){c.id==a.id&&(b=c.index)}),this["menuItem"+this.options.menuArry[b].id].setMsgNotice(a.newCount)},_getHLTIndex:function(a){var b={fId:null,fIndex:null,cId:null,cIndex:null,isFromQuickEntry:a.isQuickEntry?!0:!1},c=a.code?"code":"id";return this.menuItemMatch(this.options.menuArry,a,b,c)},menuItemMatch:function(a,b,c,d){return Talent._.each(a,function(a,e){a.isQuickEntry||(a[d]==b[d]?(c.fId=a.id,c.fIndex=e):Talent._.each(a.children,function(f,g){f[d]==b[d]&&(c.fId=a.id,c.fIndex=e,c.cId=f.id,c.cIndex=g)}))}),c},_goHighLight:function(a){var b=this;if(this.preHTView&&this.preHTView.highlightCancle(a),null!=a.fIndex){var c=a.fId,d=this["menuItem"+c];if(d){var e=this.isFirstInit?0:300,f=this.bgSilder.transitionSupport()("transform").isSupport;e=f?e:0,setTimeout(function(){d.highlightAdd(a)},e);var g=null!=a.cIndex&&d.listIsOpen?34:44,h=null!=a.cIndex&&d.listIsOpen?34*a.cIndex+44:0,i=d.$el.position().top+h;this.isFirstInit||this.isNarrowLayout?(a.isFromQuickEntry&&a.cId&&d.listSwitch({isFromQuickEntry:!0,p:a}),this.bgSilder.positionResetSlice({top:i,height:g})):a.isFromQuickEntry&&a.cId?d.listSwitch({
isFromQuickEntry:!0,p:a}):this.bgSilder.sliderAni({top:i,height:g}),this.narrowListExtend.modelReset(a),this.preHTView=d,this.isFirstInit=!1,d.model.get("children")&&d.model.get("children").length&&(b.preOpenList=d)}}null==a.fIndex&&(this.bgSilder.positionResetSlice({top:0,height:44}),this.preHTView&&this.preHTView.highlightCancle())},highLightSet:function(a){if(void 0!=a){var b=this._getHLTIndex(a);this._goHighLight(b)}},isSimpleNav:function(a){console.log(a),console.log(options.menuArry)}});return SideBar}),define("templates/more",[],function(){return this.JST=this.JST||{},this.JST["more/adminAuthorization/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+="";return __p},this.JST["more/apply/index-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<div class="_tt_plan_container">\n	<div class="tt_messagepage" style="padding:20px;">\n		<div class="pagetitle">\n			<h2 class="ms_pagetitle">\n				<span data-name="page-title">'+(null==(__t=pageTitle)?"":__t)+"</span>\n			</h2>\n			","plan"==name&&(__p+='\n				<span class="wiki">\n					<span class="tu-icon tu-icon-wiki icon"></span>\n					<a class="wiki-url" href="'+(null==(__t=wiki)?"":__t)+'">如何更改／取消审批设置</a>\n				</span>\n			'),__p+='\n		</div>\n		<div class="ms_tablist">\n			<ul>\n				<li state="1" ',1==state&&(__p+='class="current"'),__p+='>\n					<a data-trigger="false"  href="#more/apply?name='+(null==(__t=name)?"":__t)+'&state=1">待审批</a>\n				</li>\n				<li state="2" ',2==state&&(__p+='class="current"'),__p+='>\n					<a data-trigger="false" href="#more/apply?name='+(null==(__t=name)?"":__t)+'&state=2">已同意</a>\n				</li>\n				<li state="3" ',3==state&&(__p+='class="current"'),__p+='>\n					<a data-trigger="false" href="#more/apply?name='+(null==(__t=name)?"":__t)+'&state=3">已驳回</a>\n				</li>\n			</ul>\n		</div>\n		<div class="apply_list">\n			<div data-name="apply-betch"></div>\n			<div data-name="apply-common-list"></div>\n		</div>\n</div>\n<div class="tt_plan_detail_container"></div>';return __p},this.JST["more/archives/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='	<!-- side sub nav -->\n	<div class="_tt_layout_tabnav tu-col-3" data-tu-submenu="tu-submenu">\n	</div>\n	<!-- side sub nav end -->\n	<div class="_tt_layout_container  tu-col-13" data-name="container">\n		<div class="tt_iframe_container">\n			<div class="pagetitle">\n				<h2 class="app_pagetitle"></h2>\n			</div>\n			<div class="_tt_loading_m">努力加载中…</div>\n			<div class="tt_iframe_iframe"><iframe allowTransparency="true" src="" width="100%" height="100%" frameborder="0" scrolling="auto" id="italent_settings_iframe" wmode="transparent"> </iframe></div>\n		</div>\n	</div>';return __p},this.JST["more/archives/italent-settings-side-nav"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)"undefined"!=typeof items?(__p+='\r\n<div class="settings_avatar">\r\n	<a href="" class="avatar_sa" title=""><img class="radius_img50" src="'+(null==(__t=avatar)?"":__t)+'" width="50" height="50"></a>\r\n	<div class="name_sa">\r\n		'+(null==(__t=username)?"":__t)+'\r\n	</div>\r\n</div>\r\n<ul class="_tt_side_subnav">			\r\n	',_.each(items,function(a){__p+='\r\n		<li>\r\n			<a data-trigger="false" href="#more/archives?appid='+(null==(__t=routerData.appid)?"":__t)+"&apptype="+(null==(__t=routerData.apptype)?"":__t)+"&key="+(null==(__t=a.key)?"":__t)+'">'+(null==(__t=a.name)?"":__t)+"</a>\r\n		</li>\r\n	"}),__p+="\r\n</ul>\r\n"):__p+="\r\n	<li>加载中...</li>\r\n";return __p},this.JST["more/customizepage/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="customizepage" data-name="customize-page"></div>';return __p},this.JST["more/dailyinfo/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n	<div class="feedlist">\n	</div>\n\n';return __p},this.JST["more/due-to-remind/index-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="due_body_container">\n<div class="due_body">\n<div class="dont_hd">\n	尊敬的tita用户:\n		<p>感谢您使用企业级工作'+(null==(__t=i18n.plan_1)?"":__t)+"管理平台！</p>\n		",__p+=1==tenantAuthentication.ExpireType?'\n		<p>使用权限将在<span class="num_hd">'+(null==(__t=tenantAuthentication.Day)?"":__t)+'</span>天后<span class="date_hd">'+(null==(__t=tenantAuthentication.DeadLine)?"":__t)+"</span>到期</p>\n		":'\n		<p>使用权限已于<span class="date_hd">'+(null==(__t=tenantAuthentication.DeadLine)?"":__t)+'</span><span class="com-status2">到期</span> </p>\n		',__p+="\n</div>\n\n",1==tenantAuthentication.ExpireType&&(__p+='\n<div class="action_hd clearfix">\n	<div class="renew">\n		<a href="javascript:void(0);" link="#more/pay?package_id=F66281C3-A2E8-4429-8EE9-2830C74E4F0E&from=fromdue" class="renewal" target="_top" data-name="renewal">咨询续费</a>\n		<p>发送邮件给销售顾问尽快和您联系</p>\n	</div>\n	',2==loginUserInfo.Role&&(__p+="\n		",__p+=1==tenantAuthentication.Version?'\n		<div class="buy-tita">\n			<a href="javascript:void(0);" link="#more/pay?package_id=F66281C3-A2E8-4429-8EE9-2830C74E4F0E&from=fromdue" title="" class="buy-btn" target="_top" data-name="buy">立即购买</a>\n			<p>\n				为了不影响您的使用<br/>建议立即购买\n			</p>\n		</div>\n		':'\n		<div class="buy-tita">\n			<a href="javascript:void(0);" link="#more/pay?package_id=F66281C3-A2E8-4429-8EE9-2830C74E4F0E&from=fromdue" title="" class="buy-btn" target="_top" data-name="buy">立即续费</a>\n			<p>\n				为了不影响您的使用<br/>建议立即续费\n			</p>\n		</div>\n		',__p+="\n	"),__p+="\n	",__p+=1==tenantAuthentication.ExpireType?'\n	<div class="enter-tita">\n		<a href="javascript:void(0);"  link="#home?from=fromdue" title="" class="enter-btn" target="_top">进入tita</a>\n		<p>\n			开始'+(null==(__t=i18n.plan_1)?"":__t)+"管理\n			<br/>&nbsp;\n		</p>\n	</div>\n	":'\n	<div class="enter-tita">\n		<a href="/Account/Logout" title="" class="enter-tita" target="_top">退出登录</a>\n		<p>\n			回到tita首页\n			<br/>&nbsp;\n		</p>\n	</div>\n	',__p+="\n</div>\n"),__p+='\n<div class="tita-boy"></div>\n</div>\n\n</div>\n\n<div class="bottom_hd">\n	<span class="tip-telephone">\n		4006 503 180 \n	</span>\n	<span class="tip-email">\n		<a href="mailto:kefu@tita.com">kefu@tita.com</a>\n	</span>\n	<span class="tip-kefu" data-name="due-to-remind-keku">\n		在线客服\n	</span>\n	<span class="right-bottom">\n		<a href="'+(null==(__t=helpHost)?"":__t)+'/ProPrice/VersionPrice" title="">版本功能定价</a>　\n		<a href="'+(null==(__t=helpHost)?"":__t)+'/ProPrice/WhyChoiceUs" title="">为什么选我们？</a>\n	</span>\n</div>\n';return __p},this.JST["more/ganttinfo/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tu-container-title ">\n  <h2 data-name="workName"></h2>\n</div>\n<div data-name="gantt-info-box" class="gantt__info">\n</div>\n';return __p},this.JST["more/guide/all/content"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="box_bg">\n    <div class="mod_gb">\n        <div class="tt_guide_titaenter">\n            <ul class="intro_te">\n                <li class="why_ite"><a  href="http://blog.tita.com/?p=584" target="_blank"><span>产品介绍<br/>使用帮助</span></a></li>\n                <li class="why_ite"><a class="why_ite_s" href="http://blog.tita.com/?page_id=1207" target="_blank"><span>典型场景</span></a></li>\n                <li class="why_ite"><a href="'+(null==(__t=helpHost)?"":__t)+'/ProPrice/WhyChoiceUs" target="_blank"><span>为什么<br/>选择我们</span></a></li>\n            </ul>\n            <div class="other_te">\n                您可能需要： <a href="javascript:void(0);" data-type="manager">超管入门</a>\n                <a href="javascript:void(0);" data-type="plan">\n                    '+(null==(__t=i18n.plan_1)?"":__t)+"入门</a>\n                ",IsUsePlanDaily&&(__p+='<a href="javascript:void(0);" data-type="daily">日报入门</a>\n                    '),__p+='<a href="javascript:void(0);" data-type="group">团队入门</a> <a href="javascript:void(0);" data-name="peixun" data-type="3">申请培训服务</a>\n            </div>\n            <div class="tel_te">\n                <a class="btn_bg online_te" href="javascript:void(0);" data-name="concat" data-type="1"><b class="icon-kefu"></b> <b>我要咨询</b></a><span class="other_tte">&nbsp;&nbsp;&nbsp;&nbsp;\n            <a href="//wpa.qq.com/msgrd?v=1&uin=800013946&site=在线客服&menu=yes" target="_blank">QQ在线咨询</a>&nbsp;&nbsp;&nbsp;&nbsp;电话 400 650 3180&nbsp;&nbsp;&nbsp;&nbsp;邮箱 <a href="mailto:kefu@tita.com">kefu@tita.com </a>&nbsp;&nbsp;&nbsp;&nbsp;帮助 <a href="'+(null==(__t=helpHost)?"":__t)+'" target="_blank">'+(null==(__t=help)?"":__t)+"</a></span>\n            </div>\n        </div>\n    </div>\n</div>\n";return __p},this.JST["more/guide/daily/content"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="box_bg">\r\n			<dl class="mod_gb">\r\n				<dt>创建个人日报：</dt>\r\n				<dd>• 动态页、'+(null==(__t=i18n.plan_1)?"":__t)+'页、工作台都可快速创建日报，支持补交</dd>\r\n				<dd>• <a href="#daily" title="" target="_top" data-href="tita">查看我每天的日报</a>，回顾检查，及时修改</dd>\r\n			    <dd>• 系统帮您全面盘查日报历史，实时统计每月递交状况</dd>\r\n			</dl>\r\n\r\n			<dl class="mod_gb">\r\n				<dt>管理下属日报：</dt>\r\n				<dd>• 一键提醒下属写日报，<a href="#set?page_id=daily" title="" target="_top" data-href="tita">支持自动提醒</a>，强化管理</dd>\r\n			    <dd>• <a href="#daily?type=group" title="" target="_top" data-href="tita">查看下属日报</a>，酷炫报表完美呈现全员递交状况</dd>\r\n				<dd>• 融入绩效，领导批阅下属日报实现评价打分制</dd>\r\n			</dl>\r\n		</div>';return __p},this.JST["more/guide/group/content"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="box_bg">\n			<dl class="mod_gb">\n				<dt>团队管理，三步快速上手：</dt>\n				',__p+=IsUseSetOrg?'\n					<dd>1. 设置<a href="#set?page_id=plan">团队成员</a></dd>\n				':"\n					<dd>1. 设置团队成员</dd>\n				",__p+="\n				<dd>2. 通知大家写"+(null==(__t=i18n.plan_1)?"":__t)+"</dd>\n				<dd>3. 查看团队"+(null==(__t=i18n.plan_1)?"":__t)+'</dd>\n			</dl>\n\n			<dl class="mod_gb">\n				<dt>向上汇报，您可以：</dt>\n				<dd>• 提醒上级查看'+(null==(__t=i18n.plan_1)?"":__t)+"</dd>\n			</dl>\n		</div>";return __p},this.JST["more/guide/guide-concat"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+=isEdit?'\n<ul>\n	<li>\n		<div class="input-default" data-name="content"><textarea></textarea></div>\n	</li>\n</ul>\n':'\n<div class="apply_gc">\n	<p>需要tita工作人员<br>提供此项服务？</p>\n	<button class="btn btn-success" data-name=\'to-apply\'>立即申请</button>\n</div>\n';return __p},this.JST["more/guide/guide-sidebar"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tit_gb">导览</div>\n<ul class="nav_gb">\n	<li class="active"><a href="javascript:void(0);" title=""><span class="filter_gb">P</span>'+(null==(__t=i18n.plan_1)?"":__t)+'</a></li>\n	<li><a href="javascript:void(0);" title=""><span class="filter_gb">D</span>执行</a></li>\n	<li><a href="javascript:void(0);" title=""><span class="filter_gb">C</span>检查</a></li>\n	<li><a href="javascript:void(0);" title=""><span class="filter_gb">A</span>处理</a></li>\n</ul>';return __p},this.JST["more/guide/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n<a href="javascript:void(0);" title="" class="closed_guidebottom" data-name="closed"><span class="icon-closed "></span></a>\n<div class="guidebottom clearfix">\n	<div class="left_gb">\n		<div data-name="title" class="tit_gb"></div>\n		<div data-name="sidebar"></div>\n	</div>\n	<div class="right_gb" data-name="content">\n	</div>\n</div>\n\n';return __p},this.JST["more/guide/manager/content"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="box_bg">\n	<dl class="mod_gb">\n		<dt>超管入门，教你如何迅速添加员工：</dt>\n		',__p+=loginUser.IsUserManager?'\n			<dd>• 进入超管后台 <a href="'+(null==(__t=tmNewHost)?"":__t)+'" title="" target="_blank">员工管理页</a> 新增员工</dd>\n		':"\n			<dd>• 进入超管后台 员工管理页 新增员工</dd>\n		",__p+='\n		<!-- <dd>• 你还可以发送群邮件 <a href="/u/'+(null==(__t=loginUser.Id)?"":__t)+'/Invite/InviteMoreIndex" title="" target="_blank">一键邀请</a> ，或者复制批量邀请链接</dd> -->\n		<dd>• 你还可以发送群邮件 <a href="'+(null==(__t=url)?"":__t)+'" title="" target="_blank">一键邀请</a> ，或者复制批量邀请链接</dd>\n		<dd>• @人的时候，输入邮箱姓名，如果ta尚未注册，可以点击“邀请ta加入”的提示链接</dd>\n	</dl>\n	<!-- <dl class="mod_gb">\n		<dd>• 想直接一次性导入全公司部门员工 <a href="javascript:void(0);" data-name="skip-to-onekey">点击这里</a> </dd>\n	</dl> -->\n</div>\n\n<div class="box_bg">\n	<dl class="mod_gb">\n		<dt>教你如何设置汇报关系：</dt>\n		',__p+=loginUser.IsUserManager?'\n			<dd>• 进入超管后台员工管理页新增员工，并给每个人 <a href="'+(null==(__t=tmNewHost)?"":__t)+'" title="" target="_blank">设置上级</a></dd>\n		':"\n			<dd>• 进入超管后台员工管理页新增员工，并给每个人 设置上级</dd>\n		",__p+='\n		<!-- \n		<dd>• 如果需要个性化一点，还可以在后台员工管理页给BOSS、CEO、COO、CTO... 选择人员标识</dd>\n		<dd>• 需要开通隔级查看功能，请点击以下按钮 <a href="'+(null==(__t=helpHost)?"":__t)+'/ProIntro/BypassLeadership" title="" target="_blank">了解什么是隔级查看</a>\n			<div class="action_mag"><a href="javascript:void(0);" class="btn_bg" data-name="member-ship">申请开通隔级查看</a></div> \n		</dd>\n		<dd>• 想直接一次性导入全公司部门员工 <a href="javascript:void(0);" data-name="skip-to-onekey">点击这里</a> </dd> -->\n	</dl>\n</div>\n\n<div class="box_bg">\n	<dl class="mod_gb">\n		<dt>教你如何搭建组织架构：</dt>\n		',__p+=loginUser.IsUserManager?'\n			<dd>• 进入超管后台 <a href="'+(null==(__t=tmNewHost)?"":__t)+'" title="" target="_blank">组织管理</a> ，从最上层开始，逐个添加子部门</dd>\n			<dd>• 在后台员工管理页将人员逐个 <a href="'+(null==(__t=tmNewHost)?"":__t)+'" title="" target="_blank">移动到部门</a>，这样组织架构就基本搭建好了</dd>\n		':"\n			<dd>• 进入超管后台 组织管理，从最上层开始，逐个添加子部门</dd>\n			<dd>• 在后台员工管理页将人员逐个 移动到部门，这样组织架构就基本搭建好了</dd>\n		",__p+='\n	</dl>\n	<!-- <dl class="mod_gb">\n		<dd>• 想直接一次性导入全公司部门员工 <a href="javascript:void(0);" data-name="skip-to-onekey">点击这里</a> </dd>\n	</dl> -->\n</div>\n\n<div class="box_bg">\n	<dl class="mod_gb">\n		<dt>教你如何公司一键部署：</dt>\n		<dd>• 请直接 <a href="'+(null==(__t=helpHost)?"":__t)+'/ProIntro/ImportUser" title="">下载公司部署模板</a>，填写后拨打400 650 3180，联系tita客服帮忙导入，一步完成所有部门、员工、组织架构、汇报关系的添加\n			<div class="action_mag"><a href="javascript:void(0);" class="btn_bg" data-name="concat" data-type="2">快速申请人工导入</a></div>\n		</dd>\n	</dl>\n</div>';return __p},this.JST["more/guide/plan/content"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="box_bg">\n			<dl class="mod_gb">\n				<dt>个人制定'+(null==(__t=i18n.plan_1)?"":__t)+'：</dt>\n				<dd><a href="#plan?plan_table_id='+(null==(__t=planTableId)?"":__t)+'" title="" target="_blank">• 写本月'+(null==(__t=i18n.plan_1)?"":__t)+'</a></dd>\n				<dd><a href="#plan" title="" target="_blank">• 写本周'+(null==(__t=i18n.plan_1)?"":__t)+"</a></dd>\n				<dd>• 写今日"+(null==(__t=i18n.plan_1)?"":__t)+'（在工作台页面“今日”页签下输入）</dd>\n			</dl>\n\n			<dl class="mod_gb">\n				<dt>团队通知大家写'+(null==(__t=i18n.plan_1)?"":__t)+"：</dt>\n				<dd>\n					",__p+=IsUseSetOrg?'\n						<a href="#set?page_id=plan" title="" target="_blank">• 设置团队成员</a>\n					':"\n						• 设置团队成员\n					",__p+="\n					</dd>\n				<dd>• 通知大家写本月"+(null==(__t=i18n.plan_1)?"":__t)+"</dd>\n				<dd>• 通知大家写本周"+(null==(__t=i18n.plan_1)?"":__t)+'</dd>\n			</dl>\n		</div>\n		<div class="box_bg">\n			<dl class="mod_gb">\n				<dt>个人执行'+(null==(__t=i18n.plan_1)?"":__t)+"：</dt>\n				<dd>• 查看今日"+(null==(__t=i18n.plan_1)?"":__t)+'并遵照执行（查看工作台页面的“今日”页签） </dd>\n			</dl>\n\n			<dl class="mod_gb">\n				<dt>团队推进执行：</dt>\n				<dd>• 在自己的'+(null==(__t=i18n.plan_1)?"":__t)+"中给下属派"+(null==(__t=i18n.task_1)?"":__t)+'</dd>\n			</dl>\n		</div>\n		<div class="box_bg">\n			<dl class="mod_gb">\n				<dt>个人自检回顾：</dt>\n				<dd>• 填写今天的工作日报</dd>\n			</dl>\n\n			<dl class="mod_gb">\n				<dt>团队跟踪处理：</dt>\n				<dd>• 一键提醒大家写日报</dd>\n				<dd>• 查看团队成员本周日报（在ta的本周'+(null==(__t=i18n.plan_1)?"":__t)+'表下切换至“工作日报”页签）</dd>\n				<dd><a href="#plan/histroy" title="" target="_blank">• 查看团队'+(null==(__t=i18n.plan_1)?"":__t)+'操作历史</a></dd>\n			</dl>\n		</div>\n		<div class="box_bg">\n			<dl class="mod_gb">\n				<dt>个人跟踪处理：</dt>\n				<dd>• 在具体的'+(null==(__t=i18n.plan_1)?"":__t)+'下反馈沟通</dd>\n			</dl>\n\n			<dl class="mod_gb">\n				<dt>团队跟踪处理：</dt>\n				<dd>• 一键提醒处理已过期的事情</dd>\n			</dl>\n		</div>';return __p},this.JST["more/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<h3>Edit your view and template files.</h3>\n<p class="lead">\n	<strong>View: </strong>\n	<small>app/scripts/views/more/index-page-view.js</small>\n</p>\n<p class="lead">\n	<strong>Template: </strong>\n	<small>app/templates/more/index-page.html</small>\n</p>\n<span>click me</span>\n<label style="position:relative" >\n<img width="50" height="50" src="//st-web.tita.com/titacn/tita/common/feed/skin_01/img/logo_work.gif" alt="图片">\n	<span style="position:absolute;top:0px;left:0px">aabb</span>\n</label>';return __p},this.JST["more/indicatormsg/index-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tt_fromindicator">\n	<div class="tu-container-title __web-inspector-hide-shortcut__" data-name="title-box">\n	  	<h2 class="h2">'+(null==(__t=pagetitle)?"":__t)+'</h2>\n	</div>\n	<div class="tu-container-spacing">\n		<div class="feedlist"></div>\n	</div>\n</div>\n';return __p},this.JST["more/invite/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tu-container-title">\n    <h2 class="tu-ft_m1">邀请同事加入</h2>\n</div>\n<div class="invite-colleague__main" data-name="invite-main">\n    \n</div>';return __p},this.JST["more/invite/invite-email"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<label class="placeholder" for="'+(null==(__t=id)?"":__t)+'" data-name="placeholder">\n    输入手机号</label>\n<input type="text" id="'+(null==(__t=id)?"":__t)+'" data-name="">\n<span class="error-tip">手机号格式错误</span>\n';return __p},this.JST["more/invite/invite-empty"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="invite-colleague__empty_left tu-dib tu-mr-20">\n</div>\n<div class="invite-colleague__empty_right tu-dib tu-ml-10">\n    <p class="tu-font-h2 tu-ft_m3 tu-mb-10 invite-colleague__empty_right-tip">管理员已关闭该功能，添加同事请联系管理员</p>\n    <p class="tu-font-h5 tu-ft_m3 invite-colleague__empty_right-title">下面是您的企业管理员：</p>\n    <ul class="invite-colleague__empty_right-admins tu-cf">\n    	',_.each(managers,function(a){__p+='\n        <li class="tu-cf tu-mt-10">\n            '+(null==(__t=_.convertImage({className:"tu-fl tu-mr-5",src:a.Avatar.Medium,size:50,shape:"radius",name:a.Name,bgColor:a.Avatar.Color}))?"":__t)+'\n                <a  href="'+(null==(__t=a.HomeUrl)?"":__t)+'"  target="_black" >'+(null==(__t=a.Name)?"":__t)+"</a>\n                <p class='tu-font-a2 tu-ft_m3'>"+(null==(__t=1==a.Role?"管理员":"超管")?"":__t)+"</p>\n        </li>\n       "}),__p+="\n    </ul>\n</div>\n";return __p},this.JST["more/invite/invite-main"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="\n",isShowTip&&(__p+='\n<span class="tu-font-a1 tu-dib invite-colleague__tip"><span class="tu-dib tu-vam invite-colleague__tip_img"></span>成功邀请5名同事，合作后将奖励您188元现金红包！</span>\n'),__p+='\n<div class="invite-colleague__ways tu-pb-20">\n\n	',isOnTrial&&(__p+='\n    <div class="invite-colleague__ways_box invite-colleague__ways_url" id="url">\n        <div class="invite-colleague__ways_common-title tu-icon-share">邀请链接</div>\n        <div class="invite-colleague__ways_url-content">\n            <div class="tu-font-a2">复制以下邀请链接地址，直接发送到'+(null==(__t=workmate)?"":__t)+'个人QQ、微信或公司的QQ群、微信群。还可以发到微博里，写在签名上，迅速扩大邀请范围</div>\n            <div class="input-default invite-colleague__ways_url-content-url">\n                <div class="input" type="text" data-name="invite-url">\n                    '+(null==(__t=userHostEmail)?"":__t)+'\n                </div>\n            </div>\n            <button type="button" class="tu-btn tu-btn-larger tu-btn-sure" data-clipboard-target="[data-name=invite-url]" data-name="copy">复制</button>\n        </div>\n    </div>\n    '),__p+="\n    ",__p+='\n    <div class="invite-colleague__ways_box invite-colleague__ways_peremail" id="mail">\n        <div class="invite-colleague__ways_common-title tu-icon-email">批量发送短信到个人</div>\n        <div class="invite-colleague__ways_peremail-content tu-cf tu-pt-20" data-name="peremails">\n            <div class="invite-colleague__ways_peremail-content-box tu-fl">\n                <div data-name="invite-mails-container">\n                </div>\n                <a class="tu-icon-add invite-colleague__ways_peremail-content-addemails tu-bg_m6 tu-ft_m2" data-name="add-more-emails">\n                    添加更多手机号\n                </a>\n                <button data-name="batch-invitation" type="button" class="tu-btn tu-btn-small tu-btn-sure tu-db tu-mt-10">邀请他</button>\n            </div>\n            <div class="invite-colleague__ways_peremail-content-tip tu-fr tu-bg_m6 tu-pt-10 tu-pl-10 tu-pr-10" data-name="peremails-right">\n                <span class="tu-font-a2 tu-ft_m2">\n                    对方都将收到这样一条短信\n                </span>\n                <div class="tu-ft_m3 tu-font-a2">\n                    xxx 邀请您加入Tita工作平台使用”xxx“专属的Tita。 <br/>快速加入：'+(null==(__t=userHostEmail)?"":__t)+"\n                </div>\n            </div>\n        </div>\n        ",0!==userInviteRecordInfo.length&&(__p+='\n        <div class="invite-colleague__ways_peremail-hadinvited tu-pt-10 tu-mt-10">\n            <span class="tu-font-h4 tu-ft_m2">您已邀请但尚未加入的'+(null==(__t=workmate)?"":__t)+'如下：</span>\n            <div data-name="no-accept" class="tu-pt-15">\n               <ul>\n               ',_.each(userInviteRecordInfo,function(a){__p+='\n               	<li>\n                    <span class="status tu-pt-5 tu-icon-warning">未加入</span>\n                    <span class="infos">\n                    <p class=\'email\'>'+(null==(__t=a.invitedEmail)?"":__t)+"</p>\n                    <p class='tu-font-a2 tu-ft_m2 time'>邀请时间："+(null==(__t=a.joinTime)?"":__t)+'</p>\n                    </span>\n                    <span class="buttons">\n                     <button type="button" data-email="'+(null==(__t=a.invitedEmail)?"":__t)+'" data-name="reinvite" class="tu-btn tu-btn-small tu-btn-sure tu-mr-5">再次邀请</button>\n                      <button type="button" class="tu-btn tu-btn-small tu-btn-sure" data-email="'+(null==(__t=a.invitedEmail)?"":__t)+'" data-name="remove">移除该名单</button>\n                	</span>\n                </li>\n				'}),__p+="\n               </ul>\n            </div>\n        </div>\n        "),__p+="\n    </div>\n</div>\n";return __p},this.JST["more/invite/invite-no-accept"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+="";return __p},this.JST["more/messages/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n	<div class="tu-col-2" data-tu-submenu="tu-submenu">\n		<div class="tu-col-container" data-name="tt-sidebar"></div>\n	</div>\n	<div class=" tu-col-14" data-name="message-main">\n		\n	</div>\n\n\n\n';return __p},this.JST["more/messages/sidebar-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<a  data-trigger="false"  class="worknavlist_wlsn" href="#more/messages?messageType='+(null==(__t=messageType)?"":__t)+"&tabAppId="+(null==(__t=appId)?"":__t)+"&tabAppType="+(null==(__t=appType)?"":__t)+'"  data-name="router">\n	'+__e(appName)+'\n</a>\n<span class="unread red-remind-num ',__p+=total?"tu-dib":"tu-dn",__p+='" data-name="head-to-do-indicator">'+(null==(__t=total>99?"99+":total)?"":__t)+"</span>";return __p},this.JST["more/messages/sidebar"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='								\n<ul class="tu-nav-sub tu-pt-20">\n	<li class="li_parent item-mn"> \n		<a data-trigger="false" href="#more/messages?messageType='+(null==(__t=messageType)?"":__t)+'&tabAppId=-1&tabAppType=-1" class="title-mn '+(null==(__t=-1==tabAppId?"active":"")?"":__t)+'" data-name="router" data-appid="-1">'+(null==(__t=currentPageTitle)?"":__t)+'</a>\n		<ul class="sub-menu">\n		\n		</ul>\n	</li>\n</ul>';return __p},this.JST["more/pay/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tt_buyingprocess"></div>\n';return __p},this.JST["more/pay/order/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tt_payorderdetail"></div>\n';return __p},this.JST["more/pay/order/pay-order-pop"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n<div class="tit_pp">登录网上银行支付</div>\n<dl class="contain_pp">\n	<dt>请在新窗口完成支付后选择：</dt>\n	<dd class="succ_pp">\n		<span class="icon-radius-success"></span><strong>支付成功</strong>　　<span>您可以选择：<a href="'+(null==(__t=tmUrl)?"":__t)+'" target="_blank">到超管后台查看购买记录</a></span>\n	</dd>\n	<dd class="error_pp">\n		<span class="icon-radius-error"></span><strong>支付失败</strong>　　<span>建议您选择：<a href="javascript:void(0);" title="" data-name="other-pay">其他支付方式</a></span>\n	</dd>\n</dl>\n';return __p},this.JST["more/pay/order/pay-order"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="tt_orderdetailwrap">\n<div class="tt_orderdetail">\n	<div class="tit_od">订单详情　('+(null==(__t=Id)?"":__t)+')</div>\n\n	<div class="cont_od">\n		<ul class="orderlist">\n			<li>企业名称：'+(null==(__t=TenantName)?"":__t)+"</li>\n			<li>时间："+(null==(__t=EffectiveTimeDescription)?"":__t)+"</li>\n			",__p+=isShowPayWay?'\n			<li class="mobile_ol"><span>手机号（必填）：</span>\n				<div class="input-default num_ol" data-name="mobile">\n					<input type="text" value="">\n				</div>\n				<div class="tip_ol">支付成功后将给该号码发送短信确认</div>\n			</li>\n			':"\n			<li>手机号："+(null==(__t=Mobile)?"":__t)+"</li>\n			",__p+='\n			<li class="product_list">\n				<div>产品清单</div>\n				<table>\n					<tr> \n						<th class="col_01">产品</th>\n						<th class="col_02">描述</th>\n						<th class="col_03">单价</th>\n						<th class="col_04">数量</th>\n						<th class="col_05">金额</th>\n					</tr>\n					',_.each(PayOrderItemModels,function(a){__p+="\n					<tr ",1==a.ProductType&&(__p+='class="original_pl"'),__p+='> \n						<td class="name_pl">'+(null==(__t=a.ProductName)?"":__t)+'</td>\n						<td class="intro_pl">'+(null==(__t=a.Description)?"":__t)+'</td>\n						<td class="price_pl">'+(null==(__t=a.BuyProductPrice)?"":__t)+'</td>\n						<td class="total_pl">'+(null==(__t=a.ProductNum)?"":__t)+'</td>\n						<td class="money_pl">'+(null==(__t=a.TotalPrice)?"":__t)+"</td>\n					</tr>\n					"}),__p+='\n				</table>\n				<div class="totaldeal_pl">\n					应付总额：<span class="total_pl">'+(null==(__t=TotalPrice)?"":__t)+"</span>元\n					",EconomizePrice&&EconomizePrice>0&&(__p+="\n					<p>（已帮您节省"+(null==(__t=EconomizePrice)?"":__t)+"元）</p>\n					"),__p+="\n				</div>\n			</li>\n		</ul>\n		",isShowPayWay&&(__p+='\n		<div class="paybank">\n			<div class="tit_pb">支付方式</div>\n			<div class="line_pb">\n				<div class="left_pb">线上支付</div>\n				<ul class="list_pb">\n					<li><input type="radio" name="bank" id="'+(null==(__t=AliModel.PayCode)?"":__t)+'" title="'+(null==(__t=AliModel.PayName)?"":__t)+'" checked="checked" data-name="'+(null==(__t=AliModel.PayCode)?"":__t)+'" /> <label for="'+(null==(__t=AliModel.PayCode)?"":__t)+'">支付宝付款</label></li>\n					<li><input type="radio" name="bank_bank" data-name="bank" id="bankpay" /><label for="bankpay">网银支付</label></li>\n				</ul>\n				\n			</div>\n			<ul class="banklist_pb" data-name="bankList">\n				',_.each(BankModels,function(a,b){__p+='\n				<li>\n					<input type="radio" name="bank" id="'+(null==(__t=a.PayCode)?"":__t)+'" title="'+(null==(__t=a.PayName)?"":__t)+'" />\n					<label for="'+(null==(__t=a.PayCode)?"":__t)+'">\n						<span class="sparkling_pb">'+(null==(__t=a.PayName)?"":__t)+'</span>\n						<span class="bank_pb bank-'+(null==(__t=a.PayCode)?"":__t)+'" title="'+(null==(__t=a.PayName)?"":__t)+'"></span>\n					</label>\n				</li>\n				'}),__p+='\n			</ul>\n			<div class="gopay_pb">\n				<!-- <a href="javascript:void(0);" title="" class="checkbox" data-name="is-need-invoice"><span class="ico"></span></a>\n				<span>索取发票合同（客服将尽快联系您）</span> -->\n				<a class="btn btn-warning" href="javascript:void(0);" target="_blank" data-name="gopay">去支付</a>\n				\n			</div>\n			<div class="unlinepay">\n				<strong>线下支付</strong>  <a href="javascript:void(0)" data-name="concat-service">客服协助付款</a>\n			</div>\n		</div>\n		'),__p+="\n	</div>\n</div>\n</div>";return __p},this.JST["more/pay/pay-buy-layout"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)1!=order_type&&(__p+='\n<div class="tit_bp">购买流程</div>\n<div class="chart_bp">\n	<ul>\n		',__p+="renewal"==typeName||"message"==typeName?'\n			<li><span class="lv_bp">1</span><span class="lvt_bp">购买</span></li>\n			<li><span class="lv_bp">2</span><span class="lvt_bp">在线支付</span></li>\n			<li><span class="lv_bp">3</span><span class="lvt_bp">完成</span></li>\n		':'\n			<li><span class="lv_bp">1</span><span class="lvt_bp">购买</span></li>\n			<li><span class="lv_bp">2</span><span class="lvt_bp">在线支付</span></li>\n			<li><span class="lv_bp">3</span><span class="lvt_bp">快递发票</span></li>\n			<li><span class="lv_bp">4</span><span class="lvt_bp">签署合同</span></li>\n			<li><span class="lv_bp">5</span><span class="lvt_bp">完成</span></li>\n		',__p+="\n		\n	</ul>\n</div>\n"),__p+="\n\n",typeName||1==order_type||(__p+='\n	<div class="tit_bp">产品价格</div>\n	<div class="price_bp">\n		<dl class="standard_bp">\n			<dt>企业版</dt>\n			<dd>年费: <span>400</span>元 /人 <br/>(40元 /人/月)</dd>\n		</dl>\n		<dl class="custom_bp">\n			<dt>定制版</dt>\n			<dd>'+(null==(__t=advisorInfo)?"":__t)+"<br/>"+(null==(__t=advisor)?"":__t)+'</dd>\n		</dl>\n	</div>\n	<div class="rule tu-font-a2">9800元起售，超过20人，按每人每年400元计算;大于20人的每年计算规则：9800+（购买人数-20）*400</div>\n'),__p+="\n",1!=order_type&&(__p+='\n	<div class="tit_bp">企业购买</div>\n'),__p+='\n\n<div data-name="enterprise-pay"></div>';return __p},this.JST["more/pay/pay-buy"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<div class="denominated_bp">\n	',IsInProbation&&(__p+='\n	<div class="preferentialinfo_bp"><span>系统检测到您还在试用期，现在购买您将享受总价8.5折优惠</span></div>\n	'),__p+="\n	\n	",__p+=1==type?'\n	<ul class="buyform_bp">\n		<li>\n			<div class="left_bbp">\n				<strong>购买类型：</strong>\n			</div>\n			<div class="right_bbp">\n				 '+(null==(__t=OrderTypeDescription)?"":__t)+'\n			</div>\n		</li>\n		<li>\n			<div class="left_bbp">\n				<strong>您企业使用权限剩余<span class="nump_bp">'+(null==(__t=DaysLeft)?"":__t)+'</span>个月</strong> \n			</div>\n		</li>\n		<li>\n			<div class="left_bbp">\n				<strong>生效时间：</strong>\n			</div>\n			<div class="right_bbp">\n				'+(null==(__t=EffectiveStartTime)?"":__t)+" — "+(null==(__t=EffectiveEndTime)?"":__t)+'\n			</div>\n		</li>\n		\n		<li class="quota_bp">\n			<div class="tu-cf">\n				<div class="left_bbp">\n					<strong>增加名额：</strong>\n				</div>\n				<div class="right_bbp">\n					<div class="input_minger  tu-fl" data-name="person-num">\n						<input type="text" value="" />\n					</div>\n					<span class="buy-info">&nbsp;&nbsp;(40元/人/月)</span>\n				</div>\n				\n			</div>\n			<div class="buy-warn tu-font-h5 tu-mt-5">购买须知：购买时间限定为企业当前剩余时间（按月收费，不足整月也按整月收费）</div>\n		</li>\n		<li>\n			<div class="left_bbp">\n				<strong>支付价格：</strong>\n				\n			</div>\n			<div class="right_bbp">\n				<span class="zfjg-price-ico">￥</span><span class="zfjg-price" data-name="gross-price">0.00 </span> \n				<span class="buy-info">&nbsp;&nbsp;(40 × <span data-name="person-total">0</span> × '+(null==(__t=DaysLeft)?"":__t)+')</span>\n			</div>\n		</li>\n	</ul>\n	<div data-name="you-hui-quan-box"></div>\n	<div class="pay-total tu-cf">\n		<span>应付总额：</span><span class="price">￥<span data-name="total-price">0.00</span></span>\n		<button class="submit-order" data-name="submit">提交订单</button>\n	</div>\n	\n	':'\n	<ul class="buyform_bp">\n		<li>\n			<div class="left_bbp">\n				<strong>购买类型：</strong>\n			</div>\n			<div class="right_bbp">\n				 '+(null==(__t=OrderTypeDescription)?"":__t)+'\n			</div>\n		</li>\n		<li>\n			<div class="left_bbp">\n				<strong>企业在职人数：</strong> \n			</div>\n			<div class="right_bbp">\n				<span class="nump_bp">'+(null==(__t=OnJobUserNum)?"":__t)+'</span>\n			</div>\n		</li>\n		<li class="quota_bp">\n			<div class="left_bbp">\n				<strong>购买名额：</strong>\n			</div>\n			<div class="right_bbp">\n				<div class="input_qbp input-default" data-name="person-num">\n					<label>≥ 在职人数</label>\n					<input type="text" value="" />\n				</div>\n				<div class="errortip_qbp">不能小于在职人数</div>\n			</div>\n		</li>\n		<li>\n			<div class="left_bbp">\n				<strong>生效时间：</strong>\n			</div>\n			<div class="right_bbp">\n				'+(null==(__t=EffectiveStartTime)?"":__t)+" - "+(null==(__t=EffectiveEndTime)?"":__t)+'\n			</div>\n		</li>\n	</ul>\n	<div class="action_bp">\n		<button class="btn btn-warning" data-name="submit">提交</button>\n	</div>\n	\n	',
__p+="\n		\n	\n	\n</div>";return __p},this.JST["more/pay/pay-new-buy"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="renewal"==name?'\n	<div class="denominated_bp">\n		<ul class="buyform_bp">\n			<li>\n				<div class="left_bbp">\n					<strong>购买类型：</strong>\n				</div>\n				<div class="right_bbp">'+(null==(__t=Description)?"":__t)+'</div>\n			</li>\n			<li class="quota_bp">\n				<div class="left_bbp">\n					<strong>充值金额：</strong>\n				</div>\n				<div class="right_bbp">\n					<div class="input_qbp input-default" data-name="ren-amount">\n						<input type="text" value=""/>\n					</div>\n				</div>\n			</li>\n		</ul>\n		<div class="action_bp">\n			<button class="btn btn-warning" data-name="submit">提交订单</button>\n		</div>\n	</div>\n	<!-- <div class="recharge">\n		<div class="paytype">\n			<span class="tag">购买类型:</span>\n			<span class="type">'+(null==(__t=Description)?"":__t)+'</span>\n		</div>\n		<div class="choose">\n			<div>\n				<span class="tag">充值金额:</span>\n				<input type="text" class="ren-amount" data-name="ren-amount" />\n				<span class="unit">元</span>\n			</div>\n			<div class="errortip_qbp">金额格式不对，请重新填写！</div>\n		</div>\n		<button class="submit-btn" data-name="submit">提交</button>\n	</div> -->\n':'\n	<div class="denominated_bp">\n		<ul class="buyform_bp">\n			<li>\n				<div class="left_bbp">\n					<strong>购买类型：</strong>\n				</div>\n				<div class="right_bbp">'+(null==(__t=Description)?"":__t)+'</div>\n			</li>\n			<li>\n				<div class="left_bbp">\n					<strong>充值金额：</strong>\n				</div>\n				<div class="right_bbp">\n					<span class="item active" data-name="choose-price">100元</span>\n					<span class="item" data-name="choose-price">200元</span>\n					<span class="item" data-name="choose-price">500元</span>\n					<span class="item" data-name="choose-price">1000元</span>\n				</div>\n			</li>\n			<li>\n				<div class="left_bbp">\n					<strong>短信数量：</strong>\n				</div>\n				<div class="right_bbp">\n					<span class="item" data-name="msg-amount">1200条</span>\n					<span class="des item" data-name="average">(折合0.083元/条)</span>\n				</div>\n			</li>\n		</ul>\n		<div class="action_bp">\n			<button class="btn btn-warning" data-name="submit">提交</button>\n		</div>\n	</div>\n	<!-- <div class="recharge">\n		<div class="paytype">\n			<span class="tag">购买类型:</span>\n			<span class="type">'+(null==(__t=Description)?"":__t)+'</span>\n		</div>\n		<div class="choose">\n			<span class="tag">充值金额:</span>\n			<span class="item active" data-name="choose-price">100元</span>\n			<span class="item" data-name="choose-price">200元</span>\n			<span class="item" data-name="choose-price">500元</span>\n			<span class="item" data-name="choose-price">1000元</span>\n		</div>\n		<div class="amount">\n			<span class="tag item">短信数量:</span>\n			<span class="num item" data-name="msg-amount">1200条</span>\n			<span class="des item" data-name="average">(折合0.833元/条)</span>\n		</div>\n		<button class="submit-btn" data-name="submit">提交</button>\n	</div> -->\n',__p+="\n\n\n\n";return __p},this.JST["more/pay/you-hui-quan"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<br/>\n<div class="follow-tita tu-font-h5 tu-cf">\n	<div>如若支付过程中到问题，您可以通过以下方式联系我们,<br/>1.扫描右侧二级码并关注公众号<br/>2.联系您的专属咨询顾问：小冬（185 1139 1191）</div>\n	<div class="gongzonghao tu-fr"></div>\n</div>\n<div class="pay-youhui tu-font-h5 tu-cf">\n	',__p+=0==youHuiQuan.length?'\n	<input type="checkbox" name="" id="" disabled="disabled">\n	':'\n		<input type="checkbox" name="" id="" checked="checked" disabled="disabled">\n	',__p+="\n	使用优惠券\n	",0==youHuiQuan.length?__p+='\n	<select name="" id="" class="drop-list drop-list-disable" disabled="disabled">\n		<option selected="selected">无优惠券可用</option>\n	</select>\n	':(__p+='\n	<select name="" id="" class="drop-list" data-name="drop-list">\n		',_.each(youHuiQuan,function(a){__p+="\n			<option  ",a.active&&(__p+="selected=selected"),__p+=' value="'+(null==(__t=a.id)?"":__t)+'" min="'+(null==(__t=a.min)?"":__t)+'" max="'+(null==(__t=a.max)?"":__t)+'">省'+(null==(__t=Math.abs(a.price))?"":__t)+"元：满"+(null==(__t=a.min)?"":__t)+"-"+(null==(__t=Math.abs(a.price))?"":__t)+"</option>\n		"}),__p+="\n	</select>\n	"),__p+="\n	&nbsp;\n	",__p+=0==youHuiQuan.length?'\n	\n	<span  class="sale">￥0</span>\n	':'\n	<span class="sale tu-tal">-￥'+(null==(__t=Math.abs(activeYHJ.price))?"":__t)+"</span>\n	",__p+="\n\n</div>";return __p},this.JST["more/platformcustomize/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="platform_main platform_cus_wrapper"></div>';return __p},this.JST["more/platformcustomize/platform-hide-li"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="hide-div">\r\n	<span class="selected-status"></span>\r\n	<div class="platform-img" style="background-color:'+(null==(__t=data.background)?"":__t)+';max-width:105px;max-height:105px;line-height:105px;">\r\n		<div class="'+(null==(__t=data.icon)?"":__t)+'"></div>\r\n	</div>\r\n	<span style="font-size:15px;">'+(null==(__t=Name)?"":__t)+'</span>\r\n	<input type="hidden" name="appid" value="'+(null==(__t=AppId)?"":__t)+'">\r\n<div>';return __p},this.JST["more/platformcustomize/platform-hide-list"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<ul id="hide-ul"></ul>\r\n<button class="add-btn">\r\n	添加\r\n	<div class="callback-info">\r\n		<div class="info">请选择要添加的系统链接!</div>\r\n	</div>\r\n</button>\r\n';return __p},this.JST["more/platformcustomize/platform-layout"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="platformCus-body">\n	<div id="title"></div>\n	<div class="platformCus-show">\n		<div class="icon-big-back-img" style="position: relative;z-index:1;"></div>\n		<div id="data" class="platform-showData"></div>\n		<div class=\'platformCus-save\'>\n			<button class="save-btn">保 存</button>\n			<span class="callback-save-info"></span>\n		</div>\n		<div class="hide-box">\n			<div class="hide-background">\n				<div class="sysLinkNav">\n					<div class="sysLinkNav-font">添加系统链接</div>\n					<div class="sysLinkNav-close">\n						<div class=\'close-btn\' title="关闭">X</div>\n					</div>\n				</div>\n				<div class="hide-main"></div>\n			</div>\n		<div>\n	</div>\n</div>\n';return __p},this.JST["more/platformcustomize/platform-li"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)100!=AppId&&(__p+="\n	<div class='link-delete' flag=\""+(null==(__t=AppId)?"":__t)+"\">\n		<span class='delete'>删除</span>  <span class='cancle'>取消</span>\n	</div>\n\n	<div class=\"platform-img\" style=\"background-color:"+(null==(__t=data.background)?"":__t)+';">\n		<div class="'+(null==(__t=data.icon)?"":__t)+'"></div>\n	</div>\n\n	<div class="platform-font">\n		<font>'+(null==(__t=Name)?"":__t)+'</font>\n		<input class="editing edit-Name input-foucs" type="text" value=\''+(null==(__t=Name)?"":__t)+'\' placeholder="请输入名称">\n		<input class="editing edit-Href input-foucs" type="text" value=\''+(null==(__t=Href)?"":__t)+'\' placeholder="请输入地址">\n	</div>\n'),__p+="\n";return __p},this.JST["more/platformcustomize/platform-list"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<ul id="show-data" class="platform-ul  clearfix" style="clear:both">\n\n</ul>\n<li class="platform-li">\n	<div class="platform-add">\n		<div class="platform-add-font">\n			<span class=\'sys-link\'>+</span>\n		</div>\n	</div>\n	<div class="platform-font">\n		<font class="platform-cursor-add">\n			添加系统链接\n		</font>\n	</div>\n<li>\n';return __p},this.JST["more/platformcustomize/platform-title"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="platform-title-up">\n	<input class=\'text-edit\' type="text" value=\''+(null==(__t=title)?"":__t)+'\' placeholder="请输入标题" flag=\'title\'>\n</div>\n\n<div class="platform-title-hr"></div>\n\n<div class="platform-title-down">\n	<input class=\'text-edit\' type="text" value=\''+(null==(__t=description)?"":__t)+"' placeholder=\"请输入描述\" flag='description'>\n</div>\n";return __p},this.JST["more/shareinfo/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="tt_shareinfo">\n\n	<div class="tu-container-title __web-inspector-hide-shortcut__" data-name="title-box">\n	  	<h2 class="h2">查看详情</h2>\n	</div>\n	<div class="tu-container-spacing">\n		<div class="feedlist"></div>\n	</div>\n\n</div>\n';return __p},this.JST["more/taskinfo/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='\n	<div data-name="task-info-box">\n	</div>\n';return __p},this.JST["more/tasks/index-page"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="tt_messagepage">\n	<div class="pagetitle">\n		<h2 class="ts_pagetitle">\n			<span class="ico_pt"></span>\n			<span>我的'+(null==(__t=i18n.task_1)?"":__t)+'</span>\n		</h2>\n	</div>\n	<div class="ms_tablist">\n	</div>\n	<div class="meslist">\n		<div class="_tt_loading_m">努力加载中…</div>\n	</div>\n	<div data-name="pagelist">\n	</div>\n</div>\n';return __p},this.JST["more/tasks/task-compsite"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="task_list_container">\n	<ul data-name="task-list"></ul>\n</div>\n\n		\n\n';return __p},this.JST["more/tasks/task-list-compent"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="task_finish_time">'+(null==(__t=Month)?"":__t)+"月"+(null==(__t=Day)?"":__t)+'日</div>\n<div class="list_detail" data-name="task-list"></div>';return __p},this.JST["more/tasks/task-list"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div  class="task_item_left">\n	<a href="javascript:void(0);" class="task_status_icon tt_actionstatus_'+(null==(__t=Status)?"":__t)+(null==(__t=IsEditStatus?"":"_disable")?"":__t)+'" original-title="'+(null==(__t=StatusTip)?"":__t)+'" data-handler="'+(null==(__t=IsEditStatus?"1":"")?"":__t)+'"><span class="ico"></span></a>\n\n	<a href="'+(null==(__t=Talent.Context.getUserUrl(PrincipalUser.UserId))?"":__t)+'" target="_blank">\n		'+(null==(__t=_.convertImage({src:PrincipalUser.Avatar.Small,size:30,name:PrincipalUser.Name,bgColor:PrincipalUser.Avatar.Color}))?"":__t)+"\n	</a>\n	",__p+=2==Status?'\n		<a href="/u/'+(null==(__t=PrincipalUser.UserId)?"":__t)+"/Home#more/taskinfo?id="+(null==(__t=FeedId)?"":__t)+'" title="'+(null==(__t=TaskName)?"":__t)+'" target="_blank" class="task_name task_name_done">'+(null==(__t=TaskName)?"":__t)+"</a>		\n	":'\n		<a href="/u/'+(null==(__t=PrincipalUser.UserId)?"":__t)+"/Home#more/taskinfo?id="+(null==(__t=FeedId)?"":__t)+'" title="'+(null==(__t=TaskName)?"":__t)+'" target="_blank" class="task_name">'+(null==(__t=TaskName)?"":__t)+"</a>\n	",__p+='\n</div> \n<div  class="task_item_right">\n\n	',CycleId>0&&(__p+='\n		<span class="icon-task-cycle"  data-handler="ShowTitle"></span>\n	'),__p+="\n\n	",__p+=""==Deadline||0!=IsDeadLine||"2"==Status&&2==Status?""==Deadline||1!=IsDeadLine||"2"==Status&&2==Status?'\n		<span class="item_time_empty"></span>\n	':'\n		<span class="task_time item_time_deadline">'+(null==(__t=Deadline)?"":__t)+"</span>\n	":'\n		<span class="task_time">'+(null==(__t=Deadline)?"":__t)+"</span>\n	",__p+="\n</div>\n\n";return __p},this.JST["more/tasks/task-tablist"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="ms_tablist">\n	<ul>\n		<li class="all current" data-type="1">\n			<a data-trigger="false" href="#more/tasks?relation=1">我负责的</a>\n		</li>\n		<li data-type="3">\n			<a data-trigger="false" href="#more/tasks?relation=3">给别人的</a>\n		</li>\n		<li data-type="2">\n			<a data-trigger="false" href="#more/tasks?relation=2">我参与的</a>\n		</li>\n		<li data-type="0">\n			<a data-trigger="false" href="#more/tasks?relation=0">已完成的</a>\n		</li>\n		<li data-type="4">\n			<a data-trigger="false" href="#more/tasks?relation=4">我代发的</a>\n		</li>\n		<li data-type="6">\n			<a data-trigger="false" href="#more/tasks?relation=6">我关注的</a>\n		</li>\n	</ul>\n</div>';return __p},this.JST}),define("views/more/guide/guide-sidebar-view",["talent","templates/more"],function(a,b){var c=a.ItemView.extend({template:a._.template('<li><a href="javascript:void(0);" title=""><%=name%></li>')});return a.CollectionView.extend({tagName:"ul",template:a._.template("<ul/>"),className:"nav_gb",itemView:c,itemViewContainer:"ul",templateHelpers:function(){return{i18n:this.i18n}},initialize:function(){this.i18n=a.Context.getI18n(),this.model.set("index",0)},onRender:function(){var a=this.model.get("index");this.$el.find("li").eq(a).addClass("active")},events:function(){var a={};return a["click li"]="clickLiItem",a},clickLiItem:function(b){var c=a.$(b.currentTarget),d=this.$el.find("li").index(c);this.model.set("index",d),this.$el.find("li").removeClass("active"),c.addClass("active"),this.trigger("click:navItem",d)}})}),define("views/more/guide/guide-title-view",["talent","templates/more"],function(a,b){return a.ItemView.extend({template:a._.template('<%if(showBack){%><a href="javascript:void(0);" class="back_tgb" data-name="back">&lt;tita入门 </a><%}%><span><%=title%></span>'),title:"超管入门",showBack:!0,initialize:function(){this.model.set({title:this.title,showBack:this.showBack})},events:function(){var a={};return a["click a[data-name=back]"]="_clickGobackHandler",a},_clickGobackHandler:function(){this.model.set("index",0,{silent:!0}),this.model.set("type","all")}})}),define("views/more/guide/guide-content-view",["talent","templates/more"],function(a,b){return a.ItemView.extend({className:"tt_guide_manager",template:b["more/guide/manager/content"],itemBox:".box_bg",onRender:function(){var a=this.model.get("index"),b=this.$el.find(this.itemBox);b.eq(a).show()},showIndexBox:function(b){var c=a.$(this.itemBox);c.hide();var d=a.$(c.eq(b));d.show()}})}),define("tdialog",["talent","templates/common"],function(a,b){var c=a.ItemView.extend({template:b["common/plugins/tdialog/dialog"],defaults:{id:"tdialog",type:"tipsy",arrowPos:"top",sure:!1,sureText:"确定",sureLink:"",cancel:!1,cancelText:"取消",arrow:1,minHeight:"50",minWidth:"50",fixed:!1,zindex:1030,quirkTheme:!1,showClosed:!1,displayType:"global"},tagName:"div",className:"_tt_dialog",ui:{sure:".sure_dialog",sureText:".sure_dialog>span",closed:".closed_dialog"},events:{"click .sure_dialog":"onSure","click .cancel_dialog":"onCancel","click .closed_dialog":"onCancel"},initialize:function(){this.settings=a._.extend({},this.defaults,this.options),this.$el.attr("id",this.options.id),this.templateHelpers={settings:this.settings},this._init()},_init:function(){this.$el.css({"min-width":this.settings.minWidth,"min-height":this.settings.minHeight,"z-index":this.settings.zindex,position:this.settings.fixed?"fixed":"absolute"})},onSure:function(){$("#tdialog_mask").remove(),"function"==typeof this.options.sure&&(void 0!=this.activeNode&&null!=this.activeNode?this.options.sure(this.activeNode):this.options.sure())},onCancel:function(){this.trigger("hide"),$("#tdialog_mask").remove(),this.$el.hide(),"function"==typeof this.options.cancel&&this.options.cancel()},show:function(b,c,d){var e={className:"none",autoHide:!1,pos:"bottom",x:0,y:0,topBias:0,leftBias:0,arrowBias:0,zindex:1030,autoFrames:!1,arrow:!1},f=a._.extend({},e,d);if("tipsy"==this.settings.type){var g=a.$('<div class="tipsy_dialog '+f.className+'_dialog"><b class="ico"></b><span class="content"></span></div>');g.append(c),this.$el.find(".content_dialog").empty().append(g)}else this.$el.find(".content_dialog").empty().append(c);this.settings.quirkTheme&&(this.$el.find(".sure_dialog").removeClass("btn-sure").addClass("btn-cancel"),this.$el.find(".cancel_dialog").removeClass("btn-cancel").addClass("btn-sure")),b?this._showHere(b,f):($("body").append('<div class="mask" id="tdialog_mask"></div'),this.$el.css({top:"300px",left:"50%","margin-left":"-"+this.$el.width()/2})),this._autoHide(f),this.$el.show(),this.$el.find(".content_dialog").off("click"),this.$el.off("mousedown.tdialog-view"),this.$el.on("mousedown.tdialog-view",function(a){a.stopPropagation()})},hide:function(){this.$el.hide(),$("#tdialog_mask").remove()},onRender:function(){var a=this;this.$el.on("click",function(b){a.trigger("click"),b.stopPropagation()})},_autoHide:function(a){var b=this;1==a.autoHide&&setTimeout(function(){$("#tdialog_mask").remove(),b.$el.hide(),b.trigger("hide")},1e3),"number"==typeof a.autoHide&&setTimeout(function(){$("#tdialog_mask").remove(),b.$el.hide(),b.trigger("hide")},a.autoHide)},_showHere:function(b,c){a.Context.setPosition(b,this.$el,c)},onClose:function(){this.$el.off("mousedown.tdialog-view"),this.$el.find(".content_dialog").off("click"),a.$(document).off("click._tt_dialog"+this.cid),this.$el.off("mousedown.tdialog-view")},changeSubmitBtn:function(a){1==a?(this.ui.sureText.text("确定"),this.ui.sure.removeClass("success_submint").removeClass("loading_submint")):2==a?(this.ui.sureText.text(""),this.ui.sure.removeClass("success_submint"),this.ui.sure.addClass("loading_submint")):(this.ui.sureText.text(""),this.ui.sure.removeClass("loading_submint"),this.ui.sure.addClass("success_submint"))}});return c}),define("views/more/guide/guide-concat-view",["talent","templates/more","tdialog"],function(a,b,c){return a.ItemView.extend({className:"tt_guide_concat",template:b["more/guide/guide-concat"],ui:{contentWrap:"div[data-name=content]",content:"div[data-name=content] textarea",toApplay:"button[data-name=to-apply]"},events:function(){var a={};return a["focus "+this.ui.content]="_telFocusHanderl",a["blur "+this.ui.content]="_telBlurHanderl",a["click "+this.ui.toApplay]="_toApplayHandler",a},initialize:function(){this.defaultValue="输入咨询内容和联系电话"},onRender:function(){this.ui.content.val(this.defaultValue)},onClose:function(){this.dialogView&&this.dialogView.close(),this.tipDialog&&this.tipDialog.close()},_telFocusHanderl:function(b){var c=(a.$(b.currentTarget),a.$.trim(this.ui.content.val()));c==this.defaultValue&&this.ui.content.val(""),this.ui.contentWrap.addClass("input-focus").removeClass("input-error")},_telBlurHanderl:function(b){var c=(a.$(b.currentTarget),a.$.trim(this.ui.content.val()));this.ui.contentWrap.removeClass("input-focus"),""!=c?this.ui.contentWrap.addClass("input-blur"):(this.ui.content.val(this.defaultValue),this.ui.contentWrap.addClass("input-error"))},_toApplayHandler:function(b){var c=(a.$(b.currentTarget),this.model.get("type"));this._submitData(c),this.dialogView&&this.dialogView.hide()},showDialog:function(b,d){var e=this;this.node=b;var f={pos:"topCenter",autoFrames:"body",isEdit:!1},d=a._.extend({arrow:!1,autoHide:!1},f,d);this.model.set({isEdit:d.isEdit,type:d.type});var g=this.render().el;this.dialogView=new c({type:"defaults",showClosed:!0,sureText:"请联系我",zindex:1001,sure:d.isEdit?function(){setTimeout(function(){e._submitData(d.type)},300)}:!1,cancel:!1}),this.dialogView.render().$el.appendTo("body"),this.dialogView.show(b,g,d)},hideDialog:function(){this.dialogView&&this.dialogView.close(),this.$el.remove()},_submitData:function(b){var c=this;if(this.model.get("isEdit")){var d=a.$.trim(this.ui.content.val());if(d==this.defaultValue&&(d=""),""==d)return this.ui.content.val(this.defaultValue),void this.ui.contentWrap.addClass("input-error")}else var d="";this.dialogView&&this.dialogView.changeSubmitBtn(2),a.$.ajax({url:a.Context.getApiUrl("account/AppAdvisoryAndImport")+"?type="+b,type:"Post",success:function(){c._tipDialog(c.node," 已提交申请，我们会尽快联系您！"),c.dialogView&&c.dialogView.hide()}})},_tipDialog:function(a,b){this.tipDialog=new c({type:"tipsy",sure:!1,cancel:!1,zindex:1001}),$("body").append(this.tipDialog.render().$el),this.tipDialog.show(a,b,{pos:"topCenter",className:"success",arrow:!1,autoHide:!0})}})}),define("views/more/guide/all/index-page-view",["talent","templates/more","views/more/guide/guide-sidebar-view","views/more/guide/guide-title-view","views/more/guide/guide-content-view","views/more/guide/guide-concat-view"],function(a,b,c,d,e,f){var g=a.Context.getI18n(),h=a.ItemView.extend({template:a._.template('<div class="tt_guide_all_sidebar"><img src="<%=imgUrl%>"/><p>微信公众号 titacom</p></div> '),templateHelpers:function(){return{imgUrl:a.Context.getStaticUrl("images/home/qr_wx_v4.png")}}}),i=d.extend({title:"tita入门",showBack:!1}),j=e.extend({template:b["more/guide/all/content"],ui:{manger:"a[data-type=manager]",plan:"a[data-type=plan]",daily:"a[data-type=daily]",group:"a[data-type=group]",concat:"a[data-name=concat]",peixun:"a[data-name=peixun]"},events:function(){var a={};return a["click "+this.ui.manger]="_changeModleType",a["click "+this.ui.plan]="_changeModleType",a["click "+this.ui.daily]="_changeModleType",a["click "+this.ui.group]="_changeModleType",a["mouseenter "+this.ui.concat]="_toggleConcatView",a["mouseleave "+this.ui.concat]="_toggleConcatView",a["click "+this.ui.concat]="_renderConcatView",a["click "+this.ui.peixun]="_renderPXView",a},templateHelpers:function(){var b=a.Context.getGlobal("tenant_function"),c=a.Context.getGlobal("helpHost");return{helpHost:c,help:c&&c.split("//")[1]||"",i18n:g,IsUsePlanDaily:b.IsUsePlanDaily}},_changeModleType:function(b){var c=a.$(b.currentTarget),d=c.attr("data-type");this.model.set("type",d)},_toggleConcatView:function(b){var c=a.$(b.currentTarget),d=c.find(".icon-kefu");d.hasClass("icon-kefu-hover")?d.removeClass("icon-kefu-hover"):d.addClass("icon-kefu-hover")},_renderConcatView:function(b){var c=a.$(b.currentTarget),d=c.attr("data-type");this.guideConcatView=new f,this.guideConcatView.showDialog(c,{type:d,isEdit:!0})},_renderPXView:function(b){var c=a.$(b.currentTarget),d=c.attr("data-type");this.guideConcatView=new f,this.guideConcatView.showDialog(c,{type:d})}});return a.Layout.extend({contViewClass:j,sideBarViewClass:h,titleViewClass:i})}),define("views/more/guide/manager/index-page-view",["talent","templates/more","views/more/guide/guide-sidebar-view","views/more/guide/guide-title-view","views/more/guide/guide-content-view","views/more/guide/guide-concat-view","tdialog"],function(a,b,c,d,e,f,g){var h=c.extend({initialize:function(){this.collection.reset([{name:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;添加公司员工"},{name:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;设置汇报关系"},{name:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;搭建组织架构"}])}}),i=d.extend({title:"超管入门"}),j=e.extend({className:"tt_guide_manager",template:b["more/guide/manager/content"],ui:{goOneKey:"a[data-name=skip-to-onekey]",concat:"a[data-name=concat]",memberShip:"a[data-name=member-ship]"},events:function(){var a={};return a["click "+this.ui.goOneKey]="_clickGoOneKeyHandler",a["click "+this.ui.concat]="_renderConcatView",a["click "+this.ui.memberShip]="_mebShipHandler",a},templateHelpers:function(){var b=Talent.Context.getGlobal("titaHost"),c=Talent.Context.getGlobal("loginUserInfo"),d=c.Id,e=b+"/u/"+d+"/Home#more/invite",b=Talent.Context.getGlobal("titaHost");return{helpHost:a.Context.getGlobal("helpHost"),tmNewHost:a.Context.getGlobal("tm"),loginUser:a.Context.getUserInfo(),url:e}},onClose:function(){this.tipDialog&&this.tipDialog.close()},_clickGoOneKeyHandler:function(){this.model.set("index",3)},_renderConcatView:function(b){var c=a.$(b.currentTarget),d=c.attr("data-type");this.guideConcatView=new f,this.guideConcatView.showDialog(c,{type:d})},_mebShipHandler:function(b){var c=this,d=a.$(b.currentTarget);a.app.request("Membership:getOpenUserOrg",{}).done(function(a){c._tipDialog(d,"已提交申请，我们会尽快联系您！")})},_tipDialog:function(a,b){this.tipDialog=new g({type:"tipsy",sure:!1,cancel:!1,zindex:1001}),$("body").append(this.tipDialog.render().$el),this.tipDialog.show(a,b,{pos:"topCenter",className:"success",arrow:!1,autoHide:!0})}});return a.Layout.extend({contViewClass:j,sideBarViewClass:h,titleViewClass:i})}),define("views/more/guide/plan/index-page-view",["talent","templates/more","views/more/guide/guide-sidebar-view","views/more/guide/guide-title-view","views/more/guide/guide-content-view","views/more/guide/guide-concat-view"],function(a,b,c,d,e,f){var g=a.Context.getI18n(),h=c.extend({initialize:function(){var a=g.plan_1;this.collection.reset([{name:'<span class="filter_gb">P</span>'+a+"</a>"},{name:'<span class="filter_gb">D</span>执行</a>'},{name:'<span class="filter_gb">C</span>检查</a>'},{name:'<span class="filter_gb">A</span>处理</a>'}])}}),i=d.extend({title:g.plan_1+"入门"}),j=e.extend({className:"tt_guide_manager",template:b["more/guide/plan/content"],templateHelpers:function(){var b=a.Context.getGlobal("tenant_function");return{helpHost:a.Context.getGlobal("helpHost"),tmHost:a.Context.getGlobal("tm"),loginUser:a.Context.getUserInfo(),i18n:g,IsUseSetOrg:b.IsUseSetOrg}}});return a.Layout.extend({contViewClass:j,sideBarViewClass:h,titleViewClass:i})}),define("views/more/guide/group/index-page-view",["talent","templates/more","views/more/guide/guide-sidebar-view","views/more/guide/guide-title-view","views/more/guide/guide-content-view","views/more/guide/guide-concat-view"],function(a,b,c,d,e,f){var g=a.Context.getI18n(),h=c.extend({initialize:function(){this.collection.reset([])}}),i=d.extend({title:"团队入门"}),j=e.extend({className:"tt_guide_manager",template:b["more/guide/group/content"],templateHelpers:function(){var b=a.Context.getGlobal("tenant_function");return{helpHost:a.Context.getGlobal("helpHost"),tmHost:a.Context.getGlobal("tm"),loginUser:a.Context.getUserInfo(),i18n:g,IsUseSetOrg:b.IsUseSetOrg}}});return a.Layout.extend({contViewClass:j,sideBarViewClass:h,titleViewClass:i})}),define("views/more/guide/daily/index-page-view",["talent","templates/more","views/more/guide/guide-sidebar-view","views/more/guide/guide-title-view","views/more/guide/guide-content-view","views/more/guide/guide-concat-view"],function(a,b,c,d,e,f){var g=a.Context.getI18n(),h=c.extend({initialize:function(){this.collection.reset([])}}),i=d.extend({title:"日报入门"}),j=e.extend({className:"tt_daily_manager",template:b["more/guide/daily/content"],templateHelpers:function(){return{helpHost:a.Context.getGlobal("helpHost"),tmHost:a.Context.getGlobal("tm"),loginUser:a.Context.getUserInfo(),i18n:g}}});return a.Layout.extend({contViewClass:j,sideBarViewClass:h,titleViewClass:i})}),define("views/more/guide/index-page-view",["talent","templates/more","views/more/guide/all/index-page-view","views/more/guide/manager/index-page-view","views/more/guide/plan/index-page-view","views/more/guide/group/index-page-view","views/more/guide/daily/index-page-view"],function(a,b){return a.Layout.extend({defaults:{type:"all",index:"0"},template:b["more/guide/index-page"],className:"tt_guidebottom",regions:{sideBar:"div[data-name=sidebar]",title:"div[data-name=title]",content:"div[data-name=content]"},ui:{close:"a[data-name=closed]",load:"div[data-name=load]"},modelEvents:{"change:type":"_renderModulesView","change:index":"_renderModulesView"},events:function(){var a={};return a["click "+this.ui.close]="_closedHandler",a},initialize:function(){this.status=0;var b=this;this.settings=a._.extend({},this.defaults,this.options),this.model.set(this.settings),a.app.vent.on("Guide:Guide-View:click",function(a){b.show(a)})},onRender:function(){this._renderModulesView()},onClose:function(){a.app.vent.off("Guide:Guide-View:click")},_renderModulesView:function(){var a=this,b=this.model.get("type"),c="views/more/guide/"+b+"/index-page-view";require([c],function(b){var c=new b,d=new c.contViewClass({model:a.model});a.content.show(d);var e=new c.sideBarViewClass({model:a.model});a.listenTo(e,"click:navItem",function(a){d.showIndexBox(a)}),a.sideBar.show(e);var f=new c.titleViewClass({model:a.model});a.title.show(f)})},show:function(a){a&&this.model.set("type",a),this._anmiate()},hide:function(){this._closedHandler()},_closedHandler:function(a){var b=this;this.status=0,this.$el.stop().animate({bottom:-355},function(){b.model.set("type",b.defaults.type),b.model.set("index",b.defaults.index)})},_anmiate:function(){this.status=1,this.$el.stop().animate({bottom:0})}})}),define("views/common/onlineservice/onlineservice-view",["talent","templates/common"],function(a,b){return a.ItemView.extend({template:b["common/onlineservice/onlineservice"],className:"tt_right_suspend",ui:{consultBtn:"[data-name=consult-btn]"},events:{"click ":"clickRightSuspend","mousedown ":"clickRightSuspend","mouseup ":"clickRightSuspend","click this.ui.consultBtn":"_consultBtn"},onRender:function(){this.ISVType=a.Context.getGlobal("ISVType"),1e4==this.ISVType?this._renderOnlineServer():this.getUdeskToken()},_addCloseBtnHandler:function(){this.closeBtn=a.$('<div id="closeQQandClinic"></div>'),$("body").append(this.closeBtn),this.closeBtn.show(),$("body").on("click","#closeQQandClinic",function(){$(this).hide(),$("#BizQQWAP,#clinic-btn-start").hide()})},getUdeskToken:function(){var a=this;Talent.app.request("UdeskApi:getUserToken").done(function(b){b.isHaveCustomerServicePermission&&(a._renderQQ(),a._renderUdesk(b))})},_renderUdesk:function(b){var c=this;!function(a,b,c,d,e,f){a.UdeskApiObject=e,a[e]=a[e]||function(){(a[e].d=a[e].d||[]).push(arguments)},f=b.createElement(c),f.async=1,f.charset="utf-8",f.src=d,c=b.getElementsByTagName(c)[0],c.parentNode.insertBefore(f,c)}(window,document,"script","//assets-cli.udesk.cn/im_client/js/udeskApi.js","ud"),ud({code:"1j8jb6jh",link:"//beisen.udesk.cn/im_client?web_plugin_id=35240&group_id=66725",targetSelector:"#BizQQWAP",selector:"#BizQQWAP",pop:{direction:"left"},customer:b,onReady:function(){c._addCloseBtnHandler()},onUnread:function(a){c.controlConsultRed(a.count)},panel:{onToggle:function(b){a.$("#BizQQWAP").toggle(!b.visible),a.$("#clinic-btn-start").toggle(!b.visible),c.closeBtn.toggle(!b.visible),b.visible&&c.controlConsultRed(0)}}})},_renderOnlineServer:function(){var b=this,c=a.Context.getGlobal("tenant_function");c.IsOpenCustomerService&&(this.tOnlineServer=setTimeout(function(){require(["//wpa.b.qq.com/cgi/wpa.php"],function(a){b.isClosed||(b._renderQQ(),b._addCloseBtnHandler())})},3e3))},_renderQQ:function(){a.Context.getStaticUrl("images/onlineserver.jpeg");this.onlineServiceBtn=a.$('<a id="BizQQWAP" href="javascript:void(0)" data-name="consult-btn"><span class="BizQQWAP__red tu-dn"></span><span class="tu-icon-bubble BizQQWAP__icon tu-db"></span><span class="BizQQWAP__title">在</span><span class="BizQQWAP__title">线</span><span class="BizQQWAP__title">客</span><span class="BizQQWAP__title">服</span></a>'),1e4==this.ISVType&&(this.onlineServiceBtn.attr("href","http://wpa.b.qq.com/cgi/wpa.php?ln=1&key=XzgwMDAxMzk0Nl8xNzUwNDJfODAwMDEzOTQ2XzJf"),this.onlineServiceBtn.attr("target","_blank")),$("body").append(this.onlineServiceBtn)},controlConsultRed:function(b){var c=a.$("#BizQQWAP .BizQQWAP__red");b?(c.text(b),c.show()):c.hide()},clickRightSuspend:function(a){a.stopPropagation(),a.preventDefault()},_consultBtn:function(a){a.preventDefault()},onClose:function(){this.tOnlineServer&&this.tOnlineServer.close()}})}),define("views/common/system-upgrade-view",["talent","templates/common"],function(a,b){return a.ItemView.extend({template:_.template(["为提供更优质的服务，6月21日22:00-次日07:00系统升级，届时系统将无法使用，请提前安排好您的工作，感谢您的支持&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",'<span class="icon-dialog-closed" data-name="upgrade-closed"></span>'].join("")),className:"tt-upgrade",events:{"click [data-name=upgrade-closed]":"_closeHandler"},initialize:function(a){this.settings=Talent._.extend({},this.defaults,a),this.$el.css({background:"#f8ecd1",color:"#555",padding:"3px 0","text-align":"center","font-size":"12px",position:"fixed",top:"0",left:"50%","margin-left":-450,width:700,zIndex:10010})},onRender:function(){var a=Talent.Context.getGlobal("webPath");this.$el.hide(),("italent.cn"==a||"italent.link"==a)&&this.$el.show()},_closeHandler:function(){this.$el.hide()}})}),define("views/common/guidance/base/center-item-view",["talent","templates/common"],function(a,b){return a.ItemView.extend({className:"panel",tagName:"li",template:b["common/guidance/base/center-box-item"],initialize:function(a){this.content=a.model.get("content")},onRender:function(){this.$el.find(".content").append(this.content)}})}),define("views/common/guidance/base/center-composite-view",["talent","templates/common","views/common/guidance/base/center-item-view"],function(a,b,c){
var d=a.CompositeView.extend({template:a._.template('<ul class="panel-wrap"></ul>'),itemViewContainer:"ul",itemView:c,className:"slide",initialize:function(b){this.collection=new a.Collection(b)}});return d}),function(a){function b(b,c,d){var e=this,f=a(this),g="beforeSwitch",h="onSwitch";a.isFunction(c[g])&&f.bind(g,c[g]),a.isFunction(c[h])&&f.bind(h,c[h]),a.extend(e,{_initPlugins:function(){for(var b=a.switchable.Plugins,c=b.length,d=0;c>d;d++)b[d].init&&b[d].init(e)},_init:function(){if(e.container=b,e.config=c,!c.panels||!c.panels.jquery&&"string"!==a.type(c.panels)?e.panels=b.children():e.panels=b.find(c.panels),e.length=Math.ceil(e.panels.length/c.steps),e.length<1)return void(window.console&&console.warn("No panel in "+d));if(e.index=null===c.initIndex?void 0:c.initIndex+(c.initIndex<0?e.length:0),"none"===c.effect&&e.panels.slice(e.index*c.steps,(e.index+1)*c.steps).show(),c.triggers){var f,g,h;if(c.triggers.jquery)e.triggers=c.triggers.slice(0,e.length);else{var i="string"===a.type(c.triggers),j=[];for(g=1;g<=e.length;g++)j.push("<li>"+(i?c.triggers:g)+"</li>");e.triggers=a("<ul/>",{"class":c.triggersWrapCls,html:j.join("")})[c.putTriggers](b).find("li")}for(e.triggers.eq(e.index).addClass(c.currentTriggerCls),g=0;g<e.length;g++)f=e.triggers.eq(g),f.click({index:g},function(a){h=a.data.index,e._triggerIsValid(h)&&(e._cancelDelayTimer(),e.switchTo(h))}),"mouse"===c.triggerType&&f.mouseenter({index:g},function(a){h=a.data.index,e._triggerIsValid(h)&&(e._delayTimer=setTimeout(function(){e.switchTo(h)},1e3*c.delay))}).mouseleave(function(){e._cancelDelayTimer()})}},_triggerIsValid:function(a){return e.index!==a},_cancelDelayTimer:function(){e._delayTimer&&(clearTimeout(e._delayTimer),e._delayTimer=void 0)},_switchTrigger:function(a,b){e.triggers.eq(a).removeClass(c.currentTriggerCls).end().eq(b).addClass(c.currentTriggerCls)},_switchPanels:function(b,d,f){a.switchable.Effects[c.effect].call(e,b,d,f)},willTo:function(a){return a?e.index>0?e.index-1:c.loop?e.length-1:!1:e.index<e.length-1?e.index+1:c.loop?0:!1},switchTo:function(b,d){var i=a.Event(g);return f.trigger(i,[b]),i.isDefaultPrevented()?void 0:(e._switchPanels(e.index,b,d),!c.triggers||e._switchTrigger(e.index,b),e.index=b,i.type=h,f.trigger(i,[b]),e)}}),e._init(),e._initPlugins()}a.switchable={Config:{triggers:!0,putTriggers:"insertAfter",triggersWrapCls:"switchable-triggers",currentTriggerCls:"current",panels:null,steps:1,triggerType:"mouse",delay:.1,initIndex:0,effect:"none",easing:"ease",duration:.5,loop:!0,beforeSwitch:null,onSwitch:null,api:!1},Effects:{none:function(a,b){var c=this,d=c.config;c.panels.slice(a*d.steps,(a+1)*d.steps).hide().end().slice(b*d.steps,(b+1)*d.steps).show()}},Plugins:[]},a.fn.switchable=function(c){var d,e=a(this),f=e.length,g=e.selector,h=[];for(c=a.extend({},a.switchable.Config,c),c.effect=c.effect.toLowerCase(),d=0;f>d;d++)h[d]=new b(e.eq(d),c,g+"["+d+"]");return c.api?h[0]:e}}(jQuery),function(a){function b(){var a,b=document.documentElement,c=["Webkit","Moz"],d="transition",e="";if(void 0!==b.style[d])e=d;else for(a=0;2>a;a++)if(void 0!==b.style[d=c[a]+"Transition"]){e=d;break}return e}a.switchable.Anim=function(c,d,e,f,g,h){var i,j,k=this,l={};void 0===a.switchable.Transition&&(a.switchable.Transition=b()),i=a.switchable.Transition,a.extend(k,{isAnimated:!1,run:function(){if(!k.isAnimated){if(e=1e3*e,i)l[i+"Property"]=h||"all",l[i+"Duration"]=e+"ms",l[i+"TimingFunction"]=f,c.css(a.extend(d,l)),j=setTimeout(function(){k._clearCss(),k._complete()},e);else{var b=/cubic-bezier\(([\s\d.,]+)\)/,g=f.match(b),m=a.switchable.TimingFn[f];(m||g)&&(f=a.switchable.Easing(g?g[1]:m.match(b)[1])),c.animate(d,e,f,function(){k._complete()})}return k.isAnimated=!0,k}},stop:function(a){return k.isAnimated?(i?(clearTimeout(j),j=void 0):c.stop(!1,a),k.isAnimated=!1,k):void 0},_complete:function(){g&&g()},_clearCss:function(){l[i+"Property"]="none",c.css(l)}})}}(jQuery),function(a){function b(a){return"cubic-bezier("+a+")"}function c(a){var b,c=[],d=101;for(b=0;d>=b;b++)c[b]=a.call(null,b/d);return function(a){if(1===a)return c[d];var b=d*a,e=Math.floor(b),f=c[e],g=c[e+1];return f+(g-f)*(b-e)}}function d(a,b,c,d,e,f){function g(a){return((m*a+bx)*a+cx)*a}function h(a){return((ay*a+by)*a+cy)*a}function i(a){return(3*m*a+2*bx)*a+cx}function j(a){return 1/(200*a)}function k(a,b){return h(l(a,b))}function l(a,b){function c(a){return a>=0?a:0-a}var d,e,f,h,j,k;for(f=a,k=0;8>k;k++){if(h=g(f)-a,c(h)<b)return f;if(j=i(f),c(j)<1e-6)break;f-=h/j}if(d=0,e=1,f=a,d>f)return d;if(f>e)return e;for(;e>d;){if(h=g(f),c(h-a)<b)return f;a>h?d=f:e=f,f=.5*(e-d)+d}return f}var m=bx=cx=ay=by=cy=0;return cx=3*b,bx=3*(d-b)-cx,m=1-cx-bx,cy=3*c,by=3*(e-c)-cy,ay=1-cy-by,k(a,j(f))}a.switchable.TimingFn={ease:b(".25, .1, .25, 1"),linear:b("0, 0, 1, 1"),"ease-in":b(".42, 0, 1, 1"),"ease-out":b("0, 0, .58, 1"),"ease-in-out":b(".42, 0, .58, 1")},a.switchable.Easing=function(e){var f,g,h=0;for(e=e.split(","),g=e.length;g>h;h++)e[h]=parseFloat(e[h]);if(4!==g)window.console&&console.warn(b(e.join(", "))+" missing argument.");else if(f="cubic-bezier-"+e.join("-"),!a.easing[f]){var i=c(function(a){return d(a,e[0],e[1],e[2],e[3],5)});a.easing[f]=function(a,b,c,d){return i.call(null,a)}}return f}}(jQuery),function(a){a.extend(a.switchable.Config,{autoplay:!1,interval:3,pauseOnHover:!0}),a.switchable.Plugins.push({name:"autoplay",init:function(b){function c(){return g=b.willTo(b.isBackward),g===!1?void b._cancelTimers():void b.switchTo(g,b.isBackward?"backward":"forward")}function d(){f=setInterval(function(){c()},1e3*(h.interval+h.duration))}var e,f,g,h=b.config,i=!1;!h.autoplay||b.length<=1||(h.pauseOnHover&&b.panels.add(b.triggers).hover(function(){b._pause()},function(){i||b._play()}),a.extend(b,{_play:function(){b._cancelTimers(),b.paused=!1,e=setTimeout(function(){c(),d()},1e3*h.interval)},_pause:function(){b._cancelTimers(),b.paused=!0},_cancelTimers:function(){e&&(clearTimeout(e),e=void 0),f&&(clearInterval(f),f=void 0)},play:function(){return b._play(),i=!1,b},pause:function(){return b._pause(),i=!0,b}}),b._play())}})}(jQuery),function(a){a.extend(a.switchable.Config,{prev:null,next:null}),a.switchable.Plugins.push({name:"carousel",init:function(b){var c,d,e,f=b.config,g=["backward","forward"],h=["prev","next"],i=0;if(f.prev||f.next)for(;2>i;i++)c=h[i],d=f[c],d&&(e=b[c+"Btn"]=d.jquery?d:a(d),e.click({direction:g[i]},function(a){if(a.preventDefault(),!b.anim){var c=a.data.direction,d=b.willTo(c===g[0]);d!==!1&&b.switchTo(d,c)}}))}})}(jQuery),function(a){a.switchable.Effects.fade=function(b,c){var d=this,e=d.config,f=d.panels,g=f.eq(b),h=f.eq(c);d.anim&&(d.anim.stop(),f.eq(d.anim.to).css({zIndex:d.length}).end().eq(d.anim.from).css({opacity:0,zIndex:1})),h.css({opacity:1}),d.anim=new a.switchable.Anim(g,{opacity:0},e.duration,e.easing,function(){h.css({zIndex:d.length}),g.css({zIndex:1}),d.anim=void 0},"opacity").run(),d.anim.from=b,d.anim.to=c},a.switchable.Plugins.push({name:"fade effect",init:function(a){var b=a.config,c=a.panels.eq(a.index);"fade"===b.effect&&1===b.steps&&(a.panels.not(c).css({opacity:0,zIndex:1}),c.css({opacity:1,zIndex:a.length}))}})}(jQuery),function(a){var b=["scrollleft","scrollright","scrollup","scrolldown"],c="position",d="absolute",e="relative";a.extend(a.switchable.Config,{end2end:!1,groupSize:[],visible:null,clonedCls:"switchable-cloned"});for(var f=0;4>f;f++)a.switchable.Effects[b[f]]=function(b,c,d){var e=this,f=e.config,g=e.length-1,h="backward"===d,i=f.end2end&&(h&&0===b&&c===g||"forward"===d&&b===g&&0===c),j={};j[e.isHoriz?"left":"top"]=i?e._adjustPosition(h):-e.groupSize[e.isHoriz?0:1]*c,e.anim&&e.anim.stop(),e.anim=new a.switchable.Anim(e.panels.parent(),j,f.duration,f.easing,function(){i&&e._resetPosition(h),e.anim=void 0}).run()};a.switchable.Plugins.push({name:"scroll effect",init:function(f){var g=f.config,h=g.steps,i=f.panels,j=i.parent(),k=a.inArray(g.effect,b),l=0===k||1===k,m=i.eq(0).outerWidth(!0),n=i.eq(0).outerHeight(!0),o=l?0:1,p=f.length-1,q=l?"left":"top",r={};if(-1!==k){if(f.groupSize=[g.groupSize[0]||m*h,g.groupSize[1]||n*h],g.end2end){var s,t=i.length,u=!l&&g.groupSize[0]?f.groupSize[o]*f.length:(l?m:n)*t,v=t-p*h,w=(l?m:n)*v,x=!l&&g.groupSize[0]?f.groupSize[o]:w;g.loop=!0,g.visible&&g.visible<t&&g.visible>v&&i.slice(0,g.visible).clone(!0).addClass(g.clonedCls).appendTo(j).click(function(b){b.preventDefault(),i.eq(a(this).index()-t).click()}),a.extend(f,{_adjustPosition:function(a){return s=a?p:0,r[c]=e,r[q]=(a?-1:1)*u,i.slice(s*h,(s+1)*h).css(r),a?x:-u},_resetPosition:function(a){s=a?p:0,r[c]="",r[q]="",i.slice(s*h,(s+1)*h).css(r),r[c]=void 0,r[q]=a?-f.groupSize[o]*p:0,j.css(r)}})}"static"==f.container.css(c)&&f.container.css(c,e),r[c]=d,r[q]=-f.groupSize[o]*f.index,j.css(r).css("width",l?2*f.groupSize[o]*f.length:g.groupSize[0]?g.groupSize[0]:void 0),f.isHoriz=l,f.isBackward=1===k||3===k}}})}(jQuery),function(a){var b=["accordion","horizaccordion"],c=[["height","marginTop","marginBottom","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],["width","marginLeft","marginRight","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]];a.extend(a.switchable.Config,{multiple:!1,customProps:{}});for(var d=0;2>d;d++)a.switchable.Effects[b[d]]=function(b,c){var d=this,e=d.config,f=b!==c;d.anim&&d.anim.stop(f),d.anim=new a.switchable.Anim(d.panels.eq(c),d.triggers.eq(c).hasClass(e.currentTriggerCls)?d.collapseProps:d.expandProps[c],e.duration,e.easing,function(){d.anim=void 0}).run(),!e.multiple&&void 0!==b&&f&&(d.anim2&&d.anim2.stop(f),d.anim2=new a.switchable.Anim(d.panels.eq(b),d.collapseProps,e.duration,e.easing,function(){d.anim2=void 0}).run())};a.switchable.Plugins.push({name:"accordion effect",init:function(d){var e=d.config,f=a.inArray(e.effect,b);if(-1!==f&&1===e.steps){window.console&&console.info("Remember to set the border-width for the accordion's panels, even without border."),a.extend(d,{_triggerIsValid:function(a){return!0},_switchTrigger:function(a,b){var c=d.triggers,f=e.currentTriggerCls;c.eq(b).toggleClass(f),!e.multiple&&void 0!==a&&a!==b&&c.eq(a).removeClass(f)}}),d.expandProps=[],d.collapseProps={};var g,h,i,j=c[f].length,k={};for(i=0;j>i;i++)d.collapseProps[c[f][i]]=0;for(a.extend(d.collapseProps,e.customProps),i=0;i<d.length;i++){g=d.panels.eq(i);for(var l=0;j>l;l++)h=c[f][l],k[h]=g.css(h);d.expandProps.push(a.extend({},k)),g.css(a.extend({overflow:"hidden"},i===d.index?k:d.collapseProps))}}}})}(jQuery),define("$.switch",function(){}),define("views/common/guidance/base/center-box-view",["talent","templates/common","views/common/guidance/base/center-composite-view","$.switch"],function(a,b,c){return a.Layout.extend({template:b["common/guidance/base/center-box"],className:"guidance",initialize:function(b){this.obj=b.dataArray,this.IsShowBorder=b.IsShowBorder,this.collection=new a.Collection(this.obj)},regions:{slideBox:".slide-wrap"},ui:{closeBtn:".close-btn",prevBtn:".toggle #prev",nextBtn:".toggle #next"},events:function(){var a={};return a["click "+this.ui.prevBtn]="toggleSlide",a["click "+this.ui.nextBtn]="toggleSlide",a["click "+this.ui.closeBtn]="closeCover",a},_switchAbleConfig:function(){this.slide=this.$el.find(".slide").switchable({triggers:" ",putTriggers:"appendTo",panels:".panel",triggerType:"click",initIndex:0,effect:"scrollRight",easing:"cubic-bezier(.455, .03, .515, .955)",duration:"0.2",loop:!1,prev:".center-wrap #prev",next:".center-wrap #next",onSwitch:function(a,b){var c=this;c.prevBtn.toggleClass("disabled",0===b),c.nextBtn.toggleClass("disabled",b===c.length-1)},api:!0})},_verCenter:function(){var a=this.$el.find(".switchable-triggers").width();this.$el.find(".switchable-triggers").css({"margin-left":(800-a)/2})},toggleSlide:function(){var a=this.$el.find(".toggle-slide");a.each(function(a,b){$(b).hasClass("disabled")?$(b).css({display:"none"}):$(b).css({display:"inline-block"})}),this.trigger("switchPage")},closeCover:function(){this.trigger("closedView")},onRender:function(){var a=this;this.centerCompositeView=new c(this.obj),this.slideBox.show(this.centerCompositeView),setTimeout(function(){a._switchAbleConfig(),$(window).on("resize",function(){a._verCenter()}).trigger("resize"),1==a.obj.length&&($(".switchable-triggers").remove(),$(".center-wrap .toggle").remove()),$(".slide .switchable-triggers li").on("click",function(b){a.toggleSlide()}),a.IsShowBorder&&a.$el.css({border:"1px solid #e4e4e4",width:"760px",padding:"20px","background-color":"#fff"})})}})}),!function(a){"use strict";var b=function(b,c){if(this.options=c,a("body").on("click",".tu-modal",function(a){a&&a.stopPropagation()}),a("body").on("click",".tu-modal-backdrop",function(a){a&&a.stopPropagation()}),null===b){var d='<div class="tu-modal hide-modal fade-modal" role="dialog" id={%id%} data-hidetype="remove"><div class="modal-dialog"><div class="modal-content">'+(c.hashead?'<div class="header-modal">'+(c.closeBtn?'<button type="button" class="close-modal" data-dismiss="modal" aria-hidden="true">&times;</button>':"")+'<h4 class="title-modal">{%title%}</h4></div>':"")+'<div class="body-modal '+(c.hasfoot?"":"no-foot")+'"><div class="body-modal-context"></div></div>'+(c.hasfoot?'<div class="footer-modal">'+(c.excessBtn?'<button type="button" class="left-float tu-btn tu-btn-sure tu-btn-small" data-excess="modal">{%excess_btn%}</button>':"")+(c.cancelBtn?'<button type="button" class="tu-btn btn-default tu-btn-small" data-dismiss="modal">{%cancel_btn%}</button>':"")+'<button type="button" class="tu-btn tu-btn-sure tu-btn-small" data-ok="modal">{%ok_btn%}</button></div>':"")+"</div></div></div>";b=a(d.replace("{%title%}",c.title).replace("{%id%}",c.id).replace("{%ok_btn%}",c.okBtn).replace("{%cancel_btn%}",c.cancelBtn).replace("{%excess_btn%}",c.excessBtn)),b.find(".body-modal-context").html(c.body),a("body").append(b)}this.$element=a(b),this.$buttonSure=this.$element.find('[data-ok="modal"]'),this.$buttonCancel=this.$element.find('[data-dismiss="modal"]'),c.transition||a(b).removeClass("fade-modal"),this.init()};b.prototype={constructor:b,init:function(){var b=this.$element,c=this.options,d=c.width,e=c.height,f=a(window).width(),g=a(window).height(),h={small:440,normal:590,large:790};b.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.cancelHide,this)).on("click.ok.modal",':not(.disabled)[data-ok="modal"]',a.proxy(this.okHide,this)).on("click.excess.modal",':not(.disabled)[data-excess="modal"]',a.proxy(this.excessHide,this)),d&&("auto"===d?d=800>.55*f?800:.55*f:h[d]&&(d=h[d]),b.width(d).css("margin-left",-parseInt(d)/2)),"auto"===e&&(e=170>.8*g?170:.8*g),c.hasHead&&(e-=50),c.hasfoot&&(e-=40),e&&b.find(".body-modal").height(e),"string"==typeof this.options.remote&&this.$element.find(".body-modal").load(this.options.remozte),c.hashead||c.hasfoot||!c.radius||b.css("border-radius",c.radius),b.data("okToggle",this.okToggle)},setTitle:function(a){this.$element.find(".title-modal").html(a)},setBtnTitle:function(a,b){b=b||"ok",this.$element.find("[data-"+b+"=modal]").html(a)},okToggle:function(a){var b=this.$element;"string"==typeof a&&"disabled"==a?b.find('[data-ok="modal"]').addClass("disabled"):b.find('[data-ok="modal"]').removeClass("disabled")},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show"),d=this.$element;return d.trigger(c),this.isShown||c.isDefaultPrevented()?void 0:(this.isShown=!0,this.escape(),this.backdrop(function(){function c(a){a.$element.focus().trigger("shown"),a.options.timeout>0&&(a.timeid=setTimeout(function(){a.hide()},a.options.timeout))}var e=a.support.transition&&d.hasClass("fade-modal");d.parent().length||d.appendTo(document.body),window.top!==window.self&&window.iTalentSDK&&window.iTalentSDK.sendMessage({publishEvent:"uxNavMenu_fullScreenShadow",data:{show:!0}}),b.resize(),d.show(),e&&d[0].offsetWidth,d.addClass("in-modal").attr("aria-hidden",!1),b.enforceFocus(),e?d.one(a.support.transition.end,function(){c(b)}):c(b)}),d)},hide:function(b){b&&b.stopPropagation(),b&&b.preventDefault();var c=this.$element,b=a.Event("hide");return"ok"!=this.hideReason&&c.trigger("cancelHide"),c.trigger(b),this.isShown&&!b.isDefaultPrevented()?(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.timeid&&clearTimeout(this.timeid),c.removeClass("in-modal").attr("aria-hidden",!0),a.support.transition&&c.hasClass("fade-modal")?this.hideWithTransition():this.hideModal(),window.top!==window.self&&window.iTalentSDK&&window.iTalentSDK.sendMessage({publishEvent:"uxNavMenu_fullScreenShadow",data:{show:!1}}),c):void 0},cancelHide:function(b){var c=this.options.cancelHide,d=!0;if(!c){var e=a._data(this.$element[0],"events").hide;e&&e.length&&(c=e[e.length-1].handler)}"function"==typeof c&&(d=c.call(this,b)),d!==!1&&this.hide(b)},okHide:function(b){function c(){d.hideReason="ok",d.hide(b)}b&&b.stopPropagation();var d=this;if(!b)return void c();var e=this.options.okHide,f=!0;if(!e){var g=a._data(this.$element[0],"events").okHide;g&&g.length&&(e=g[g.length-1].handler)}return"function"==typeof e&&(f=e.call(this,b)),f!==!1&&c(),d.$element},excessHide:function(b){b&&b.stopPropagation();var c=this.options.excessHide,d=!0;if(!c){var e=a._data(this.$element[0],"events").hide;e&&e.length&&(c=e[e.length-1].handler)}"function"==typeof c&&(d=c.call(this,b)),d!==!1&&this.hide(b)},shadeIn:function(){var b=this.$element;if(!b.find(".shade").length){var c=a('<div class="shade in" style="background:'+this.options.bgcolor+'"></div>');return c.appendTo(b),this.hasShaded=!0,this.$element}},shadeOut:function(){return this.$element.find(".shade").remove(),this.hasShaded=!1,this.$element},shadeToggle:function(){return this[this.hasShaded?"shadeOut":"shadeIn"]()},resize:function(){var b=this.$element,c=b.height(),d=a(window).height(),e=0;return c>=d?(e=-d/2,b.css("margin-top",parseInt(e))):(e=(d-c)/(1+1.618)-d/2,b.css("margin-top",parseInt(e))),b},enforceFocus:function(){var b=this;a(document).off("focusin.modal").on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},300);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this,b=this.$element;b.hide(),this.backdrop(function(){a.removeBackdrop(),b.trigger("ok"==a.hideReason?"okHidden":"cancelHidden"),a.hideReason=null,b.trigger("hidden"),"remove"==b.data("hidetype")&&b.remove()})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade-modal")?"fade-modal":"",d=this.options;if(this.isShown){var e=a.support.transition&&c;if(d.backdrop!==!1){if(this.$backdrop=a('<div class="tu-modal-backdrop '+c+'" style="background:'+d.bgcolor+'"/>').appendTo(document.body),this.$backdrop.click("static"==d.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in-modal "),!b)return;e?this.$backdrop.one(a.support.transition.end,b):b()}else b&&b()}else this.$backdrop?(this.$backdrop.removeClass("in-modal"),a.support.transition&&this.$element.hasClass("fade-modal")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("modal"),g=a.extend({},a.fn.modal.defaults,e.data(),"object"==typeof c&&c);f||e.data("modal",f=new b(this,g)),"string"==typeof c?f[c](d):f.show()})},a.fn.modal.defaults={backdrop:!0,bgcolor:"#34434E",keyboard:!0,hasfoot:!0,hashead:!0,closeBtn:!0,transition:!0,excessBtn:!1},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":c.data();b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})}),a.extend({_modal:function(c,d){function e(b,c){var d=["show","shown","hide","hidden","okHidden","cancelHidden","excessHidden"];a.each(d,function(d,e){"function"==typeof c[e]&&a(document).on(e,"#"+b,a.proxy(c[e],a("#"+b)[0]))})}var f=+new Date,g=a.extend({},a.fn.modal.defaults,c,{id:f,okBtn:"确定"},"string"==typeof d?{body:d}:d),h=new b(null,g),i=h.$element;return e(f,g),i.data("modal",h).modal("show"),i},alert:function(b){var c={type:"alert",title:"注意"};return a._modal(c,b)},confirm:function(b){var c={type:"confirm",title:"提示",cancelBtn:"取消"};return a._modal(c,b)}})}(window.jQuery),define("$.modal",["$"],function(){}),define("views/common/guidance/base/guidance-view",["talent","templates/common","views/common/guidance/base/center-box-view","$.infotip","$.modal"],function(a,b,c,d){return a.Layout.extend({defaults:{width:800},template:b["common/guidance/base/guidance"],className:"",initialize:function(b){this.obj=b,this.wrapClassName=b.wrapClassName,this.isIE8=this.checkBrower(),this.settings=a._.extend({},this.defaults,b)},regions:{},checkBrower:function(){return"Microsoft Internet Explorer"===navigator.appName&&navigator.userAgent.match(/Trident/i)&&navigator.userAgent.match(/MSIE 8.0/i)?!0:!1},onRender:function(){if(!this.isIE8){var b=this;if(window.top!==window.self&&"grcw"!=window.name){var d=a.Context.getGlobal("titaHost")+"#sdk/guidance";return window.iTalentSDK&&window.iTalentSDK.showPopup(d,830,530,b.obj),void(window.iTalentSDK&&window.iTalentSDK.register([{listenEvent:"okr_sdk_guidance_close",cb:function(){b.trigger("closedView")}}]))}this.centerBoxView&&this.centerBoxView.close(),this.centerBoxView=new c(b.obj);var e=$("<div></div>").addClass(b.wrapClassName).append(b.centerBoxView.render().$el);this.modals=$.confirm({backdrop:!0,bgcolor:"#000",hasfoot:!1,hashead:!1,closeBtn:!1,radius:10,width:this.settings.width,height:"500",body:e}),$(".tu-modal-backdrop").off("click"),this.listenTo(b.centerBoxView,"closedView",function(){b.modals.siblings(".tu-modal-backdrop").remove().end().hide(),b.close(),b.modals.remove(),b.trigger("closedView")}),this.listenTo(b.centerBoxView,"switchPage",function(){b.trigger("switchPage")})}}})}),define("views/common/guidance/titaUpdate/screen-one",["talent","templates/common"],function(a,b){return a.Layout.extend({template:b["common/guidance/titaUpdate/screen-one-page"],className:"screen-one",ui:{},regions:{},events:function(){var a={};return a},initialize:function(){},onRender:function(){}})}),define("views/common/guidance/titaUpdate/index",["talent","templates/common","views/common/guidance/base/guidance-view","views/common/guidance/titaUpdate/screen-one"],function(a,b,c,d){return a.Layout.extend({template:b["common/guidance/titaUpdate/index-page"],className:"",ui:{},regions:{},events:function(){var a={};return a},initialize:function(a){this.IsShowBorder="undefined"==typeof a.IsShowBorder?!1:a.IsShowBorder,this.isShow="undefined"==typeof a.isShow?!0:a.isShow;var b=(new d).render().$el;this.obj={dataArray:[{content:b}],IsShowBorder:this.IsShowBorder,wrapClassName:"titaUpdate"}},onRender:function(){var b=this,d=a.Context.getGlobal("userGuides")?a.Context.getGlobal("userGuides").upgradeGuide:{};d&&d.value&&(this.guidanceView=new c(this.obj),this.guidanceView.render(),d&&d.type&&this.listenTo(this.guidanceView,"closedView",function(){Talent.app.request("Users:cancelUserGuide",{type:d.type}).done(function(b){var c=a.Context.getGlobal("userGuides");c.upgradeGuide.value=!1,a.Context.setGlobal("userGuides",c)}).fail(function(){var b=a.Context.getGlobal("userGuides");b.upgradeGuide.value=!1,a.Context.setGlobal("userGuides",b)})}),this.listenTo(this.guidanceView,"closedView",function(){b.trigger("closedView")}))},showGuidance:function(){this.render()}})}),define("views/common/new-filter/drop-down-list/drop-down-list-view",["talent","templates/common","$.infotip"],function(a,b,c){var d=a.ItemView.extend({template:b["common/new-filter/drop-down-list/drop-down-list-item"],templateHelpers:function(){var a,b,c=String(this.model.get("activeOrder")).split(","),d=this.model.get("order"),e=this.model.get("isMult"),f=this.model.get("tip"),g=this.model.get("title"),h=f&&_.isArray(f)&&f.length>0,i=-1;return h&&(a=f[0].txt,f.length>1&&(_.each(f,function(a,b){a.order==c&&(i=b)}),i>-1&&!i&&(a=f[1].txt))),e?"baseline"!=this.model.get("title")&&this.model.get("checked")&&c&&_.indexOf(c,String(d[0]))>-1&&(b=!0):b=_.isArray(d)&&d.length>1?c&&_.indexOf(d,String(c))>-1:c&&_.indexOf(c,String(d))>-1,{itemActive:b,showTip:h,tipTxt:a,nowOrder:"baseline"!=g&&(d&&d.length>1&&c&&_.indexOf(d,String(c))>-1?_.without(d,String(c))[0]:d&&d[0])}},renderInfo:function(a){var b=new c;this.$el.css("position","relative"),b.bindNode(this.$el.find('[data-toggle="infotip"]'),{container:a})}});return a.CompositeView.extend({itemView:d,itemViewContainer:"[data-name=list-container]",defaults:{pos:"bottom",width:"170",container:$("body"),isMult:!1},template:b["common/new-filter/drop-down-list/drop-down-list"],className:"tt-new-filter-dropdownlist",ui:{listItem:"[data-name=list-item]",saveBtn:"[data-name=save-btn]",multEnter:"[data-name=mult-enter]",checkall:"[data-name=checkall]",singleBox:".single-box"},events:function(){var a={};return a["click "+this.ui.listItem]="_itemClickHandler",a["click "+this.ui.saveBtn]="_saveBtnClickHandler",a["click "+this.ui.multEnter]="_multEnterClickHandler",a["click "+this.ui.checkall]="_checkallClickHandler",a},modelEvents:{change:"render"},collectionEvents:{change:"_checkChecked"},templateHelpers:function(){return{save:this.model.get("save")&&this.model.get("save").support,activeOrder:this.model.get("activeOrder"),isMult:this.settings.isMult}},itemViewOptions:function(a,b){a.set("activeOrder",this.model.get("activeOrder")),a.set("isMult",this.model.get("isMult"))},initialize:function(){var b=this;this.timestamp=(new Date).getTime(),this.settings=a._.extend({},this.defaults,this.options),a.$(document).off("mousedown.okr-drop-down-list-"+this.timestamp),a.$(document).on("mousedown.okr-drop-down-list-"+this.timestamp,function(){b.$el.hide(),b.settings.isMult&&(_.each(b.originCheckedStatus,function(a){_.findWhere(b.model.get("data"),{title:a.title}).checked=a.checked}),b.model.set("activeOrder",b.originActiveOrder,{silent:!0}),b.collection.reset(b.model.get("data")),b.model.set("checkAll",b._checkAllChecked())),b.trigger("close")}),this.$el.off("mousedown.okr-drop-down-list-"+this.time),this.$el.on("mousedown.okr-drop-down-list-"+this.time,function(a){a.stopPropagation()}),this.settings.isMult&&this.model.set("checkAll",this._checkAllChecked()),this.collection.set(this.model.get("data")),this.on("itemview:render",function(a){a.renderInfo(b.$el)})},onRender:function(){this._checkChecked()},setOriginData:function(){var a=this;this.originCheckedStatus=[],this.originActiveOrder=this.model.get("activeOrder"),_.each(this.model.get("data"),function(b){a.originCheckedStatus.push({title:b.title,checked:b.checked})})},_checkAllChecked:function(){var a=!0,b=this.model.get("activeOrder").split(",");return _.each(this.model.get("data"),function(c){c.isMult=!0,"baseline"!=c.title&&(b&&_.indexOf(b,String(c.order[0]))>-1?c.checked=!0:(c.checked=!1,a=!1))}),a},show:function(b){var b=a._.extend({},this.defaults,b);this.setOriginData(),this.$el.css({width:b.width}),this.$el.show(),this.setPosition(b),this._setActivePostion()},_setActivePostion:function(){if(!this.model.get("isMult")){var a=this.$el.find(".active");if(a.length){var b=this.ui.singleBox,c=a.offset().top,d=b.offset().top;c-d>=300&&b.scrollTop(c-d-300+30)}}},_checkChecked:function(){if(this.settings.isMult){var a=[];_.each(this.collection.toJSON(),function(b){"baseline"!=b.title&&b.checked&&a.push(b)}),a.length?this.ui.multEnter.removeClass("disabled").addClass("tu-btn-sure"):this.ui.multEnter.removeClass("tu-btn-sure").addClass("disabled")}},_itemClickHandler:function(a){a.stopPropagation();var b,c=$(a.currentTarget),d=c.data("order"),e=String(c.data("title")),f=this.model.get("data"),g=_.findWhere(f,{title:e}).order,h=this.model.get("clickItemHide"),i=this.settings.isMult;if(i){h=!1;var j=c.data("checked");this.collection.findWhere({title:e}).set("checked",!j),j?c.removeClass("active"):c.addClass("active"),c.data("checked",!j),this.collection.findWhere({checked:!1})?(this.model.set("checkAll",!1,{silent:!0}),this.ui.checkall.removeClass("active")):(this.model.set("checkAll",!0,{silent:!0}),this.ui.checkall.addClass("active"))}else h=void 0==h?!0:h,this.model.set("activeOrder",String(d)),g.length>1&&(c.data("order",_.without(g,String(d))[0]),e+=_.indexOf(g,String(d))?'<span class="tu-icon-simple-sort-up"></span>':'<span class="tu-icon-simple-sort-down"></span>'),b={modelData:this.model.toJSON(),title:e},$(this.ui.listItem).removeClass("active"),c.addClass("active"),this.render(),this.trigger("chose",b),h&&(this.$el.hide(),this.trigger("close"))},_checkallClickHandler:function(a){a.stopPropagation();var b=this.model.get("checkAll"),c=$(a.currentTarget),d=[];b?c.removeClass("active"):c.addClass("active");var e=this.collection.toJSON();_.each(e,function(a){a.checked=!b,b||"baseline"==a.title||d.push(a.order[0])}),this.model.set("activeOrder",d.join(",")),this.model.set("data",e,{silent:!0}),this.collection.reset(e),this.model.set("checkAll",!b)},_saveBtnClickHandler:function(a){a.stopPropagation();var b=[{activeOrder:this.model.get("activeOrder"),tabName:this.model.get("tabName"),savaRequest:this.model.get("save").saveRequest}],c=this.model.get("saveSuccessInfo");this.trigger("saveSort",b,c),this.$el.hide(),this.trigger("close")},_multEnterClickHandler:function(a){a.stopPropagation();var b=$(a.currentTarget);b.hasClass("disabled")||(this.model.set("data",this.collection.toJSON()),this.model.set("activeOrder",this._getMultActiveOrder()),this.setOriginData(),this.trigger("chose",{modelData:this.model.toJSON()}),this.$el.hide(),this.trigger("close"))},_getMultActiveOrder:function(){var a=[];return _.each(this.model.get("data"),function(b){b.checked&"baseline"!=b.title&&a.push(b.order[0])}),a.join(",")},setPosition:function(b){a.Context.setPosition(b.node,this.$el,{container:b.container,pos:b.pos,topBias:b.topBias,leftBias:b.leftBias})},onClose:function(){this.$el.off("mousedown.okr-drop-down-list-"+this.timestamp),a.$(document).off("mousedown.okr-drop-down-list-"+this.timestamp)}})}),define("views/common/guidance/newClient/regulations",["talent","templates/common","views/common/new-filter/drop-down-list/drop-down-list-view","moment"],function(a,b,c,d){return a.Layout.extend({template:b["common/guidance/newClient/regulations"],className:"tu-por",ui:{planDay:"[data-name=planDay]",planTime:"[data-name=planTime]",dailyDay:"[data-name=dailyDay]",dailyTime:"[data-name=dailyTime]"},events:function(){var a={};return a["click "+this.ui.planDay]="_setTime",a["click "+this.ui.planTime]="_setTime",a["click "+this.ui.dailyDay]="_setTime",a["click "+this.ui.dailyTime]="_setTime",a},templateHelpers:function(){return{isSuperManage:a.Context.getUserInfo().IsRoot}},initialize:function(a){this._setDateOption()},onRender:function(){},_setDateOption:function(){var a=this._getTime("10:00"),b=this._getTime("19:00");this.time={setValue_11:[{title:"每周周一",checked:!0,order:[1]},{title:"每周周二",checked:!1,order:[2]},{title:"每周周三",checked:!1,order:[3]},{title:"每周周四",checked:!1,order:[4]},{title:"每周周五",checked:!1,order:[5]},{title:"每周周六",checked:!1,order:[6]},{title:"每周周日",checked:!1,order:[7]}],setTime_11:a,periodType_24:[{title:"当天",checked:!0,order:[1]},{title:"第二天",checked:!1,order:[2]}],setTime_24:b}},_getTime:function(a){for(var b=[],c=0;24>c;c++){var e=d({h:c}).format("HH:mm");b.push({title:e,checked:e==a,order:[e]})}return b},_setTime:function(a){var b=$(a.currentTarget);this.renderDropDownView(b)},_findObjectByType:function(a){return Talent._.findWhere(this.model.get("objSettings"),{
objSettingType:a})},renderDropDownView:function(a){var b=a.data("type"),d=a.data("id"),e=this._findObjectByType(d)[b]+"",f={activeOrder:e,data:this.time[b+"_"+d],changeTabTitle:!1,inResult:!1,isMult:!1,tabLeftLine:!1,viewType:"dropDownList"};this.dorpDownListView&&this.dorpDownListView.close(),this.dorpDownListView=new c({model:new Talent.Model(f)}),this.listenTo(this.dorpDownListView,"chose",function(c){var e=this._findObjectByType(d);e[b]=c.modelData.activeOrder,e.isOpen=1,a.text(c.title)}),$(".modal-content").append(this.dorpDownListView.render().$el),this.dorpDownListView.show({node:a,container:$(".modal-content"),pos:"bottom"}),this.dorpDownListView.$el.css("zIndex",99999)}})}),define("views/common/guidance/newClient/screen-one",["talent","templates/common","views/common/guidance/newClient/regulations","$.infotip"],function(a,b,c,d){return a.Layout.extend({template:b["common/guidance/newClient/screen-one-page"],className:"screen-one",ui:{invit:".newClient-btn .page-one-btn",regulationsContainer:"[data-name=regulations]",saveSettings:"[data-name=saveSettings]",clickItem:"[data-name=item-click]"},events:function(){var a={};return a["click "+this.ui.invit]="_invitCollege",a["click "+this.ui.saveSettings]="_saveSettings",a["click "+this.ui.clickItem]="_clickItem",a},templateHelpers:function(){var b=a.Context.getUserInfo(),c=Talent.Context.getStaticUrl("images/guidance/zebra.png"),d=Talent.Context.getGlobal("tm")||"";return{userId:b.Id,isRoot:b.IsRoot,imgUrl:c,redImgUrl:Talent.Context.getStaticUrl("images/more/money.png"),rmUrl:d}},initialize:function(b){b.isUseTitaManage=BSGlobal.IsUseTitaManage,this.model=new a.Model(b);var c=this._allDisabled(this.model.get("objSettings"));this.model.set("allDisabled",c)},onRender:function(){this._renderRegulationsView()},_clickItem:function(a){var b=$(a.currentTarget),c=b.data("href");setTimeout(function(){window.open(c,"_blank")}),this.trigger("resetNewUserGuide",c)},_allDisabled:function(a){return _.every(a,function(a){return!a.isAuthority})},_renderRegulationsView:function(){this.regulationsView&&this.regulationsView.close(),this.regulationsView=new c({model:this.model}),this.ui.regulationsContainer.append(this.regulationsView.render().$el)},_invitCollege:function(a){a.preventDefault(),this.trigger("resetNewUserGuide");var b=$(a.target),c=b.attr("data-href");window.open(c)},_saveSettings:function(b){var c=a.$(b.currentTarget),d=this,e=this.regulationsView&&this.regulationsView.model.get("objSettings");Talent.app.request("ManageRegations:postRegations",{settings:e,objType:e.objType,setType:this.model.get("setType")}).done(function(a){d._tipMessage(c)}).fail(function(a){})},_tipMessage:function(a){var b={placement:"bottom",type:"remind",ico:"success",body:"保存成功",trigger:"manual",hasfoot:!0,container:this.$el};this.tipView&&this.tipView.destroy(),this.tipView=new d,this.tipView.bindNode(a,b),this.tipView.show()}})}),define("views/common/guidance/newClient/reminding-view",["talent","templates/common","$.infotip"],function(a,b,c){return a.Layout.extend({template:b["common/guidance/newClient/reminding"],className:"reminding",tagName:"span",ui:{remind:".reminding-set-sub",boxContentHref:".boxContentHref"},events:function(){var a={};return a["click "+this.ui.remind]="_remind",a["click "+this.ui.boxContentHref]="_boxHide",a},initialize:function(b){this.userInfo=b.uesrInfo,this.model=new a.Model(b.data)},_boxHide:function(a){a.preventDefault(),this.trigger("resetNewUserGuide");var b=$(a.target),c=b.attr("data-href");window.open(c),this.trigger("remind")},_remind:function(){var a=this;this.trigger("remind");var b=this.options.target,c="@["+this.userInfo.admin.name+":"+this.userInfo.admin.email+"]",d="请帮我<a href='javascript:void(0)' data-tm='staff'> 设置下属成员</a>，我要给他们安排工作，非常感谢。[tita:玫瑰]";Talent.app.request("Feed:feedAddShare",{Content:c+d,ObjType:0,ObjId:0,FileUrls:[],Visibility:2,IsSendSMS:!1,otherDocuments:[]}).done(function(c){a.showTips(b)}).fail(function(a){})},showTips:function(a){var b={type:"remind",trigger:"manual",body:"提醒超管成功!",bias:{top:0,left:-60},placement:"top",container:$(".newClient .screen-two"),ico:"success"};this.view&&this.view.destroy(),this.view=new c,this.view.bindNode(a,b),this.view.show()}})}),define("views/common/guidance/newClient/screen-two",["talent","templates/common","views/common/guidance/newClient/reminding-view","$.modal","$.infotip"],function(a,b,c,d,e){return a.Layout.extend({template:b["common/guidance/newClient/screen-two-page"],className:"screen-two",ui:{sendTask:".task .task-btn",remindPlan:"[data-name=remind-plan]",remindDay:"[data-name=remind-day]",remindOkr:"[data-name=remind-okr]"},events:function(){var a={};return a["click "+this.ui.sendTask]="_clickTask",a["click "+this.ui.remindPlan]="_clickEnter",a["click "+this.ui.remindDay]="_clickEnter",a["click "+this.ui.remindOkr]="_clickEnter",a},initialize:function(b){this.model=new a.Model(b),this.data=b},_clickTask:function(a){a.preventDefault(),this.trigger("resetNewUserGuide");var b=$(a.target),c=b.attr("data-href");window.open(c)},_clickEnter:function(a){a.preventDefault(),this.trigger("resetNewUserGuide");var b=this,d=$(a.target),e={data:this.data,target:d,uesrInfo:this.data.userInfo};this.remindContentView&&this.remindContentView.close(),this.remindContentView=new c(e);var f=this.remindContentView.render().$el;if(this.data.isqqClient)var g={top:0,left:-91};else if("2"==this.data.role||"4"==this.data.role)var g={top:0,left:-91};else var g={top:0,left:-103};if(this.data.isHasSub){var h=d.attr("data-href");window.open(h)}else this._InfortipHandler(d,f,g);this.listenTo(b.remindContentView,"remind",function(){b.remidingView.hide()}),this.listenTo(b.remindContentView,"resetNewUserGuide",function(){b.trigger("resetNewUserGuide")})},_InfortipHandler:function(a,b,c){var d=this,f={type:"attention",trigger:"manual",body:b,bias:c,hasfoot:!0,hasClosed:!0,placement:"top",container:this.$el,autohide:!1,ico:"warn"};this.remidingView&&this.remidingView.destroy(),this.remidingView=new e,this.remidingView.bindNode(a,f),this.remidingView.show(),$(document).off("mousedown.InfoTip"),this.listenTo(d.remidingView,"close",function(){d.trigger("resetNewUserGuide");var b=a.attr("data-href");window.open(b)})},switchPage:function(){this.$el.find(".tu-infotip").remove()}})}),define("views/common/guidance/newClient/screen-three",["talent","templates/common"],function(a,b){return a.Layout.extend({template:b["common/guidance/newClient/screen-three-page"],className:"screen-three",ui:{creatProject:".newClient-btn .page-three-btn"},events:function(){var a={};return a["click "+this.ui.creatProject]="_creatProject",a},initialize:function(b){this.model=new a.Model(b)},_creatProject:function(a){a.preventDefault(),this.trigger("resetNewUserGuide");var b=$(a.target),c=b.attr("data-href");window.open(c)}})}),define("views/common/guidance/newClient/screen-four",["talent","templates/common"],function(a,b){return a.Layout.extend({template:b["common/guidance/newClient/screen-four-page"],className:"screen-one"})}),define("views/common/guidance/newClient/index",["talent","templates/common","views/common/guidance/base/guidance-view","views/common/guidance/newClient/screen-one","views/common/guidance/newClient/screen-two","views/common/guidance/newClient/screen-three","views/common/guidance/newClient/screen-four","moment"],function(a,b,c,d,e,f,g,h){return a.Layout.extend({template:b["common/guidance/newClient/index-page"],initialize:function(a){this.IsShowBorder="undefined"==typeof a.IsShowBorder?!1:a.IsShowBorder,this.isShow="undefined"==typeof a.isShow?!0:a.isShow,this._getData()},onRender:function(){var b=this,c=a.Context.getGlobal("tenantAuthentication").Version,h=a.Context.getUserInfo().IsRoot,i=a.Context.getGlobal("userGuides")?a.Context.getGlobal("userGuides").newUserGuide:{};$.when(this._requestAuthority(),this._requestrRegulation()).done(function(a,j){var k=a.teamRule.isHaveSubordinates,l=[];if(b.clientData.isHasSub=k,b.clientData.userInfo=a,i.value=!0,1==c&&h&&i&&i.value){b.box1View=new d(_.extend({},b.clientData,{objSettings:j,setType:b.model.get("setType")})),b.listenTo(b.box1View,"resetNewUserGuide",function(a){b._resetNewUserGuide()}),b.listenTo(b.box1View,"resetNewUserGuide",b._resetNewUserGuide);var m=b.box1View.render().$el;l.push({content:m})}else{b.box2View=new e(b.clientData);var n=b.box2View.render().$el;b.box3View=new f(b.clientData);var o=b.box3View.render().$el,p=(new g).render().$el;l=l.concat([{content:n},{content:o},{content:p}]),b.listenTo(b.box2View,"resetNewUserGuide",b._resetNewUserGuide),b.listenTo(b.box3View,"resetNewUserGuide",b._resetNewUserGuide)}b.obj={dataArray:l,IsShowBorder:b.IsShowBorder,wrapClassName:"newClient"},b._renderGuidance(b.obj)})},_requestAuthority:function(){return Talent.app.request("Assess:getUserAuthority")},_requestrRegulation:function(){var b=a.Context.getUserInfo().IsRoot?2:1;return this.model.set("setType",b),Talent.app.request("ManageRegations:getRelations",{setType:this.model.get("setType")})},_renderGuidance:function(b){var d=this,e=a.Context.getGlobal("userGuides")?a.Context.getGlobal("userGuides").newUserGuide:{};(e&&e.value||this.isShow)&&(this.guidanceView&&this.guidanceView.close(),this.guidanceView=new c(b),this.guidanceView.render(),e&&e.value&&this.listenTo(this.guidanceView,"closedView",function(){d._resetNewUserGuide(),d.trigger("closedView"),d.close()}),this.listenTo(d.guidanceView,"closedView",function(){d.trigger("closedView"),d.close()}),this.listenTo(this.guidanceView,"switchPage",function(){d.trigger("switchPage"),d.box2View.switchPage()}))},_getData:function(){var b=this,c=a.Context.getGlobal("titaHost")||"",d=a.Context.getGlobal("loginUserInfo").Id,e=a.Context.getGlobal("tm")||"";this.isqqClient=!1;for(var f=a.Context.getGlobal("WebHead").AppHead,g=0;g<f.length;g++)"830"==f[g].AppId&&(b.isqqClient=!0);this.role=a.Context.getGlobal("loginUserInfo").Role,titaHost=c+"/u/"+d;var i=titaHost+"/Invite/InviteMoreIndex",j="#widget/italent?iTalentFrameType=iframe&iTalentFrame="+encodeURIComponent(i),k=c+"/"+d+"/okrhome#home",l="#widget/italent?iTalentNavId=5147&iTalentFrameType=iframe&iTalentFrame="+encodeURIComponent(k);this.clientData={isqqClient:this.isqqClient,role:this.role,isHasSub:null,userInfo:null,urlObj:{tmStaffUrl:e,titaInvitUrl:j,titaSetUrl:titaHost+"/Home#set"+encodeURIComponent("?page_id=plan"),titaBenchUrl:titaHost+"/Home#bench",titaPlanUrl:titaHost+"/Home#plan",titaDailyUrl:titaHost+"/Home#daily?type=group&dailyType=1&date="+h().format("YYYY/MM/DD"),titaOkrUrl:l,titaProjectUrl:titaHost+"/Home#work"}}},_resetNewUserGuide:function(){var b=a.Context.getGlobal("userGuides")?a.Context.getGlobal("userGuides").newUserGuide:{};b&&b.value&&Talent.app.request("Users:cancelUserGuide",{type:b.type}).done(function(b){var c=a.Context.getGlobal("userGuides");c.newUserGuide.value=!1,a.Context.setGlobal("userGuides",c)}).fail(function(){var b=a.Context.getGlobal("userGuides");b.newUserGuide.value=!1,a.Context.setGlobal("userGuides",b)})},showGuidance:function(){this.render()}})}),define("views/common/guidance/extraGuidance/screen-one",["talent","templates/common"],function(a,b){return a.Layout.extend({template:b["common/guidance/extraGuidance/screen-one-page"],className:"screen-one",ui:{},templateHelpers:function(){var b=a.Context.getGlobal("tenantInfo")?a.Context.getGlobal("tenantInfo").Name:"",c=a.Context.getGlobal("loginUserInfo")?a.Context.getGlobal("loginUserInfo").Name:"";return{tenantName:b,loginName:c}},events:function(){var a={};return a},initialize:function(){},onRender:function(){}})}),define("views/common/guidance/extraGuidance/index",["talent","templates/common","views/common/guidance/base/guidance-view","views/common/guidance/extraGuidance/screen-one"],function(a,b,c,d){return a.Layout.extend({template:b["common/guidance/extraGuidance/index-page"],initialize:function(a){this.IsShowBordedr="undefined"==typeof a.IsShowBordedr?!1:a.IsShowBordedr,this.isShow="undefined"==typeof a.isShow?!0:a.isShow;var b=(new d).render().$el;this.obj={dataArray:[{content:b}],IsShowBordedr:this.IsShowBordedr,wrapClassName:"extraGuidance"}},onRender:function(){var b=this,d=a.Context.getGlobal("userGuides")?a.Context.getGlobal("userGuides").externalNewUserGuide:{};d&&d.value&&(this.guidanceView=new c(this.obj),this.guidanceView.render(),d&&d.type&&this.listenTo(this.guidanceView,"closedView",function(){Talent.app.request("Users:cancelUserGuide",{type:d.type}).done(function(b){var c=a.Context.getGlobal("userGuides");c.upgradeGuide.value=!1,a.Context.setGlobal("userGuides",c)}).fail(function(){var b=a.Context.getGlobal("userGuides");b.upgradeGuide.value=!1,a.Context.setGlobal("userGuides",b)})}),this.listenTo(this.guidanceView,"closedView",function(){b.trigger("closedView")}))},showGuidance:function(){this.render(),this._setRadius()},_setRadius:function(){$(".tu-modal").css({"border-radius":"10px"})}})}),define("views/common/remindme-widget/remindme-widget-view",["talent","templates/common"],function(a,b){var c=a.ItemView.extend({template:_.template(""),modelEvents:{"change:data":"modelDataChange"},initialize:function(){this.model=new a.Model({time:"",data:[]}),this.routerData={index:0,showType:"one"}},onRender:function(){this.modelDataChange()},modelDataChange:function(){var a=this;this.model.get("data")&&0!=this.model.get("data").length?(this.renderRemindListView(),this.$el.removeClass("disable"),this.$el.off("click"),this.$el.on("click",function(b){a.renderRemindListView(b)})):(this.$el.addClass("disable"),this.$el.off("click"),this.remindmeWidgetListCompositeView&&this.remindmeWidgetListCompositeView.$el.hide()),this.remindmeWidgetListCompositeView&&this.changeCollectionData()},renderRemindListView:function(b){var c=this.routerData,d=c.showType,e="all"==d?this.model.get("data"):this.model.get("data")[c.index];this.remindmeWidgetListCompositeView?(this.remindmeWidgetListCompositeView.model.set({count:this.model.get("data").length,showType:d,index:this.routerData.index}),this.remindmeWidgetListCompositeView.collection.reset(e),a._.isEmpty(e)?this.remindmeWidgetListCompositeView.$el.hide():(this.setPos(),this.remindmeWidgetListCompositeView.$el.show())):(this.remindmeWidgetListCompositeView=new f({collection:new a.Collection(e),model:new a.Model({showType:d,index:c.index,count:this.model.get("data").length})}),this.bindEvents(),this.remindmeWidgetListCompositeView.render(),this.$el.append(this.remindmeWidgetListCompositeView.$el),this.remindmeWidgetListCompositeView.$el.show(),this.setPos())},bindEvents:function(){this.listenTo(this.remindmeWidgetListCompositeView,"changeRouteData",this.changeRouteData),this.listenTo(this.remindmeWidgetListCompositeView,"changeData",this.changeData),this.listenTo(this.remindmeWidgetListCompositeView,"deleteData",this.deleteData)},setPos:function(){var b=a.$("[data-name=header-region]").outerHeight()+10;this.remindmeWidgetListCompositeView.$el.css({top:b})},changeRouteData:function(b){b.showType&&"all"==b.showType&&(b.index=0),this.routerData=a.$.extend({},this.routerData,b),this.changeCollectionData()},changeCollectionData:function(){var a=this.routerData.showType,b=this.routerData,c="all"==a?this.model.get("data"):this.model.get("data")[b.index];this.remindmeWidgetListCompositeView.model.set({showType:a,index:this.routerData.index,count:this.model.get("data").length}),this.remindmeWidgetListCompositeView.collection.reset(c)},deleteData:function(b){var c=this,b=b||{};b.id?a.app.request("Remindme:deleteData",b).done(function(a){c.onAfterChangeData(b)}):a.app.request("Remindme:deleteAllData",{}).done(function(a){c.onAfterChangeData(b)})},changeData:function(b){var b=b||{},c=this;if(b.time){var d=(new Date).getTime()+parseInt(b.time);if(b.time=this.formatDate(new Date(d),"yyyy/MM/dd hh:mm:ss"),b.id)a.app.request("Remindme:setData",b).done(function(a){c.onAfterChangeData(b)});else{var e=this.model.get("data");b.ids=a._.pluck(e,"Id").join(","),a.app.request("Remindme:setAllData",b).done(function(a){c.onAfterChangeData(b)})}}},onAfterChangeData:function(b){var c=this.model.get("data");c=b.id?a._.filter(c,function(a){return a.Id!=parseInt(b.id)}):[],0==c.length&&this.remindmeWidgetListCompositeView.$el.hide(),this.model.set("data",c)},formatDate:function(a,b){var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b},onClose:function(){this.$el.off("click")}}),d=a.ItemView.extend({template:b["common/remindme-widget/remindme-widget-list-item"],tagName:"li",className:"remindme_item_normal",initialize:function(b){var b=b||{};this.templateHelpers=b;var c=(this.templateHelpers.routerData,this.model.get("ObjType")),d=this.model.get("Url"),e=(this.model.get("ObjId"),a.Context.getI18n()),f={7:e.task_1,4:e.work_1,10:e.home_1,11:e.plan_1,8:"日报",20:"会议",21:"出差"},g=this.model.get("Title"),h=f[c];g&&""!==g&&(h=g),this.model.set({Url:d,typeText:h})}}),e=a.ItemView.extend({tagName:"ul",className:"remindme_time_tip",template:b["common/remindme-widget/remindme-time-picker"],defaults:[{value:.25,text:"15分钟后"},{value:.5,text:"30分钟后"},{value:.75,text:"45分钟后"},{value:1,text:"1小时后"},{value:2,text:"2小时后"},{value:3,text:"3小时后"},{value:6,text:"6小时后"},{value:12,text:"12小时后"},{value:24,text:"24小时后"},{value:48,text:"2天后"},{value:72,text:"3天后"},{value:168,text:"1周后"},{value:336,text:"2周后"}],events:{"click  li":"onDateSelect"},modelEvents:{"change:isSyc":"render"},templateHelpers:function(){var b=this.model.get("isSyc"),c=b?[{value:-1,text:"今日不再"},{value:-2,text:"永远不再"}]:[{value:-2,text:"不再"}],d=a._.clone(this.defaults);return{data:c.concat(d)}},initialize:function(){var a=this;$(document).off("mousedown.dataPicker"),$(document).on("mousedown.dataPicker",function(){a.$el.hide()}),this.$el.off("mousedown.dataPicker"),this.$el.on("mousedown.dataPicker",function(a){a.stopPropagation()})},onDateSelect:function(b){b.stopPropagation(),this.$el.hide();var c=parseFloat(a.$(b.target).attr("data-id"));-1==c||-2==c?this.trigger("onSelect",c):this.trigger("onSelect",60*c*60*1e3),this.$el.hide()},onClose:function(){this.$el.off("mousedown.dataPicker"),$(document).off("mousedown.dataPicker")}}),f=a.CompositeView.extend({template:b["common/remindme-widget/remindme-widget"],itemView:d,itemViewContainer:".remindme_list_container",className:"remindme_widget_list_container",events:{"click  .btn_remindme_tip":"onAfterChangeShowType","click .btn_remindme_arrow_prev,.btn_remindme_arrow_next":"onAfterChangeIndex","click .btn_remindme_later":"showDataPicker","click .btn_remindme_clear":"onAfterClearRemindTime","click .btn_remindme_later_all":"showDataPicker","click .btn_remindme_clear_all":"onAfterClearAllRemindTime","click .btn_remindme_close":"hideRemindeView"},modelEvents:{"change:showType":"changeStatusType","change:count":"onAfterChangeCount"},itemViewOptions:function(){return{index:this.model.get("index"),count:this.model.get("count"),routerData:this.routerData}},onAfterItemAdded:function(b){var c=this.collection.pluck("Id"),d=a._.indexOf(c,b.model.get("Id"));"one"==this.model.get("showType")&&(b.$el.removeClass("remindme_item_normal"),b.$el.find(".disable").removeClass("disable"),0==this.model.get("index")&&(b.$el.find(".btn_remindme_arrow_prev").attr("status",0),b.$el.find(".btn_remindme_arrow_prev").addClass("disable_btn_remindme_arrow_prev")),this.model.get("index")==this.model.get("count")-1&&(b.$el.find(".btn_remindme_arrow_next").addClass("disable_btn_remindme_arrow_next"),b.$el.find(".btn_remindme_arrow_next").attr("status",0))),"one"!=this.model.get("showType")&&0==d&&b.$el.removeClass("remindme_item_normal").addClass("remindme_item_first"),b.$el.attr("data-id",b.model.get("Id"))},onRender:function(){this.changeStatusType(),this.preventMouseWheel(this.$el.find(".remindme_list_container")),this.onAfterChangeCount()},initialize:function(){this.$el.on("click",function(a){a.stopPropagation()}),this._getRouterData()},_getRouterData:function(){var b=this,c=a.app.request("history:getQueryObject"),d=new a.$.Deferred;return c.done(function(a){b.routerData=a,b.routerData.appid=a.appid?a.appid:1,b.routerData.apptype=a.apptype?a.apptype:1}),d},changeStatusType:function(){"one"==this.model.get("showType")?this.$el.addClass("remindme_widget_list_container_all"):this.$el.removeClass("remindme_widget_list_container_all")},onAfterChangeCount:function(){var a=this.model.get("count");this.$el.removeClass("one_remindme_widget_list_container").removeClass("two_remindme_widget_list_container"),1==a?this.$el.addClass("one_remindme_widget_list_container"):2==a&&this.$el.addClass("two_remindme_widget_list_container"),this.$el.find(".remindme_list_foot_count span").html(this.model.get("count"))},onAfterChangeShowType:function(){var a=this.model.get("showType");a="one"==a?"all":"one",this.trigger("changeRouteData",{showType:a})},onAfterChangeIndex:function(b){var c=a.$(b.target).attr("data-handler");if(0!=a.$(b.target).attr("status")){var d=this.model.get("index");d="prev"==c?d-1:d+1,this.trigger("changeRouteData",{index:d})}},showDataPicker:function(b){var c=this;b.stopPropagation(),this.changTimeId=a.$(b.target).parents("li").attr("data-id");var d=a.$(b.currentTarget).offset(),f=a.$(b.currentTarget).height(),g=d.top+f-parseInt(this.$el.css("top"))+5-a.$(document).scrollTop(),h=d.left-parseInt(this.$el.css("left")),d=a.$(b.currentTarget).offset(),f=a.$(b.currentTarget).height(),g=d.top+f,h=d.left,i=this.$el.offset();g=g-i.top+2,h-=i.left;var j=!1;if(this.changTimeId){var k=this.collection.findWhere({Id:parseInt(this.changTimeId)});j=k.get("IsCyc")}this.datePickerView?(this.datePickerView.model.set("isSyc",j),this.datePickerView.$el.css({top:g,left:h}).show()):(this.datePickerView=new e({model:new a.Model({isSyc:j})}),this.datePickerView.render().$el.css({top:g,left:h}),this.$el.append(this.datePickerView.$el),this.preventMouseWheel(this.datePickerView.$el),this.listenTo(this.datePickerView,"onSelect",this.onAfterChangeRemindTime),this.$el.find(".remindme_list_container").off("mousewheel"),this.$el.find(".remindme_list_container").on("mousewheel",function(){c.datePickerView.$el.hide()}))},preventMouseWheel:function(a){$(a).off("mousewheel.preventDefault"),$(a).on("mousewheel.preventDefault",function(a,b){b>0?this.scrollTop-=30:this.scrollTop+=30,a.preventDefault()})},onAfterChangeRemindTime:function(a){this.changTimeId?-1==a||-2==a?this.trigger("deleteData",{id:this.changTimeId,isOnce:a/-1}):this.trigger("changeData",{id:this.changTimeId,time:a}):(this.trigger("changeData",{time:a}),this.$el.hide())},onAfterClearRemindTime:function(b){var c=a.$(b.target).parents("li").attr("data-id"),d=this.collection.where({Id:parseInt(c)})[0],e=d&&d.get("IsSyc");this.trigger("deleteData",{id:c,isOnce:e?1:2})},onAfterClearAllRemindTime:function(a){this.trigger("deleteData"),this.$el.hide()},hideRemindeView:function(){this.trigger("changeRouteData",{index:0,showType:"one"}),this.$el.hide()},onClose:function(){this.$el.remove()}});return c}),function(){function a(a){this.accid=a.accid||c("sdkUid"),this.token=a.token||c("sdktoken"),this.tenantId=a.tenantId||c("sdkTenantId"),this.appId=a.appId||c("sdkAppId"),this.appKey=a.appKey||c("sdkAppKey"),this.resourceFileUrl=a.resourceFileUrl,b(a)}function b(b){if(!("IMServerAPI"in a)){var d={tenantId:b.tenantId||c("sdkTenantId"),accid:b.accid||c("sdkUid"),appKey:b.appKey||c("sdkAppKey"),resourceFileUrl:b.resourceFileUrl||c("sdkresourceFileUrl"),onError:b.onError||""},e="//webim."+BSGlobal.webPath+"/api/v1/"+d.tenantId+"/"+d.accid+"/webim",f="//www."+BSGlobal.webPath+"/api/";a.resourceFileUrl=d.resourceFileUrl,a.cbLogin=b.callBack,a.onError=d.onError,a.IMServerAPI={data:{appKey:d.appKey},createNormalTeam:e+"/group",createProjectlTeam:e+"/group?",addTeamMembers:e+"/group/adduser?",removeTeamMembers:e+"/group/removeuser?",exitTeam:e+"/group/leaveGroup?",dismissTeam:e+"/group?",getTeamInfo:e+"/group?",searchInfo:f+"v1/"+d.tenantId+"/"+d.accid+"/user?v=1475914753990&filters=",getDepartmentData:f+"v1/"+d.tenantId+"/"+d.accid+"/webim/dept/getall",getUsersByDepartmentId:f+"v1/"+d.tenantId+"/"+d.accid+"/webim/dept/users/get?department_id=",getOnlineUsers:f+"v1/"+d.tenantId+"/"+d.accid+"/webim/user/isonline?userIds=",getWorkMember:f+"v2/"+d.tenantId+"/"+d.accid+"/work/users?workId=",getTaskMember:f+"v2/"+d.tenantId+"/"+d.accid+"/task/TaskInfo?task_id=",checkAuthorizationInvite:f+"v1/"+d.tenantId+"/"+d.accid+"/manage/isAuthorizationInvite",userSelectorGetContact:f+"v1/"+d.tenantId+"/"+d.accid+"/Contact?v="+Date.now(),userSelectorGetSubordinate:f+"v1/"+d.tenantId+"/"+d.accid+"/org/GetMySubordinates?lv=2&type=0",userSelectorGetDepartmentData:f+"v1/"+d.tenantId+"/"+d.accid+"/department/All",userSelectorGetDepartmentUsers:f+"v1/"+d.tenantId+"/"+d.accid+"/webim/dept/users/getall/?department_id=",getEditInfo:f+"v1/"+d.tenantId+"/"+d.accid+"/webim/userprofile/get?to_user_id=",alertGetGroupMembers:f+"v1/"+d.tenantId+"/"+d.accid+"/webim/group/members/get?group_id=",getUserInfoByIds:f+"v1/"+d.tenantId+"/"+d.accid+"/webim/userprofiles/get"}}}function c(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}Date.now||(Date.now=function(){return(new Date).valueOf()}),a.prototype={init:function(){document.cookie="sdkUid="+this.accid,document.cookie="sdktoken="+this.token,document.cookie="sdkAppKey="+this.appKey,document.cookie="sdkTenantId="+this.tenantId,document.cookie="sdkAppId="+this.appId,document.cookie="sdkresourceFileUrl="+this.resourceFileUrl;var b=a.resourceFileUrl+"src/scripts/dist/Web_SDK_Base_v2.4.0.js",c=a.resourceFileUrl+"src/scripts/dist/Web_SDK_NIM_v2.4.0.js",d=a.resourceFileUrl+"src/scripts/dist/main.min_v1.2.7.js";require([b],function(){require([c],function(){require([d],function(){function b(a){$(".im-box .im-wrapper").css({height:a-40}),$("#j-chatContent").css({height:a-237}),$("#j-rightPanel").css({height:a-40}),$(".friends").css({height:a-165})}var c=document.createElement("div"),d=document.getElementsByTagName("body")[0];c.className="im-box",c.innerHTML=a.htmlFile.HTML,d.appendChild(c),a.util.addCssByLink(a.resourceFileUrl+"src/styles/css/index_v1.2.7.css"),function(){var a=$(window).height();b(a)}(),window.onresize=function(){var a=$(window).height();b(a)},a.yunXin.init()})})})},popupPanel:function(){a.yunXin.showIMbox()},popupProjectPanel:function(b){a.yunXin.onClickWorkIcon(b)},popupTaskPanel:function(b){a.yunXin.onClickTaskIcon(b)},newChatPanel:function(b){a.yunXin.openChatBox(b.id,b.type)},checkLoginStatus:function(){return a.isLogin},getPanelState:function(){return a.panelState||0}},window.beisenWebim=a,"undefined"!=typeof module&&"object"==typeof exports?module.exports=a:"function"==typeof define&&(define.amd||define.cmd)?define("webim",[],function(){return a}):this.beisenWebim=a}.call(function(){return this||("undefined"!=typeof window?window:global)}),define("templates/daily",[],function(){return this.JST=this.JST||{},this.JST["daily/daily-completion"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="tu-daily-container">\n	',"personal"==routerData.type?(__p+='\n		<div class="title_dc">\n			'+(null==(__t=name)?"":__t)+"\n		</div>\n		",wirteEnable?__p+='\n			<button type="button" class="tu-btn tu-btn-small tu-btn-sure daily-action-btn" data-name="daily-write">\n				写'+(null==(__t=dailyStyle)?"":__t)+"\n			</button>\n			":editEnable?__p+='\n				<button type="button" class="tu-btn tu-btn-small tu-btn-sure daily-action-btn" data-name="daily-edit">\n					编辑'+(null==(__t=dailyStyle)?"":__t)+"\n				</button>\n				":remindEnable?__p+='\n					<button type="button" class="tu-btn tu-btn-small tu-btn-sure daily-action-btn" data-name="daily-remind">\n						提醒ta写'+(null==(__t=dailyStyle)?"":__t)+"\n					</button>\n					":evaluateEnable&&(__p+='\n						<button type="button" class="tu-btn tu-btn-small tu-btn-sure daily-action-btn" data-name="daily-evaluate">\n							评价'+(null==(__t=dailyStyle)?"":__t)+"\n						</button>\n						"),__p+="\n							"):(__p+='\n								<div class="title_dc">\n									'+(null==(__t=dailyName)?"":__t)+"\n								</div>\n								",routerData.isMySelf&&isHaveSubordinates&&_.findWhere(submitStatistics,{submitState:3}).teamDaily.length>0&&(__p+='\n									<button type="button" class="tu-btn tu-btn-small tu-btn-sure daily-action-btn" data-name="daily-remind">\n										提醒大家写'+(null==(__t=dailyStyle)?"":__t)+"\n									</button>\n									"),__p+='\n										<div data-name="group-member-container">\n											<div data-name="group-member" class="tu-table list_gms"></div>\n										</div>\n										'),__p+='\n											<div class="daily-feed-container" data-name="daily-feed-container">\n												<div class="today－feed-situation" data-name="today-feed-container" />\n											</div>\n\n</div>';return __p},this.JST["daily/daily-group-member-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)_.each(teamDaily,function(a,b){__p+="\n";var c=a.user,d=a.userDaily;__p+='\n<tr>\n	<td class="daily-col1">'+(null==(__t=_.convertImage({className:"",src:c.avatar.small,size:30,shape:"radius",name:c.name,bgColor:c.avatar.color}))?"":__t)+"\n	"+(null==(__t=_.substringWithM(c.name,8,!0))?"":__t)+'\n	</td>\n	<td class="daily-col2">\n		',2==submitState&&(__p+='\n		<span class="purple">\n			'+(null==(__t=d.dailySubmit.submitContent)?"":__t)+"\n		</span>\n		"),__p+='\n	</td>\n	<td class="daily-col3">\n		',d.evaluation?__p+='\n			<div data-name="eidt-evaluation" data-id="'+(null==(__t=d.dailyId)?"":__t)+'">'+(null==(__t=_.evaluation(d.evaluation))?"":__t)+"</div>\n		":(__p+="\n			",d.evaluationEnable?(__p+="\n				",__p+=3==submitState?'\n					<a href="javascript:void(0);" data-id="'+(null==(__t=c.userId)?"":__t)+'" data-name="send-item-message">\n						提醒ta写'+(null==(__t=dailyName)?"":__t)+"\n					</a>\n				":'\n					<a href="javascript:void(0);" data-id="'+(null==(__t=d.dailyId)?"":__t)+'"  data-name="go-evaluation">去评价</a>\n				',__p+="\n			"):__p+="\n			\n			",__p+="\n		"),__p+=" \n	</td>\n</tr>\n"});return __p},this.JST["daily/daily-sidebar-top"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)"personal"==routerData.type?(__p+='\n<div class="_tt_selectyearplan">\n	<a href="'+(null==(__t=Talent.Context.getUserUrl(user.userId))?"":__t)+'" class="avatar_ttsyp" title="'+(null==(__t=user.name)?"":__t)+'">\n		',__p+="undefined"!=typeof user.avatar&&user.avatar.hasAvatar===!1?"\n			"+(null==(__t=_.convertImage({className:"",src:"qqq",size:50,shape:"radius",name:user.name,bgColor:user.avatar.color}))?"":__t)+"\n		":'\n			<img class="radius_img50" src="'+(null==(__t=user.avatar.medium)?"":__t)+'" width="50" height="50">\n		',__p+='\n	</a>\n	<div class="wrap">  \n		<a class="name_ttsyp" href="'+(null==(__t=Talent.Context.getUserUrl(user.userId))?"":__t)+'">'+(null==(__t=user.name)?"":__t)+'</a>\n		<span class="department_ttsyp">'+(null==(__t=user.department)?"":__t)+"</span>\n		\n    </div>	\n</div>\n	",routerData.to_user_id==userInfo.Id&&(__p+='\n		<a class="myAllTasks tu-font-a2 tu-db" href="'+(null==(__t=allDailyUrl)?"":__t)+'" target="_blank">全部总结</a>\n	'),__p+="\n"):__p+='\n<div class="tt_side_subnav_group">\n	<span class="ico_ssg"></span>\n	<div class="text_ssg">'+(null==(__t=teamName)?"":__t)+"</div>\n</div>\n",__p+="\n\n";return __p},this.JST["daily/daily-sidebar"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="tt_side_subnav_wrap">\r\n	<!-- ',"personal"==routerData.type&&(__p+='\r\n	<div class="subtab_ssw">\r\n		',isShowPlan&&(__p+='\r\n		<li><a href="#plan?to_user_id='+(null==(__t=routerData.to_user_id)?"":__t)+'" title=""><span>'+(null==(__t=i18n.plan_1)?"":__t)+"</span></a></li>\r\n		"),__p+='\r\n		<li class="active"><a href="#daily?to_user_id='+(null==(__t=routerData.to_user_id)?"":__t)+'" title=""><span>总结</span></a></li>\r\n	</div>\r\n	'),
__p+=" -->\r\n	",groupDatas.length&&(__p+='\r\n	<div class="year_ssw daily-sidebar-year" data-name="year-list">\r\n		<a href="javascript:void(0)" class="dropdown-toggle" data-name="change-group"><span>'+(null==(__t=routerData.group_name)?"":__t)+'</span><b class="tu-icon-sort-down"></b></a>\r\n		<ul class="dropdown_ssw" data-name=\'group-list\'>\r\n			',_.each(groupDatas,function(a){__p+='\r\n			<li><a href="#daily?group_id='+(null==(__t=a.GroupId)?"":__t)+"&to_user_id="+(null==(__t=routerData.to_user_id)?"":__t)+"&iTalentNavCode=tita-daily&type="+(null==(__t=routerData.type)?"":__t)+'" title="" groupid="'+(null==(__t=a.GroupId)?"":__t)+'">'+(null==(__t=a.GroupName)?"":__t)+"</a></li>\r\n			"}),__p+="\r\n		</ul>\r\n	</div>\r\n	"),__p+='\r\n	<ul class="_tt_side_subnav" data-name="side-bar-nav">			\r\n		',_.each(navData,function(a){__p+="\r\n				\r\n				<li ",a.Active&&(__p+='class="active"'),__p+='>\r\n					<a data-trigger="false" href="#daily?to_user_id='+(null==(__t=routerData.to_user_id)?"":__t)+"&group_id="+(null==(__t=routerData.group_id)?"":__t)+"&tag_type="+(null==(__t=a.TagType)?"":__t)+"&date="+(null==(__t=a.Date)?"":__t)+"&tag_id="+(null==(__t=a.TagId)?"":__t)+'">'+(null==(__t=a.TagName)?"":__t)+"</a>			\r\n				</li>\r\n				\r\n		"}),__p+="\r\n	</ul>\r\n</div>";return __p},this.JST["daily/daily-tab-main"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="tu-nav-tabs tu-cf">\n	<li class="item-tab my-tab '+(null==(__t="personal"==routerData.type?"active":"")?"":__t)+'">\n		<a data-name="type" data-type=\'personal\'><span class="ico-tab tu-icon-assigner">'+(null==(__t=routerData.isMySelf?"我":_.substringWithM(user.name,8,!0))?"":__t)+"的总结</span></a>\n	</li>\n	","share"!=routerData.viewName&&(__p+='\n		<li class="item-tab sub-tab '+(null==(__t="personal"==routerData.type?"":"active")?"":__t)+'">\n			<a data-name="type" data-type=\'group\'><span class="ico-tab tu-icon-two-people">'+(null==(__t=routerData.isMySelf?"":_.substringWithM(user.name,8,!0)+"的")?"":__t)+"下属总结</span></a>\n		</li>\n	"),__p+='\n</ul>\n<div class="tu-nav-content"></div>\n<div class="konw-container dropDown__extra">\n	<a class="iconBtn iconBtn__blue tu-mr-10" href="javascript:void(0)" data-name="manage-list-handler"><i class="tu-icon-command iconBtn__icon"></i>管理下属</a>\n	',routerData.isMySelf&&(__p+='\n		<a class="iconBtn iconBtn__green tu-mr-10" href="javascript:void(0)" data-name="superior-rules"><i class="tu-icon-rules iconBtn__icon"></i>上级规定</a>\n	'),__p+="\n	",isShowAdminSetting&&(__p+='\n		<a class="tu-btn tu-btn-mini tu-icon-setting daily-admin-setting tu-vam tu-mr-10" data-body="总结管理员设置" href="'+(null==(__t=adminSetUrl)?"":__t)+'" target="_blank"></a>\n	'),__p+='\n	<a class="know-daily tu-vam" data-name="know-daily">\n		<i class="tu-icon-bulb all-entrance__icon"></i>\n		<span class="tu-icon-bulb-text">了解总结</span>\n	</a>\n	<div class="tu-dropdown" data-name="manage-list">\n		<ul class="tu-dropdown-menu">\n			<a href="javascript:void(0)" data-name="remind-users" class="menuItem-a" data-type="1"><li class="tu-menuitem"><i class="tu-icon-bell settings_icon"></i>提醒下属写日报</li></a>\n			<a href="javascript:void(0)"  class="menuItem-a" data-name="remind-users" data-type="2"><li class="tu-menuitem"><i class="tu-icon-bell settings_icon"></i>提醒下属写周报</li></a>\n			<a href="javascript:void(0)" class="menuItem-a" data-name="remind-users" data-type="3"><li class="tu-menuitem"><i class="tu-icon-bell settings_icon"></i>提醒下属写月报</li></a>\n			<a href="'+(null==(__t=subordinateUrl)?"":__t)+'" target="_blank" class="menuItem-a"><li class="tu-menuitem"><i class="tu-icon-peoplesetting settings_icon"></i>设置下属</li></a>\n			<a href="'+(null==(__t=dailySettingUrl)?"":__t)+'" target="_blank" class="menuItem-a"><li class="tu-pt-15 tu-pb-15"><i class="tu-icon-setting settings_icon"></i>总结规定设置</li></a>\n		</ul>\n	</div>\n</div>\n';return __p},this.JST["daily/daily-tab-minor"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='\n	<ul class="tu-nav-tabs" data-name="daily-tab">\n		<li class="item-tab '+(null==(__t=1==routerData.dailyType?"active":"")?"":__t)+'" data-type="1">\n			<a href="javascript:void(0)">日报</a>\n		</li>\n		<li class="item-tab '+(null==(__t=2==routerData.dailyType?"active":"")?"":__t)+'" data-type="2">\n			<a href="javascript:void(0)">周报</a>\n		</li>\n		<li class="item-tab '+(null==(__t=3==routerData.dailyType?"active":"")?"":__t)+'" data-type="3">\n			<a href="javascript:void(0)">月报</a>\n		</li>\n	</ul>\n	<div class="daily-btn-container">\n	\n<!-- 		<button type="button" class="tu-btn tu-btn-mini" data-name="">统计与导出</button> -->\n		\n	</div>\n	<div class="tu-nav-content">\n	</div>';return __p},this.JST["daily/daily-today-submit-situation"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='	<button type="button" class="tu-btn tu-btn-larger tu-btn-sure" data-name="edit-daily">写日报</button>\n	<dt>个人提交情况</dt>\n	<dd>\n		<p>\n			',daily_submit?(__p+="\n				",__p+=3==daily_submit.submit_type?'\n					<span class="icon-dialog-closed-warn icon_dc"></span>\n				':2==daily_submit.submit_type?'\n					<span class="icon-right-delay icon_dc"></span>\n				':'\n					<span class="icon-right icon_dc"></span>\n				',__p+='\n				<span class="status_dc">'+(null==(__t=daily_submit.submit_content)?"":__t)+"</span>\n				<span>"+(null==(__t=daily_submit.submit_date)?"":__t)+"</span>\n			"):__p+='\n				<span class="icon-dialog-closed-warn icon_dc"></span><span class="status_dc">未提交</span>\n			',__p+="\n		</p>\n		",evaluation?(__p+='\n			<div class="evaluation_dc ',evaluation_enable&&(__p+="point_dc"),__p+='" ',evaluation_enable&&(__p+='data-name="personal-edit-evaluation" id="'+(null==(__t=daily_Id)?"":__t)+'" '),__p+=" ><span>评价：</span>\n				"+(null==(__t=_.evaluation(evaluation))?"":__t)+"</div>\n		"):(__p+='\n			<div class="evaluation_dc">\n				',__p+=evaluation_enable?'\n				<a href="javascript:void(0);" id="'+(null==(__t=daily_Id)?"":__t)+'" data-name="personal-do-evaluation">去评价</a>\n				':"\n				评价：暂无\n				",__p+="\n			</div>\n		"),__p+="\n	</dd>\n";return __p},this.JST["daily/detail/detail-base"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="daily-abstract-container">\n	<h3>'+(null==(__t=dailyName)?"":__t)+'</h3>\n	<span class="daily-title-span tu-font-a2">'+(null==(__t=_.substringWithM(Publisher.Name,12,!0))?"":__t)+"&nbsp;&nbsp;撰写于&nbsp;&nbsp;"+(null==(__t=submitDate)?"":__t)+'&nbsp;&nbsp;|&nbsp;&nbsp;<i class="tu-icon-lock"></i>&nbsp;',2!=visibility||objId?2==visibility&&objId?__p+="仅我的部门可见":1==visibility&&(__p+="所有人可见"):__p+="私密",__p+=' </span>\n	<div class="daily-status-right">\n		<span class="status_tfb icon-daily-submit-status-'+(null==(__t=submitType)?"":__t)+'"></span>\n	</div>\n	<div class="daily-tag-container" data-name="daily-tag-container"> \n		<span class="tag-title daily-title-span">标签</span>\n		<div data-name=\'tag-content\' class="daily-tag-content"></div>\n	</div>\n</div>';return __p},this.JST["daily/detail/detail-feed"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="daily-feed-title container-title">\r\n	<h4 class="tu-icon-talk">沟通</h4>\r\n</div>\r\n<div class="daily-feed-content" data-name="comment-list">\r\n	<div class="loadfeed">\r\n		<div class="img_loadfed">\r\n			<span>tita努力加载中...</span>\r\n		</div>\r\n	</div>\r\n</div>';return __p},this.JST["daily/detail/detail-index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div data-name=\'top-bar\' class="container-title tu-clearfix"></div>\n<div data-name="container" class="tu-container-content">\n	<div class="daily-content">\n		<div class="container-title container-title-abstract" data-name="base-info">\n			\n		</div>\n		<div data-name="evaluation-daily"></div>\n		<div class="detial-info" data-name="info"></div>\n		<div data-name="reward" style="margin:0 10px 0 10px;"></div>\n		<div data-name="feed" class="daily-feed"></div>\n		<div class="daily-operation" data-name="daily-operation">\n		</div>	\n	</div>\n</div>\n';return __p},this.JST["daily/detail/detail-info"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\r\n\r\n<div class="daily-jobOverview-innner" data-name="daily-work-scan">\r\n	\r\n</div>\r\n',isShowSummary&&(__p+='\r\n<div class="daily-summary-innner daily-border" data-name="daily-summary">\r\n	<div class="title tu-font-h4">总结与障碍</div>\r\n	<div class="content editor-style">'+(null==(__t=content)?"":__t)+"</div>\r\n</div>\r\n"),__p+="\r\n",isShowNext&&(__p+='\r\n<div class="daily-next-innner daily-border" data-name="daily-next">\r\n	<div class="title tu-font-h4">下一步工作安排</div>\r\n	<div class="content editor-style">'+(null==(__t=workPlan)?"":__t)+"</div>\r\n</div>\r\n"),__p+='\r\n\r\n<div class="detial-upload" data-name="attachment">\r\n	<div class="upload-title tu-clearfix">\r\n		<span class="detial-title-upload">上传附件</span>\r\n		',routerData.isMySelf&&(__p+='\r\n		<div class="uploader_container" data-name="task-detail-attachment-button"></div>\r\n		'),__p+='\r\n	</div>\r\n\r\n	<div class="attachments-container">\r\n		<div data-name="task-detail-attachment-list"></div>\r\n	</div>\r\n	<div id="attachmentViewBox_homeMblog" class="error_container"></div>\r\n	<div id="attachmentViewBox_homeMblog" class="loading_container"></div>\r\n\r\n</div>\r\n\r\n<div class="detial-remind" data-name="remind-others"></div>\r\n\r\n\r\n\r\n\r\n\r\n';return __p},this.JST["daily/detail/detail-operation-note"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="daily-operation-title container-title">\n	<h4 class="tu-icon-wenjian">操作记录</h4>\n</div>\n<div data-name="daily-operate-content" class="project_detail_content project_detail_content_notop">\n</div>';return __p},this.JST["daily/detail/detail-topbar"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n		<ul class="daily-action ',isShowClosed||(__p+="daily-action-hideclose"),__p+='">\n		',editable&&routerData.isMySelf&&(__p+='\n			<li class="action-item tu-icon-edit" data-body="编辑'+(null==(__t=dailyName)?"":__t)+'"  data-name="edit"></li>\n		'),__p+='\n			<li class="action-item tu-icon-tag" data-body="添加标签" data-name="addTag"></li>\n		',routerData.isMySelf&&(__p+="\n			",DailyRemind&&(__p+='\n				<li class="action-item tu-icon-at" data-body="@ta查看" data-name="atSee"></li>\n			'),__p+='\n			<li class="action-item tu-icon-cus-fujian" data-body="上传附件" data-name="addFujian"></li>\n			<li class="action-item tu-icon-delete"  data-name="delete"></li>\n		'),__p+="\n		</ul>";return __p},this.JST["daily/detail/detial-remind-others-item"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="undefined"!=typeof type&&"department"==type?"\n	"+(null==(__t=_.convertImage({className:"radius_img30",src:"",size:30,shape:"radius",name:name,bgColor:"#7890BD"}))?"":__t)+"\n	 \n":"\n	"+(null==(__t=_.convertImage({className:"radius_img30",src:avatar.Small,size:30,shape:"radius",name:name,bgColor:avatar.Color}))?"":__t)+"\n";return __p},this.JST["daily/detail/detial-remind-others"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)DailyRemind&&(__p+='\n	<dt class="detial-title-at tu-font-a1">@ ta查看</dt>\n\n<dd class="remind-containter tu-scroll">\n	',routerData.isMySelf&&(__p+='\n		<div  class="add-others tu-font-a2" data-name="add-others">添加</div>\n	'),__p+='\n	<ul class="staffs-containter">\n		\n	</ul>\n</dd>\n'),__p+="\n\n";return __p},this.JST["daily/highlight-date"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="highlightDate">\r\n	<div class="date_hd" data-name="date-picker"></div>\r\n	<div class="remark">\r\n		<h2 data-name="title">'+(null==(__t=title)?"":__t)+'</h2>\r\n		<div class="statics">\r\n			',_.each(labels,function(a,b){__p+="\r\n				",__p+=0==b?'\r\n				<span class="comStyle borderAll"></span>\r\n				':1==b?'\r\n				<span class="comStyle borderIn"></span>\r\n				':'\r\n				<span class="comStyle borderPart"></span>\r\n				',__p+="\r\n				<span>"+(null==(__t=a)?"":__t)+"</span>\r\n			"}),__p+="\r\n			\r\n		</div>\r\n	</div>\r\n</div>";return __p},this.JST["daily/index-page"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<!-- <div class="tu-row-fuild" data-name="daily-box" style="display:none"> -->\n	<!-- side sub nav -->\n	<div class="tu-col-2 _tt_layout_tabnav" data-tu-submenu="tu-submenu">\n		<div data-name="side-bar-user-info" class="tt_side_subnav_userinfo"></div>\n		<div data-name="side-bar-nav"></div>\n	</div>\n	<!-- side sub nav end -->\n	<div class="tu-col-14" data-name="container">\n\n		<div class="daily-container">\n		<!-- 	<div class="_tt_loading_m">努力加载中…</div>\n -->\n 				<div data-name="datepicker-statistics" class="date_dt"></div>\n 				<div data-name="daily-tab-main" class="tu-tabbable-mg tabbable-line-daily"></div>\n 				<div data-name="daily-tab-minor" class="tu-tabbable-custom tabbable-custom-daily"/>\n				<div data-name="completion" class="basic_dt"></div>\n				<div class="all-feed-container">\n					<div  data-name="all-feed-container" class="all-feed-list-container" />	\n				</div>\n				\n\n		</div>\n\n	<div class="tt_daily_detail_container" data-name="detail-container"></div>\n<!-- </div> -->\n';return __p},this.JST}),define("views/common/edit-daily/edit-content-view",["talent","templates/common","$.infotip","TitaWidget"],function(a,b,c){return a.ItemView.extend({template:b["common/edit-daily/edit-content"],className:"tt-edit-area",defaults:{menus:["bold","forecolor","img","quote","fontfamily","fontsize","|","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","eraser","table","|","undo","redo"],menusUI:{"default":{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="wangeditor-menu-img-command"></i></a>',selected:".selected"},bold:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-bold"></i></a>',selected:".selected"},underline:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-underline"></i></a>',selected:".selected"},italic:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-italic"></i></a>',selected:".selected"},forecolor:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-font-color"></i></a>',selected:".selected"},bgcolor:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-backgroundcolor"></i></a>',selected:".selected"},strikethrough:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-strickout"></i></a>',selected:".selected"},eraser:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-clear-style"></i></a>',selected:".selected"},quote:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-quote"></i></a>',selected:".selected"},fontfamily:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-font"></i></a>',selected:".selected"},fontsize:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-font-size"></i></a>',selected:".selected"},head:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-headline"></i></a>',selected:".selected"},orderlist:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-project-number"></i></a>',selected:".selected"},unorderlist:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-project-list"></i></a>',selected:".selected"},alignleft:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-flush-left"></i></a>',selected:".selected"},aligncenter:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-flush-center"></i></a>',selected:".selected"},alignright:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-flush-right"></i></a>',selected:".selected"},link:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-link"></i></a>',selected:".selected"},unlink:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-unlink"></i></a>',selected:".selected"},img:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-picture"></i></a>',selected:".selected"},undo:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-back"></i></a>',selected:".selected"},redo:{normal:'<a href="javascript:void(0)" tabindex="-1"><i class="tu-icon-cancle"></i></a>',selected:".selected"},table:{normal:'<a href="#" tabindex="-1"><i class="tu-icon-form"></i></a>',selected:".selected"}},customUpload:!0},initialize:function(){this.isFullScreen=!1,this.scrollTopWhenFullScreen,this.userInfoId=a.Context.getUserInfo().Id},ui:{fullScreen:"[data-name=full-screen]",contentError:".editorsummary-containter [data-name=error-tip]",workPlanError:".editorplan-containter [data-name=error-tip]"},events:function(){var a={};return a["click "+this.ui.fullScreen]="_screenHandler",a},onRender:function(){var b=a.$("body").find(".modal-content");if(this.$el.find("[data-toggle=infotip]").infotip({type:"default",placement:"top",align:"right",container:b,widthlimit:"500"}),this.isIE()){var c=_.indexOf(this.defaults.menus,"img");this.defaults.menus.splice(c,1),this.defaults.customUpload=!1}},onShow:function(){var a=this.$el.find("#edit-summary"),b=this.$el.find("#edit-plan"),c=this;this.editorsummary=new wangEditor(a),this.editorplan=new wangEditor(b),this._initialConfig("editorsummary"),this._initialConfig("editorplan"),this.editorplan.config.placeholder="下一步工作计划是什么？如何更好的完成计划？",this.editorsummary.config.placeholder="完成了哪些工作，遇到了什么障碍么？你是如何解决的，希望得到什么帮助？",this.editorplan.config.containerId="edit-plan",this.editorsummary.config.containerId="edit-summary",this.editorsummary.onchange=function(){c.model.set("edited",!0),c._onchangeHandler("editorsummary","content")},this.editorplan.onchange=function(){c.model.set("edited",!0),c._onchangeHandler("editorplan","workPlan")},this.editorsummary.create(),this.editorplan.create(),this.editorsummary.restoreSelection(),this.editorsummary.$editorContainer.css("z-index",2),this.editorplan.$editorContainer.css("z-index",1);var d=$.trim(this.editorsummary.$txt.text()),e=$.trim(this.editorplan.$txt.text());this.model.set("workPlanOnlyText",e,{silent:!0}),this.model.set("contentOnlyText",d,{silent:!0}),this.model.get("workPlanOnlyText")&&this.model.get("workPlanOnlyText").length>4e3&&(this.ui.workPlanError.find("[data-name=extraWords]").text(this.model.get("workPlanOnlyText").length),this.ui.workPlanError.show()),this.model.get("contentOnlyText")&&this.model.get("contentOnlyText").length>4e3&&(this.ui.contentError.find("[data-name=extraWords]").text(this.model.get("contentOnlyText").length),this.ui.contentError.show())},isIE:function(){var a=navigator.userAgent,b="MSIE",c=a.indexOf(b),d=!1;if(c>=0){var e=Number(a.substr(c+b.length));d=e>9?!1:!0}return d},_initialConfig:function(b){var b=this[b];a.Context.getApiUrl("Upload/PostFiles");b.config.printLog=!1,b.UI.menus=this.defaults.menusUI,b.config.menus=this.defaults.menus,b.config.customUpload=this.defaults.customUpload,b.config.hideLinkImg=!0,b.config.height=214,b.config.maxHeight=460},_onchangeHandler:function(b,c){var d=this[b].$txt.text(),d=$.trim(d),e=this[b].$txt.html(),f=this[b].$parent.parents("."+b+"-containter").find("[data-name=error-tip]"),g=a.Context.localStorage(),h=(new Date).getTime(),i=this.model.get("reportType");this.model.set(c+"OnlyText",_.escape(d)),e=e.replace(/^(\<p\>\<br\>\<\/p\>)/i,""),this.model.set(c,e),g.set("dailyStorage_"+this.userInfoId+"_"+i,{__setTime:h,date:this.model.get("date"),content:this.model.get("content"),workPlan:this.model.get("workPlan"),contentOnlyText:this.model.get("contentOnlyText"),workPlanOnlyText:this.model.get("workPlanOnlyText")}),d.replace(/\s/g,"").length>4e3?(f.show(),f.find("[data-name=extraWords]").text(d.replace(/\s/g,"").length)):f.hide()},_screenHandler:function(b){var c=a.$(b.currentTarget).data("type"),d=a.$(b.currentTarget);this.isFullScreen?(d.attr("data-body","写的不爽？点击全屏填写"),d.removeClass("tu-icon-shrink").addClass("tu-icon-enlarge"),this._normalScreen(c)):(d.attr("data-body","收起"),d.removeClass("tu-icon-enlarge").addClass("tu-icon-shrink"),this._fullScreen(c))},_fullScreen:function(a){var b,c=this[a],d=c.txt.$txt;c.$editorContainer;this.scrollTopWhenFullScreen=$("body").find(".body-modal").scrollTop(),$("body").find(".body-modal").scrollTop(0),$("body").find(".body-modal").css("overflow","hidden"),$("."+a+"-containter").addClass("editor-full");var e,f=d.height(),g=d.outerHeight();b=d.css("max-height"),d.css("max-height","none"),d.css("overflow-y","auto"),e=d.parent(),e.css("max-height","none"),e.css("overflow-y","auto");var h=c.menuContainer,i=$("body").find(".body-modal").scrollTop()+$("body").find(".body-modal").height();d.height(i-40-h.height()-(g-f)-45),c.menuContainer.$menuContainer.attr("style",""),this.isFullScreen=!0},_normalScreen:function(a){var b=this[a],c=b.txt.$txt,d=b.$placeholder;b.$editorContainer;$("."+a+"-containter").removeClass("editor-full"),$("body").find(".body-modal").css("overflow","auto"),c.css({"max-height":"414px",height:"174px"}),window.getComputedStyle&&"max-height"in window.getComputedStyle(c.get(0))&&($wrapper=c.parent(),$wrapper.after(c),$wrapper.remove()),b.txt.initHeight(),d.appendTo(b.$valueContainer.parent()),this.isFullScreen=!1,null!=this.scrollTopWhenFullScreen&&$("body").find(".body-modal").scrollTop(this.scrollTopWhenFullScreen)}})}),function(a){"function"==typeof define&&define.amd?define("$.autoresize",["jquery"],a):a(window.jQuery||window.$)}(function(a){var b,c={className:"autosizejs",append:"",callback:!1,resizeDelay:10},d='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',e=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],f=a(d).data("autosize",!0)[0];f.style.lineHeight="99px","99px"===a(f).css("lineHeight")&&e.push("lineHeight"),f.style.lineHeight="",a.fn.autosize=function(d){return d=a.extend({},c,d||{}),f.parentNode!==document.body&&a(document.body).append(f),this.each(function(){function c(){var c,g={};if(b=l,f.className=d.className,i=parseInt(m.css("maxHeight"),10),a.each(e,function(a,b){g[b]=m.css(b)}),a(f).css(g),"oninput"in l){var h=l.style.width;l.style.width="0px",c=l.offsetWidth,l.style.width=h}}function g(){var e,g,h,k;b!==l&&c(),f.value=l.value+d.append,f.style.overflowY=l.style.overflowY,g=parseInt(l.style.height,10),"getComputedStyle"in window?(k=window.getComputedStyle(l),h=l.getBoundingClientRect().width,a.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(a,b){h-=parseInt(k[b],10)}),f.style.width=h+"px"):f.style.width=Math.max(m.width(),0)+"px",f.scrollTop=0,f.scrollTop=9e4,e=f.scrollTop,i&&e>i?(l.style.overflowY="scroll",e=i):(l.style.overflowY="hidden",j>e&&(e=j)),e+=n,g!==e&&(l.style.height=e+"px",o&&d.callback.call(l,l))}function h(){clearTimeout(k),k=setTimeout(function(){m.width()!==q&&g()},parseInt(d.resizeDelay,10))}var i,j,k,l=this,m=a(l),n=0,o=a.isFunction(d.callback),p={height:l.style.height,overflow:l.style.overflow,overflowY:l.style.overflowY,wordWrap:l.style.wordWrap,resize:l.style.resize},q=m.width();m.data("autosize")||(m.data("autosize",!0),("border-box"===m.css("box-sizing")||"border-box"===m.css("-moz-box-sizing")||"border-box"===m.css("-webkit-box-sizing"))&&(n=m.outerHeight()-m.height()),j=Math.max(parseInt(m.css("minHeight"),10)-n||0,m.height()),m.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===m.css("resize")||"vertical"===m.css("resize")?"none":"horizontal"}),"onpropertychange"in l?"oninput"in l?m.on("input.autosize keyup.autosize",g):m.on("propertychange.autosize",function(){"value"===event.propertyName&&g()}):m.on("input.autosize",g),d.resizeDelay!==!1&&a(window).on("resize.autosize",h),m.on("autosize.resize",g),m.on("autosize.resizeIncludeStyle",function(){b=null,g()}),m.on("autosize.destroy",function(){b=null,clearTimeout(k),a(window).off("resize",h),m.off("autosize").off(".autosize").css(p).removeData("autosize")}),g())})}}),define("views/common/input-handler",["talent","$.autoresize"],function(a,b){return a.ItemView.extend({template:_.template(),defaults:{containter:"",data:[{type:"input",dataName:"",regularExpression:"",maxWord:"",events:[{eventName:"input",callBack:function(){}}]}]},events:function(){for(var b=this.settings.data,c=b.length,d=this,e={},f=0;c>f;f++)("input"===b[f].type||"textarea"===b[f].type)&&(e["input [data-name="+b[f].dataName+"]"]="_inputDeal",e["keyup [data-name="+b[f].dataName+"]"]="_inputDeal",e["focus [data-name="+b[f].dataName+"]"]="_focusDeal",e["blur [data-name="+b[f].dataName+"]"]="_blurDeal"),a._.each(b[f].events,function(a,c){var g=(new Date).getTime(),h=parseInt(100*Math.random(),10);callBackName="callBack_"+g+"_"+h,e[a.eventName+" [data-name="+b[f].dataName+"]"]=callBackName,d[callBackName]=a.callBack});return e["click [data-name=delAll]"]="_delAll",e},initialize:function(b){var c=this;if(this.settings=a._.extend({},this.defaults,b),this.$el=this.settings.containter,this.model=new a.Model,this.valueChecked={},a._.each(this.settings.inputVerify,function(a){c.valueChecked[a.inputId+"Checked"]=!0}),this.model.set("valueChecked",this.valueChecked),this.model.set("inputData",{}),a._.findWhere(this.settings.data,{type:"input"})){var c=this,d=a._.findWhere(this.settings.data,{type:"input"}).dataName;this.propertychange_val="",this.$el.find("[data-name = "+d+"]").bind("propertychange",function(a){c._inputDeal(a,c)});var e=this.$el.find("[data-name = "+d+"]");e.val()&&(e.parent().find('[data-name="placeholder"]').hide(),e.parent().find('[data-name="delAll"]').show())}a._.each(this.settings.data,function(a){"textarea"==a.type&&(c.$el.find("[data-name="+a.dataName+"]").css("maxHeight","120px"),c.$el.find("[data-name="+a.dataName+"]").css("resize","none"),c.$el.find("[data-name="+a.dataName+"]").autosize())})},_focusDeal:function(b){var c=a.$(b.currentTarget);c.parent().hasClass("tu-input-error")||this._inputState("focus",c.parent())},_blurDeal:function(b){var c=a.$(b.currentTarget),d=c.parent(),e=c.data("id"),f=a._.findWhere(this.settings.inputVerify,{inputId:e}),g=c.val(),h=!0,i=!0,j=this,k={inputId:e,value:g};f&&f.blurRExpression&&(h=this.regularChecked(c,f.blurRExpression),k.blurChecked=h,this.valueChecked[e+"Checked"]=h,k.blurChecked=h),f&&f.emptyErrorTip&&!g&&(i=!1,this.valueChecked[e+"Checked"]=i,k.emptyChecked=i);var l=function(){d.hasClass("tu-input-error")||(j._inputState("default",d),f&&f.blurRExpression&&(h?j._inputState("default",d):(j._errorTip("blur",f,d),j._inputState("error",d))),i||(j._inputState("error",d),j._errorTip("empty",f,d)))};this.settings.particular||l(),this._valueCheckedDeal();var m=this.model.get("inputData");m[e]=g,this.model.set("inputData",m),this.trigger("blurTrriger",k)},_inputDeal:function(b){var c=a.$(b.currentTarget),d=c.parent(),e=c.val(),f=c.data("id"),g=a._.findWhere(this.settings.inputVerify,{inputId:f}),h=!0,i={},j=this,k={inputId:f,value:e};if("propertychange"==b.type){if(e==this.propertychange_val)return;this.propertychange_val=""}j.propertychange_val=e,g&&g.maxWord&&(i=this._valVerify(d,e,g.maxWord),this.valueChecked[f+"Checked"]=i.wordChecked,k.worldVerify=i),g&&g.inputRExpression&&(h=this.regularChecked(c,g.inputRExpression),this.valueChecked[f+"Checked"]=h,k.inputChecked=h),j._emptyDeal(d,e);var l=function(){g&&g.maxWord&&(i.wordChecked?j._inputState("focus",d):j._inputState("error",d)),g&&g.inputRExpression&&(h?j._inputState("focus",d):(j._inputState("error",d),j._errorTip("input",g,d)))};this.settings.particular||l(),this._valueCheckedDeal(),this.trigger("inputTrigger",k)},_delAll:function(b){var c=a.$(b.currentTarget),d=c.parents(".tu-input-default"),e=c.data("id"),f=d.find("[data-id="+e+"]").eq(0),g=f[0].nodeName.toUpperCase(),h=a._.findWhere(this.settings.inputVerify,{inputId:e});this.propertychange_val="","TEXTAREA"==g||"INPUT"==g?f.val(""):d.find("[data-del=container]").html(""),this._inputState("default",d),this._emptyDeal(d,""),this.valueChecked[e+"Checked"]=!0,"TEXTAREA"==g&&f.trigger("input.autosize"),h&&h.emptyErrorTip&&(this._inputState("error",d),this._errorTip("empty",h,d),this.valueChecked[e+"Checked"]=!1),this._valueCheckedDeal(),this.trigger("delAll")},_errorTip:function(a,b,c){var d="";switch(a){case"input":d=b.inputErrorTip;break;case"blur":d=b.blurErrorTip;break;case"empty":d=b.emptyErrorTip}c.find("error-tip").html(d).show()},_emptyDeal:function(a,b){$.trim(b)?(a.find("[data-name=delAll]").show(),a.find("[data-name=placeholder]").hide()):(a.find("[data-name=delAll]").hide(),a.find("[data-name=placeholder]").show())},_valVerify:function(a,b,c){var d=/^[\u4E00-\u9FA5]$/,e=0;b=$.trim(b);for(var f=0;f<b.length;f++)e+=d.test(b.charAt(f).toString())?1:.5;return e=Math.ceil(e),e>c?(a.find(".error-tip").show(),a.find(".error-tip").html('已输入 <span class="overMax">'+e+"</span> 字，最多可输入 "+c+" 字")):a.find(".error-tip").hide(),{worldLength:e,wordChecked:c>=e}},regularChecked:function(a,b){var c=(a.data("id"),a.val()),d=b.test(c);return d},_inputState:function(a,b){switch(a){case"default":b.removeClass("tu-input-focus tu-input-error");break;case"focus":b.removeClass("tu-input-error").addClass("tu-input-focus");break;case"error":b.removeClass("tu-input-focus").addClass("tu-input-error")}},_valueCheckedDeal:function(){var b=a._.values(this.valueChecked),c=a._.indexOf(b,!1)<0?!0:!1;this.trigger("valueChecked",{btnState:c,valueChecked:this.valueChecked}),this.model.unset("valueChecked",{silent:!0}),this.model.set("valueChecked",this.valueChecked)},getData:function(){return this.model.get("inputData")}})}),define("views/common/edit-daily/daily-date-view",["talent","templates/common","views/common/input-handler","views/common/new-filter/drop-down-list/drop-down-list-view","TitaWidget","moment","$.infotip"],function(a,b,c,d,e,f,g){return a.ItemView.extend({template:b["common/edit-daily/daily-date"],className:"tt-daily-date",initialize:function(){this.weekdays=["星期一","星期二","星期三","星期四","星期五","星期六","星期天"];var a=this.model.get("date"),b=this.weekdays[f(a,"YYYY/MM/DD").weekday()];this.model.set("activeWeekday",b),8!=this.model.get("reportType")&&this._getDateData()},templateHelpers:function(){var a={1:"日报",2:"周报",3:"月报"},b=a[this.model.get("dailyData").dailyType];return{dailyState:b}},onRender:function(){this._renderInputHandler()},_judgeReportStatus:function(a,b){var c=new Talent.$.Deferred,d=this;return Talent.app.request("PlanDailyV2:reportStatusV2",{date:a||this.model.get("date"),reportType:this.model.get("reportType"),plantableId:b||this.model.get("planTableId")||"",isEdit:this.model.get("editEnable")?1:0}).done(function(a){d.isClosed||c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},_getDateData:function(){var a=this;Talent.app.request("Plan:getMockDateData",{date:this.model.get("date"),group_id:0}).done(function(b){a.isClosed||(a.dateData=b.Data.taglist,a._dateListHandler(),a._initDateAction())})},_dateListHandler:function(){var a=this.model.get("planTableId"),b=this.model.get("date").split("/"),c=[],d=[],e=[],f=b[0],g=Number(b[1])+"月";Talent._.each(this.dateData,function(a,b){a.Active=a.GroupName==f,c.push({order:[a.GroupId+""],title:a.GroupName+"年",yearNum:a.GroupName,checked:!1})}),this.model.set("yearList",c);var h=Talent._.findWhere(this.dateData,{Active:!0}).PlanTableListModels;Talent._.each(h,function(a){a.Active=a.TagName==g,a.TagId>1&&a.TagId<14&&d.push({order:[a.TagId+""],title:a.TagName,checked:!1,planTableId:a.PlanTableModels[0].PlanTableId})}),this.model.set("monthList",d);var i=Talent._.findWhere(h,{Active:!0}).PlanTableModels;Talent._.each(i,function(b,c){b.Active=b.PlanTableId==a,4==b.PlanTableType&&e.push({
order:[c+""],title:b.Name,checked:!1,planTableId:b.PlanTableId})}),this.model.set("weekList",e)},_initDateAction:function(){var a=Talent._.findWhere(this.dateData,{Active:!0}).PlanTableListModels,b=Talent._.findWhere(a,{Active:!0}).PlanTableModels,c=Talent._.findWhere(this.dateData,{Active:!0}).GroupName+"年",d=Talent._.findWhere(a,{Active:!0}).TagName,e=26==this.model.get("reportType")?Talent._.findWhere(b,{Active:!0}).Name:"",f={activeYear:c,activeMonth:d,activeWeek:e};this.model.unset("activeObj"),this.model.set("activeObj",f)},_renderInputHandler:function(){var a=this,b={containter:this.$el,data:[{type:"componts",dataName:"date-component",events:[{eventName:"click",callBackName:"_dayChange",callBack:function(b){var c=a.$el.find(".tu-input-default"),d={count:1,isShowDateView:!0,isShowCycleView:!1,isShowLongView:!1,isShowTab:!1,rangepickerOptions:{timePicker:!1,format:"YYYY/MM/DD",startDate:a.model.get("date")}};a.inputHandler._inputState("focus",c),a.dateTimePickerView=new e.DateTimePickerView(d),a.listenTo(a.dateTimePickerView,"sure",function(b,d){a.weekdays[f(d.startDate,"YYYY/MM/DD").weekday()];a._editVerify(d.startDate,c),a.inputHandler._inputState("default",c)},a),a.listenTo(a.dateTimePickerView,"cancel",function(b,d){a.inputHandler._inputState("default",c)}),a.$el.append(a.dateTimePickerView.render().el),a.dateTimePickerView.onShow(),a.dateTimePickerView.show(c,{container:this.$el,pos:"bottom"})}}]},{type:"componts",dataName:"dropdown",events:[{eventName:"click",callBackName:"_dateChange",callBack:function(b){var c=Talent.$(b.currentTarget),e=c.parents(".tu-input-default"),f={activeOrder:a.model.get("activeOrder"),changeTabTitle:!1,inResult:!1,isMult:!1,tabLeftLine:!1,tabName:"",tabTitle:"",viewType:"dropDownList"},g=c.data("id");switch(g){case"year":var h=a.model.get("activeObj").activeYear,i=Talent._.findWhere(a.model.get("yearList"),{title:h}).order[0];f.data=a.model.get("yearList"),f.activeOrder=i;break;case"month":var j=a.model.get("activeObj").activeMonth,i=Talent._.findWhere(a.model.get("monthList"),{title:j}).order[0];f.data=a.model.get("monthList"),f.activeOrder=i;break;case"week":var k=a.model.get("activeObj").activeWeek,i=Talent._.findWhere(a.model.get("weekList"),{title:k}).order[0];f.data=a.model.get("weekList"),f.activeOrder=i}a.inputHandler._inputState("focus",e),a.dorpDownListView&&a.dorpDownListView.close(),a.dorpDownListView=new d({model:new Talent.Model(f)}),a.listenTo(a.dorpDownListView,"chose",function(b){a.inputHandler._inputState("default",e);var c=a._changeDateDeal(g,b);a._editVerify(c.date,e,c)}),a.listenTo(a.dorpDownListView,"close",function(){a.inputHandler._inputState("default",e)}),a.$el.append(a.dorpDownListView.render().$el),a.dorpDownListView.show({node:e,container:this.$el,width:e.outerWidth(),pos:"bottom"})}}]}]};this.inputHandler&&this.inputHandler.close(),this.inputHandler=new c(b)},_changeDateDeal:function(a,b){function c(){e=Talent._.findWhere(i.dateData,{GroupName:year+""}).PlanTableListModels,g=Talent._.findWhere(e,{TagName:month+"月"}).PlanTableModels,26==i.model.get("reportType")?(week=week>g.length-1?g.length-1:week,d=g[week].PlanTableId):d=g[0].PlanTableId}var d="",e=[],g=[],h=this.model.get("date").split("/");year=h[0],month=Number(h[1]),week=26==this.model.get("reportType")?Number(h[2]):"",date="";var i=this;switch(a){case"year":year=Number(Talent._.findWhere(b.modelData.data,{title:b.title}).yearNum),c();break;case"month":month=Number(b.modelData.activeOrder)-1,c();break;case"week":d=Talent._.findWhere(b.modelData.data,{title:b.title}).planTableId,week=Talent._.findWhere(b.modelData.data,{title:b.title}).order[0]}return 26==this.model.get("reportType")?date=f().year(year).month(month-1).format("YYYY/MM")+"/0"+week:date=f().year(year).month(month-1).startOf("month").format("YYYY/MM/DD"),{planTableId:d,date:date}},_dailyMsgDeal:function(a,b){var c=a.split("/"),d="";switch(b){case 8:d=f(a).format("YYYY年MM月DD日")+"日报";break;case 26:d=c[0]+"年"+Number(c[1])+"月第"+Number(c[2])+"周周报";break;case 27:d=c[0]+"年"+Number(c[1])+"月月报"}return d},_editVerify:function(a,b,c){var d=this,e=c&&c.planTableId||"";d._judgeReportStatus(a,e).done(function(e){var g=d._dailyMsgDeal(a,d.model.get("reportType")),h=function(){8!==d.model.get("reportType")&&d.model.set("planTableId",c.planTableId),d.model.set("date",a)},i=(d.model.get("getNewData"),d.model.get("editEnable"));switch(e.State){case 0:d.model.set("getNewData",!1),i?d.tipInfo(b,{body:"确定更改已提交总结的时间？",okHide:function(){d.tipView.hide(),h()}}):h();break;case 1:if(d.model.set("getNewData",!0),i)d.tipInfo(b,{body:g+"已有草稿，是否覆盖草稿？",okHide:function(){d.tipView.hide(),h()}});else if(d.model.get("edited")){var j="",k=d.model.get("activeObj"),l=d.model.get("reportType");switch(l){case 8:j=f(d.model.get("date")).format("YYYY年MM月DD日")+"日报";break;case 26:j=k.activeYear+k.activeMonth+k.activeWeek+"周报";break;case 27:j=k.activeYear+k.activeMonth+"月报"}d.tipInfo(b,{body:j+"已填写，是否保存草稿？",trigger:"click",okHide:function(){d.tipView.hide(),d.trigger("saveDraft"),h()},cancelHide:function(){d.tipView.hide(),h()}})}else h();break;case 2:d.model.get("editEnable")?d.tipInfo(b,{body:g+"已提交，是否编辑？",okHide:function(){d.tipView.hide(),d.model.set("dailyId",e.DailyId),d.model.set("getNewData",!0),h()}}):d.tipInfo(b,{type:"remind",ico:"warn",body:g+"已提交，不可切换日期",hasfoot:!1,autohide:!0});break;case 3:var m=i?g+"已评价，不可编辑":g+"已提交，不可切换日期";d.tipInfo(b,{type:"remind",ico:"warn",body:m,hasfoot:!1,autohide:!0})}})},tipInfo:function(a,b){var c={type:"confirm",placement:"bottom",align:"left",animation:!1,trigger:"manual",hasfoot:!0,html:!0,widthlimit:500,container:$("body").find(".modal-content"),autohide:!1},b=Talent._.extend({},c,b);this.tipView&&this.tipView.destroy(),this.tipView=new g,this.listenTo(this.tipView,"hide",function(){}),this.tipView.bindNode(a,b),this.tipView.show()}})}),define("views/common/edit-daily/remind-item-view",["talent","templates/common","$.infotip"],function(a,b){return a.ItemView.extend({tagName:"li",className:"staff-item",template:b["common/edit-daily/remind-others-item"],initialize:function(a){this.inInfotip=a.inInfotip},onRender:function(){if(!this.inInfotip){var b=a.$("body").find(".modal-content");this.$el.find("[data-toggle=infotip]").infotip({type:"default",placement:"top",container:b})}}})}),define("views/common/edit-daily/remind-view",["talent","templates/common","TitaWidget","collections/smember-group-collection","UserSelector","views/common/input-handler","views/common/edit-daily/remind-item-view","$.infotip"],function(a,b,c,d,e,f,g){return a.CompositeView.extend({itemView:g,className:"tt-daily-remind",template:b["common/edit-daily/remind-others"],itemViewContainer:"ul",ui:{addOthers:"[data-name=add-staff]",delOthers:"[data-name=del-item]",sendEmial:"[data-name=send-emial]",delAll:"[data-name=del-allstaff]"},defaults:{width:""},collectionEvents:{reset:"trrigerChange"},initialize:function(b){this.hasRemindUserIds=b.hasRemindUserIds||[],this.settings=a._.extend({},this.defaults,this.options)},events:function(){var a={};return a["click "+this.ui.delOthers]="_delOthers",a["click "+this.ui.sendEmial]="_sendEmial",a},onRender:function(){if(this._renderInputHandler(),this._delHandler(),!this.model.get("notBody")){var b=a.$("body").find(".modal-content");this.ui.delAll.infotip({type:"default",placement:"top",container:b})}},itemViewOptions:function(){return{inInfotip:this.model.get("notBody")}},trrigerChange:function(){this.trigger("collectionChange",this.collection.toJSON())},_delHandler:function(){var a=this.collection.length;a?this.ui.delAll.show():this.ui.delAll.hide()},checkSingle:function(b){var c=this.hasRemindUserIds.concat(this.collection.pluck("Id"),this.collection.pluck("id")),d=b.id||b.Id,e=this.collection.toJSON(),f=a._.contains(c,d);return f||e.push(b),e},_dealOthersData:function(b){var c=this,d=[];b.data?a._.each(b.data,function(a){d=c.checkSingle(a),c.collection.reset(d)}):(d=c.checkSingle(b),this.collection.reset(d))},_delOthers:function(b){var c=a.$(b.currentTarget),d=c.data("id"),e=this.collection.toJSON();c.tipsy("hide"),$("body").find(".infotip-fade").remove(),e=a._.filter(e,function(a){return a.id&&a.id!=d?a:a.Id&&a.Id!=d?a:void 0}),this.collection.reset(e),this._delHandler()},_sendEmial:function(b){var c=a.$(b.currentTarget);c.hasClass("tu-icon-check-active")?(c.removeClass("tu-icon-check-active").addClass("tu-icon-checkbox-have"),this.model.set("isSendEmail",!1)):(c.removeClass("tu-icon-checkbox-have").addClass("tu-icon-check-active"),this.model.set("isSendEmail",!0))},_renderInputHandler:function(){var b=this,g={containter:this.$el,data:[{type:"componts",dataName:"add-staff",events:[{eventName:"click",callBackName:"_renderUserSelectorView",callBack:function(f){f.stopPropagation();var g=a.$(f.currentTarget);b.userSelectorView=new e({collection:new d});var h=c.util.userSelectorConfig({input:!0,muti:!0,container:b.model.get("notBody")?b.$el.parent():"body"});b.userSelectorView.showDialog(h,b.ui.addOthers),b.userSelectorView.on("submit",function(a){b._dealOthersData(a),b._delHandler(),b.inputHandler._inputState("default",g)}),b.userSelectorView.on("close cancel",function(){b.inputHandler._inputState("default",g)}),b.inputHandler._inputState("focus",g)}}]},{type:"component",dataName:"del-allstaff",events:[{eventName:"click",callBackName:"_delAllStaff",callBack:function(){b.collection.reset(),b._delHandler()}}]}]};this.inputHandler&&this.inputHandler.close(),this.inputHandler=new f(g),this._bindInputWidth()},_bindInputWidth:function(){this.settings.width&&this.$el.find("ul.tu-scroll").css({width:this.settings.width})},dataDeal:function(){var b=[];return a._.each(this.collection.toJSON(),function(a){var c={};c.Id="department"==a.type?a.id:a.Id,c.Name="department"==a.type?a.name:a.Name,c.Email="department"==a.type?a.name+":"+a.id+":dep_members":a.Email,b.push(c)}),b}})}),define("views/common/edit-daily/daily-remind-view",["talent","templates/common","views/common/edit-daily/remind-view","TitaWidget"],function(a,b,c,d){return a.ItemView.extend({tagName:"dl",className:"tt-daily-upload",template:b["common/edit-daily/daily-remind"],ui:{remind:"[data-name=remind-others]"},onRender:function(){this._renderRemindOthers()},_renderRemindOthers:function(){this.remindView&&this.remindView.close(),this.remindView=new c({collection:new a.Collection,model:this.model}),this.ui.remind.append(this.remindView.render().$el)},templateHelpers:function(){var b=a.Context.getGlobal("DailyAdvancedSetting"),c=b.DailyFunctionSetting.DailyRemind;return{DailyRemind:c}},staffDataDeal:function(){return this.remindView.dataDeal()}})}),define("views/common/edit-daily/work-scan/task-list-item-view",["talent","templates/common","TitaWidget"],function(a,b,c){return a.CompositeView.extend({tagName:"li",className:"task-item",template:b["common/edit-daily/work-scan/task-list-item"],itemViewContainer:"[data-name=child-list-wraper]",ui:{showSub:"[data-name=show-sub]",childrenContainter:"[data-name=child-list-wraper]",showChildren:"[data-name=show-children]"},events:function(){var a={};return a["click "+this.ui.showSub]="_showSub",a["click "+this.ui.showChildren]="_showChildren",a},initialize:function(a){this.model.get("collection")&&(this.collection=this.model.get("collection")),this.settings=a.reqData},templateHelpers:function(){var b=a.Context.getUserInfo().Id;return{userId:b,hasTimeIco:2==this.settings.planDailyType?!0:!1,isExpire:1==this.settings.planDailyType?!0:!1}},itemViewOptions:function(){return{reqData:this.options.reqData}},_showChildren:function(a){var b=$(a.currentTarget);b.hasClass("tu-icon-pack-up")?(b.removeClass("tu-icon-pack-up").addClass("tu-icon-open"),this.ui.childrenContainter.hide()):(b.removeClass("tu-icon-open").addClass("tu-icon-pack-up"),this.ui.childrenContainter.show())},_showSub:function(b){b.stopPropagation();var c=this,d=a.$(b.currentTarget);d.hasClass("tu-icon-open")?(d.removeClass("tu-icon-open").addClass("tu-icon-pack-up"),a.app.request("PlanDailyV2:getSubTask",{reportType:c.settings.reportType,PlanTableId:c.settings.planTableId,planDailyType:c.settings.planDailyType,ParentTaskId:c.model.get("taskId"),FromLevel:c.model.get("level")+1,ToLevel:c.model.get("level")+1,StartDate:c.settings.startDate,EndDate:c.settings.startDate,IsPage:!0,StartNum:"",Count:"",dailyId:c.settings.wantDailyId?c.settings.dailyId:""}).done(function(b){a._.each(b,function(a){a.level=c.model.get("level")+1}),c.collection.reset(b)}).fail(function(a){})):(d.removeClass("tu-icon-pack-up").addClass("tu-icon-open"),c.ui.childrenContainter.empty())}})}),define("views/common/edit-daily/work-scan/task-class-composite-view",["talent","templates/common","views/common/edit-daily/work-scan/task-list-item-view","TitaWidget"],function(a,b,c,d){var e=a.CompositeView.extend({itemView:c,tagName:"div",className:"tt_calssitem",template:b["common/edit-daily/work-scan/task-class-item"],itemViewContainer:".task-list",ui:{},initialize:function(b){var c=this._formatData();this.collection=new a.Collection(c)},itemViewOptions:function(){return{reqData:this.options.reqData}},_formatData:function(){function b(d){a._.each(d,function(d){var e=d.taskId,f=a._.where(c,{parentTaskId:e});f.length&&(a._.each(f,function(a,b){a.level=d.level+1}),d.collection.push(f),b(f))})}var c=this.model.get("tasks")||[];if(c.length){var d=a.Collection.extend({initialize:function(){this.model=a.Model.extend({idAttribute:"taskId"})}});_.each(c,function(a){a.collection=new d});var e=a._.where(c,{parentTaskId:null});return a._.each(e,function(a,b){a.level=1}),b(e),e}}});return a.CompositeView.extend({itemView:e,template:b["common/edit-daily/work-scan/task-class-composite"],itemViewContainer:".tt_classlist",ui:{showMore:"[data-name=showmore]"},initialize:function(b){this.StartNum=1,this.settings=b.reqData,this.collection=new a.Collection(this.model.get("tasks")),this.planType={1:"expirePlan",2:"finishPlan",3:"doingPlan"}},itemViewOptions:function(){return this.options.reqData.planDailyType=this.model.get("type"),{reqData:this.options.reqData}},templateHelpers:function(){return{hasShowMore:Number(this.model.get("nextNum"))?!0:!1,isMore:this.settings.isMore}},events:function(){var a={};return a["click "+this.ui.showMore]="_showMore",a},_showMore:function(b){var c=this;b.stopPropagation(),this.StartNum+=1;var d=this.settings.planTableId?"":this.settings.startDate;a.app.request("PlanDailyV2:getTaskOverView",{reportType:this.settings.reportType,PlanTableId:this.settings.planTableId||"",planDailyType:this.model.get("type"),FromLevel:1,ToLevel:2,StartDate:d,EndDate:d,IsPage:!0,StartNum:this.StartNum,Count:20,dailyId:c.settings.wantDailyId?c.settings.dailyId:""}).done(function(b){if(!c.isClosed){var d=c.planType[c.model.get("type")+""];if(b[d]||b[d].length){var e=a._.findWhere(c.collection.toJSON(),{labId:b[d].tasks[0].labId});e&&(c.collection.pop(),b[d].tasks[0].tasks=e.tasks.concat(b[d].tasks[0].tasks)),b[d].nextNum||c.ui.showMore.hide(),c.collection.add(b[d].tasks)}}}).fail(function(a){})}})}),define("views/common/edit-daily/work-scan/daily-work-scan-view",["talent","templates/common","views/common/edit-daily/work-scan/task-class-composite-view","TitaWidget"],function(a,b,c,d){return a.CompositeView.extend({template:b["common/edit-daily/work-scan/daily-work-scan"],className:"tt-work-scan",itemView:c,itemViewContainer:".task-list-containter",defaults:{isMore:!1,heightLimit:420},modelEvents:{"change:isMore":"render"},initialize:function(b){this.taskData=b.taskData,this.settings=a._.extend({},this.defaults,this.options),this.model.set(this.settings);var c={1:"过期任务",2:"完成任务",3:"进行中任务"},d=0,e=[],f=0;a._.each(this.taskData,function(a){a.name=c[a.type+""],d+=a.total}),this.model.set("allTotal",d),$.each(this.taskData,function(a,b){e[f]=b,f++}),this.collection=new a.Collection(e)},templateHelpers:function(){return{collection:this.collection.toJSON()}},ui:{finishContainter:"[data-name=finishplan-containter]",expirepanContainter:"[data-name=expireplan-containter]",taskMore:"[data-name=task-more]",taskContainer:"[data-name=task-container]"},events:function(){var a={};return a["click "+this.ui.taskMore]="_clickHandler",a},onRender:function(){this._setHeightLimit()},itemViewOptions:function(){var a=this.model.get("planTableId")||"",b=a?"":this.model.get("date");return{reqData:{nextNum:this.taskData.finishPlan.nextNum,planTableId:a,startDate:b,reportType:this.model.get("reportType"),wantDailyId:this.model.get("wantDailyId"),dailyId:this.model.get("dailyId")||"",isMore:this.model.get("isMore")}}},_setHeightLimit:function(){this.ui.taskContainer.css({"max-height":this.settings.heightLimit})},_clickHandler:function(a){var b=this.model.get("isMore");a.stopPropagation(),this.model.set({isMore:!b})}})}),define("views/common/edit-daily/upload-file-view",["talent","templates/common","TitaWidget"],function(a,b,c){return a.ItemView.extend({tagName:"dl",className:"tt-daily-upload",template:b["common/edit-daily/upload-file"],ui:{attachment:"a[data-name=file]"},events:function(){var a={};return a["click "+this.ui.showSub]="_showSub",a},onRender:function(){this._customAttachment()},templateHelpers:function(){return{}},_customAttachment:function(){var b=['<a href="javascript:void(0);" data-name="file" class="upload_node <%if(!openYFY){%>upload_new_file<%}%>">点击上传</a>',"<%if(openYFY){%>",'<div class="tt_upload_type_container" data-name="upload-type">','<dl class="upload_type_item"><span class="upload_new_file">本地上传</span></dl>','<dl class="upload_type_item"><span id="fc_upload" class="fang_cloud_btn">亿方云</span></dl>',"</div>","<%}%>"].join(""),d=c.UploaderComponentView.extend({template:a._.template(b)}),e=a.Context.IsOpenYifangyun();this.titaUploadBtn=new d({container:this.$el,openYFY:e,previewInNewTab:!0}),this.listenTo(this.titaUploadBtn,"uploadEnd",function(a,b){var c=this.model.get("fileUrls"),d=this.model.get("otherDocuments");c=c.concat(a.dfs),d=d.concat(a.YFYresp),this.model.set("fileUrls",a.dfs),this.model.set("otherDocuments",a.YFYresp)},this),this.listenTo(this.titaUploadBtn,"deleteItem",function(a,b){var c=this.model.get("fileUrls"),d=this.model.get("otherDocuments");c.concat(a.dfs),d.concat(a.YFYresp),this.model.set("fileUrls",a.dfs),this.model.set("otherDocuments",a.YFYresp)},this),this.ui.attachment.html(this.titaUploadBtn.render().$el)}})}),define("views/common/edit-daily/daily-visibility-view",["talent","templates/common"],function(a,b){return a.ItemView.extend({template:b["common/edit-daily/daily-visibility"],ui:{visibleHandle:"[data-name=visible-handle]"},events:function(){var a={};return a["click "+this.ui.visibleHandle]="_visibleHandle",a},templateHelpers:function(){var b=a.Context.getUserInfo().DepartmentId;a.Context.getGlobal("tenantBehavior").TaskPushlishPrivateType,this.model.get("visibility"),this.model.get("objId");return{showDepartment:b?!0:!1}},_visibleHandle:function(b){var c=a.$(b.currentTarget),d=c.data("visible"),e=c.find("span"),f=a.Context.getUserInfo();e.hasClass("tu-icon-singlebox-avtive")||(this.$el.find(".tu-icon-singlebox-avtive").removeClass("tu-icon-singlebox-avtive").addClass("tu-icon-singlebox-have"),e.removeClass("tu-icon-singlebox-have").addClass("tu-icon-singlebox-avtive"),"department"==d?(this.model.set("objId",f.DepartmentId),this.model.set("objType",15),this.model.set("visibility",3)):(this.model.unset("objId"),this.model.set("objType",""),this.model.set("visibility",d)))}})}),define("views/common/loading-view",["talent"],function(a){return a.ItemView.extend({template:a._.template('<img src="'+a.Context.getStaticUrl("images/loading_v1.gif")+'"><span>&nbsp;加载中...</span>'),className:"_tt_common_loading",hide:function(){this.$el.hide()},show:function(){this.$el.show()}})}),define("views/common/edit-daily/edit-daily-main-view",["talent","templates/common","views/common/edit-daily/edit-content-view","views/common/edit-daily/daily-date-view","views/common/edit-daily/daily-remind-view","views/common/edit-daily/work-scan/daily-work-scan-view","views/common/edit-daily/upload-file-view","views/common/edit-daily/daily-visibility-view","views/common/loading-view","$.modal","$.infotip"],function(a,b,c,d,e,f,g,h,i,j,k){return a.Layout.extend({template:b["common/edit-daily/edit-daily-main"],className:"tt-edit-daily-containter tu-font-h5",regions:{dailyDate:"div[data-name=daily-date]",workScan:"div[data-name=work-scan]",editContainter:"div[data-name=edit-containter]",remindOthers:"div[data-name=remind-containter]",uploadContainter:"div[data-name=upload]",visible:"[data-name=visible]"},modelEvents:{"change:date":"_changeDate","change:editEnable":"_changeTitle","change:workPlan":"_buttonHandler","change:content":"_buttonHandler","cahnge:objType":"_buttonHandler","change:taskTotalCheck":"_buttonHandler","change:visibility":"_buttonHandler"},initialize:function(){var b=[8,26,27],c=b[this.model.get("dailyData").dailyType-1],d={8:"当日",26:"当周",27:"当月"};d[this.model.get("reportType")];this.model.set("reportType",c),this.userInfo=a.Context.getUserInfo(),this.model.set("getNewData",this.model.get("editEnable")),this._setModel()},onRender:function(){var a=new i;this.workScan.show(a);var b=(this.model.get("getNewData"),this.model.get("editEnable"));b?this._editDailyData():this._getDraftData()},_changeDate:function(){var a=new i;this.workScan.show(a);var b=this.model.get("getNewData");this.model.set("edited",!1),b?this.render():(this._renderDailyDate(),this._getTaskData())},_renderView:function(){this._renderDailyDate(),this._getTaskData(),this._renderEditContentView(),this.model.get("editEnable")||(this._renderRemindView(),this._renderUplodFile())},_editDailyData:function(){var a=this;Talent.app.request("PlanDailyV2:getDailyInfo",{id:this.model.get("dailyId")||""}).done(function(b){a.isClosed||a._requestDoneDeal(b)}).fail(function(a){})},_getDraftData:function(){var a=this;Talent.app.request("PlanDailyV2:getDraft",{date:this.model.get("date"),reportType:this.model.get("reportType")}).done(function(b){a.isClosed||a._requestDoneDeal(b)}).fail(function(a){})},_requestDoneDeal:function(a){var b=this._contrastStorage(a);this.editData=b,this._setModel(b),this._renderView()},_setModel:function(a){var b={content:"",remindUsers:[],visibility:"",workPlan:"",objId:"",objType:"",fileUrls:[],otherDocuments:[]},a=Talent._.extend({},b,a);this.model.set(a,{silent:!0})},_contrastStorage:function(a){var b=Talent.Context.localStorage(),c=b.get("dailyStorage_"+this.userInfo.Id+"_"+this.model.get("reportType")),d=this.model.get("date"),e=this.model.get("editEnable");return!e&&c&&(!a||d==c.date&&a.timestamp<c.__setTime)&&(a=a||{},a.content=c.content,a.workPlan=c.workPlan),e&&c&&d==c.date&&(a.content=c.content,a.workPlan=c.workPlan),a},_setTitle:function(){var a={1:"日报",2:"周报",3:"月报"},b=this.model.get("editEnable")?"编辑":"写",c=b+a[this.model.get("dailyData").dailyType];return c},_changeTitle:function(){var a=this._setTitle();this.modals.modal("setTitle",a)},showModal:function(){var b=this,c=this._setTitle();this.modals=$.confirm({backdrop:"static",hasfoot:!0,hashead:!0,closeBtn:!0,keyboard:!1,excessBtn:this.model.get("editEnable")?!1:"保存草稿",width:"800",height:"auto",body:b.render().$el,title:c,okBtn:"提交",cancelHide:function(c){var d=c||window.event,e=$(d.target),f=b._judgeCancel(),g=e.hasClass("close-modal")?"bottom":"top";return f?!0:(b.tipInfo(e,{type:"confirm",body:"您已填写，确定放弃提交吗？",trigger:"manual",placement:g,hasfoot:!0,align:"right",html:!0,autohide:!1,okHide:function(){b.modals.modal("hide"),a.Context.localStorage().remove("dailyStorage_"+a.Context.getUserInfo().Id+"_"+b.model.get("reportType"))}}),!1)},okHide:function(c){var d=b._dataDeal();Talent.app.request("PlanDailyV2:submitDaily",d).done(function(c){b.isClosed||(a.Context.localStorage().remove("dailyStorage_"+a.Context.getUserInfo().Id+"_"+b.model.get("reportType")),b.trigger("dailyDidSumit",b.model.toJSON(),c))}).fail(function(a){})},excessHide:function(){b._saveDraft()}})},_saveDraft:function(){var b=this,c=this._dataDeal();Talent.app.request("PlanDailyV2:saveDraft",{reportType:c.reportType,date:b.model.get("date"),content:c.content,workPlan:c.workPlan}).done(function(c){b.isClosed||a.Context.localStorage().remove("dailyStorage_"+a.Context.getUserInfo().Id+"_"+b.model.get("reportType"))}).fail(function(a){})},_judgeCancel:function(){var a=this.model.get("workPlan").replace(/(^(\<p\>\<br\>\<\/p\>)*)|((\<p\>\<br\>\<\/p\>)*$)/gi,""),b=this.model.get("content").replace(/(^(\<p\>\<br\>\<\/p\>)*)|((\<p\>\<br\>\<\/p\>)*$)/gi,""),a=$.trim(a),b=$.trim(b),c=(this.model.get("objType"),this.model.get("visibility"),"<p><br></p>");return b!=c&&b||a!=c&&a?!1:!0},_buttonHandler:function(){var a="",b=this.model.get("contentOnlyText")&&this.model.get("contentOnlyText").replace(/\s/g,"").length>4e3,c=this.model.get("workPlanOnlyText")&&this.model.get("workPlanOnlyText").replace(/\s/g,"").length>4e3,d=this.model.get("taskTotalCheck");a=!d&&this._judgeCancel(),a||b||c?this.modals.modal("okToggle","disabled"):this.modals.modal("okToggle")},_renderEditContentView:function(){this.editContentView&&this.editContentView.close(),this.editContentView=new c({model:this.model}),this.editContainter.show(this.editContentView)},_renderDailyDate:function(){var a=this;this.dailyDateView&&this.dailyDateView.close(),this.dailyDateView=new d({model:a.model}),this.listenTo(this.dailyDateView,"saveDraft",function(){this._saveDraft()}),this.dailyDate.show(this.dailyDateView)},_renderWorkScan:function(a){var b=this;this.model.set("taskOverview",a),this.workScanView&&this.workScanView.close(),this.workScanView=new f({model:b.model,taskData:a}),this.workScan.show(this.workScanView)},_getTaskData:function(){var a=this,b=this.model.get("planTableId")?"":this.model.get("date");Talent.app.request("PlanDailyV2:getTaskOverView",{reportType:this.model.get("reportType"),PlanTableId:this.model.get("planTableId"),planDailyType:0,FromLevel:1,ToLevel:2,StartDate:b,EndDate:b,IsPage:!0,StartNum:this.StartNum,Count:20}).done(function(b){var c={doingPlan:b.doingPlan,expirePlan:b.expirePlan,finishPlan:b.finishPlan};if(!a.isClosed){var d=0;$.each(c,function(a,b){d+=b.total}),a.model.set("visibility",b.Visibility),a._renderWorkScan(c),a._renderVisiblityView(),a.model.unset("taskTotalCheck"),d?a.model.set("taskTotalCheck",!0):a.model.set("taskTotalCheck",!1)}}).fail(function(a){})},_renderRemindView:function(){this.model.get("isSendEmail")||this.model.set("isSendEmail",!1),this.remindView&&this.remindView.close(),this.remindView=new e({collection:new Talent.Collection,model:this.model}),this.remindOthers.show(this.remindView)},_renderUplodFile:function(){this.uplodView&&this.uplodView.close(),this.uplodView=new g({model:this.model}),this.uploadContainter.show(this.uplodView)},_renderVisiblityView:function(){this.visibilityView&&this.visibilityView.close(),this.visibilityView=new h({model:this.model}),this.visible.show(this.visibilityView)},tipInfo:function(a,b){var c={type:"confirm",placement:"bottom",align:"right",animation:!1,trigger:"manual",hasfoot:!0,html:!0,container:$("body").find(".modal-content"),autohide:!1},b=Talent._.extend({},c,b);this.tipView&&this.tipView.destroy(),this.tipView=new k,this.listenTo(this.tipView,"hide",function(){}),this.tipView.bindNode(a,b),this.tipView.show()},_dataDeal:function(){var a=this.remindView&&this.remindView.staffDataDeal()||[],b=this.model.get("fileUrls").join(","),c=this._replaceText(this.model.get("workPlan")).replace(/[\n]/g,""),d=this._replaceText(this.model.get("content")).replace(/[\n]/g,"");c=this.model.get("workPlanOnlyText")||/img/i.test(c)||/table/i.test(c)?c:"",d=this.model.get("contentOnlyText")||/img/i.test(d)||/table/i.test(d)?d:"";var e={planDailyId:this.model.get("dailyId")||"",content:d||"",contentOnlyText:this.model.get("contentOnlyText")||"",workPlan:c||"",workPlanOnlyText:this.model.get("workPlanOnlyText")||"",remindUserIds:a||"",isSendEmail:this.model.get("isSendEmail")||"",visibility:this.model.get("visibility"),fileUrls:b||"",objId:this.model.get("objId")||"",objType:this.model.get("objType")||"",dateTime:this.model.get("date")||"",reportType:this.model.get("reportType"),planTableId:this.model.get("planTableId")||"",otherDocuments:this.model.get("otherDocuments")||""};return e},_replaceText:function(a){return a.replace(/(^(\<p\>\<br\>\<\/p\>)*)|((\<p\>\<br\>\<\/p\>)*$)/g,"")}})}),define("views/daily/detail/detail-top-bar-view",["talent","templates/daily","views/common/edit-daily/edit-daily-main-view","$.infotip"],function(a,b,c,d){return a.ItemView.extend({defaults:{id:"",isShowClosed:!0},template:b["daily/detail/detail-topbar"],className:"daily-action-container tu-clearfix",ui:{edit:"[data-name=edit]",addTag:"[data-name=addTag]",atSee:"[data-name=atSee]",addFujian:"[data-name=addFujian]",deleteDaily:"[data-name=delete]"},initialize:function(){this.settings=Talent._.extend({},this.defaults,this.options);var a={8:"日报",26:"周报",27:"月报"};this.dailyName=a[this.model.get("reportType")]},events:function(){var a={};return a["click "+this.ui.closed]="_clickClosedHandler",a["click "+this.ui.deleteDaily]="_deleteHandler",a["click "+this.ui.edit]="_editHandler",a["mouseover "+this.ui.deleteDaily]="_deleteOverHandler",a["mouseleave "+this.ui.deleteDaily]="_deleteLeaveHandler",a["click "+this.ui.addTag]="_addTagHandler",a["click "+this.ui.atSee]="_addSeeHandler",a["click "+this.ui.addFujian]="_addFujianHandler",a},modelEvents:{},templateHelpers:function(){var a=Talent.Context.getGlobal("DailyAdvancedSetting"),b=a.DailyFunctionSetting.DailyRemind;return{dailyName:this.dailyName,isShowClosed:this.settings.isShowClosed,DailyRemind:b}},onRender:function(){this._bindTipView(),this._getMockData()},_deleteOverHandler:function(){this.deleteTip=new d,this.deleteTip.bindNode(this.ui.deleteDaily,{trigger:"manual",body:"删除"+this.dailyName,container:this.$el,placement:"bottom"}),this.deleteTip.show()},_deleteLeaveHandler:function(){this.deleteTip&&this.deleteTip.destroy()},_addSeeHandler:function(){var a=$("[data-name=remind-others]"),b=$("[data-name=container]"),c=b.scrollTop(),d=$(window).height();a.show(400);var e=a.offset().top+c-d/2;a.css({"background-color":"#F2F8FC"});setTimeout(function(){a.css({"background-color":"#F5F8FA"})},3e3);b.animate({scrollTop:e},1e3)},_addFujianHandler:function(){var a=$("[data-name=attachment]"),b=$("[data-name=container]"),c=b.scrollTop(),d=$(window).height();a.show(400);var e=a.offset().top+c-d/2;a.find(".upload-title").css({"background-color":"#F2F8FC"});setTimeout(function(){a.find(".upload-title").css({"background-color":"#F5F8FA"})},3e3);$("[data-name=container]").animate({scrollTop:e},1e3)},_addTagHandler:function(a){a.stopPropagation();var b=$(a.currentTarget);this.trigger("addTag",b)},_editHandler:function(a){var b=this._editDataDeal(),b=this._editDataDeal(),d={dailyId:this.model.get("dailyId"),editEnable:!0,planTableId:b.planTableId||"",dailyData:b,date:b.date};this.editDaily&&this.editDaily.close(),this.editDaily=new c({model:new Talent.Model(d)}),this.listenTo(this.editDaily,"dailyDidSumit",function(a){this.trigger("editDaily",a)}),this.editDaily.showModal()},_editDataDeal:function(){var a=this.model.get("dailyDate").substr(0,10),b=a.split("/"),c=Talent._.findWhere(this.groupDatas,{GroupName:b[0]}).GroupId,d=Talent._.findWhere(this.groupDatas,{GroupName:b[0]}).PlanTableListModels,e=Talent._.findWhere(d,{TagName:Number(b[1])+"月"}).PlanTableModels,f=Talent._.findWhere(d,{TagName:Number(b[1])+"月"}).TagId,g="",h=[8,26,27],i=h.indexOf(this.model.get("reportType"))+1;return 8!=this.model.get("reportType")&&(g=26==this.model.get("reportType")?e[Number(b[2])].PlanTableId:e[0].PlanTableId),{group_id:c,tag_id:f,dailyType:i,planTableId:g,date:a}},_bindTipView:function(){var a={container:this.$el,placement:"bottom"};this.ui.edit.infotip(a),this.ui.addTag.infotip(a),this.ui.atSee.infotip(a),this.ui.addFujian.infotip(a)},_getMockData:function(){var a=this,b=this.model.get("dailyDate").substr(0,10);Talent.app.request("Plan:getMockDateData",{group_id:0,date:b}).done(function(b){var c=b.Data;a.groupDatas=c.taglist}).fail(function(a){})},_deleteHandler:function(){
this.deleteConfirm=new d,this.deleteConfirm.bindNode(this.ui.deleteDaily,{type:"confirm",trigger:"manual",body:'<span style="color:#70808B">该事项将被删除不可恢复！请谨慎操作<span>',container:this.$el,placement:"bottom",bias:{left:-134,top:0},autohide:!0}),this.listenTo(this.deleteConfirm,"ok",function(){this._deleteDaily()}),this.deleteConfirm.show()},_deleteDaily:function(){var a=this;Talent.app.request("Daily:deleteDailyData",{dailyId:this.model.get("dailyId")}).done(function(b){a.deleteConfirm&&a.deleteConfirm.destroy(),a.trigger("deleteSuccess")}).fail(function(a){})},onClose:function(){}})}),define("views/daily/detail/detail-feed-view",["talent","templates/daily","TitaWidget"],function(a,b,c){return a.ItemView.extend({tagName:"div",template:b["daily/detail/detail-feed"],ui:{feedlist:"div[data-name=comment-list]",total:"span[data-name=comment-list-total]"},initialize:function(){},onShow:function(){this.renderFeed()},renderFeed:function(){var b=this,d=this.model.get("feedData");if(!d.feedComments)return void(this.ui.feedlist&&this.ui.feedlist.html(""));var e=d.feedComments.comments||[];this.feedItemCompositeView=new c.CommentListView({isInAppPage:!1,onlyComment:!0,mBlogOptions:{defaultHide:!1,defaultValue:"",isShowSendSms:!1},custom:{more:!0,remind:!0,collect:!0,reply:!0},actionMore:{detail:!0,deleted:!0,setTop:!0},isPrivate:!1,privateTipText:"",feedId:d.feedId,defaultCount:5,model:new a.Model({total:d.feedComments.total,comments:e})}),this.listenTo(this.feedItemCompositeView,"more",function(c){a.app.request("Comment:getFeedItemComment",{feed_id:b.model.get("feed_Id"),comment_type:0}).done(function(a){b.feedItemCompositeView.feedCommentListView.collection.reset(a.comments)})}),this.ui.feedlist&&"function"==typeof this.ui.feedlist.html&&this.ui.feedlist&&this.ui.feedlist.html(this.feedItemCompositeView.render().$el)},onClose:function(){this.feedItemCompositeView&&this.feedItemCompositeView.close()}})}),define("views/daily/detail/detial-remind-others-view",["talent","templates/daily","views/common/edit-daily/remind-view","$.infotip","$.tipsy","TitaWidget"],function(a,b,c,d,e,f){var g=a.ItemView.extend({tagName:"li",className:"staff-item",template:b["daily/detail/detial-remind-others-item"],onRender:function(){this.$el.find("[original-title]").tipsy({gravity:"s"})}});return a.CompositeView.extend({itemView:g,template:b["daily/detail/detial-remind-others"],itemViewContainer:"ul",ui:{delOthers:"[data-name=del-item]",addOthers:"[data-name=add-others]",tipsy:"[data-toggle=infotip]"},events:function(){var a={};return a["click "+this.ui.addOthers]="_addOthers",a["mouseover "+this.ui.tipsy]="_showTipsy",a},initialize:function(){this.listenTo(this.collection,"add",this._showBorderRight)},onRender:function(){this.$el.css("position","relative"),this._showBorderRight()},_showBorderRight:function(){this.collection.length?this.$el.find(".add-others").css("borderRightWidth","1px"):this.$el.find(".add-others").css("borderRightWidth","0")},templateHelpers:function(){var b=a.Context.getGlobal("DailyAdvancedSetting"),c=b.DailyFunctionSetting.DailyRemind;return{DailyRemind:c}},_showTipsy:function(b){var c=a.$(b.currentTarget);this.tipInfo&&this.tipInfo.destroy(),this.tipInfo=new d;this.$el;this.tipInfo.bindNode(c,{container:this.$el,type:"default"}),this.tipInfo.show()},_addOthers:function(b){var e=this,f=a.$(b.currentTarget);this.model.set({notBody:!0,isSendEmail:!1}),this.addOthersView&&this.addOthersView.close(),this.addOthersView=new c({model:this.model,hasRemindUserIds:[],width:"91%"}),this.tipView&&this.tipView.destroy(),this.tipView=new d,this.tipView.bindNode(f,{type:"confirm",placement:"bottom",align:"left",animation:!1,body:e.addOthersView.render().$el,trigger:"manual",hasfoot:!0,html:!0,width:500,container:e.$el,autohide:!1}),this.listenTo(this.addOthersView,"collectionChange",function(a){a.length?this.tipView.$el.find("[data-ok=infotip]").removeClass("disabled"):this.tipView.$el.find("[data-ok=infotip]").addClass("disabled")}),this.listenTo(this.tipView,"ok",function(){var a=e.addOthersView&&this.addOthersView.dataDeal()||[];e._updateRemindUsers(a).done(function(a){e.tipView.destroy(),e.collection.add(a),e.addOthersView.collection.reset(),e.addOthersView._delHandler()})}),this.tipView.show(),this.tipView.$el.find("[data-ok=infotip]").addClass("disabled")},_updateRemindUsers:function(b){var c=new a.$.Deferred,d=this;return a.app.request("PlanDailyV2:detialRemind",{planDailyId:this.model.get("dailyId"),remindUserIds:b,isSendEmail:this.model.get("isSendEmail")}).done(function(a){d.isClosed||c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()}})}),define("views/daily/detail/detail-info-view",["talent","templates/daily","tdialog","$.tipsy","TitaWidget","views/common/edit-daily/work-scan/daily-work-scan-view","views/daily/detail/detial-remind-others-view"],function(a,b,c,d,e,f,g){return a.ItemView.extend({defaults:{nameLen:4e3},template:b["daily/detail/detail-info"],className:"daily-detail-info",ui:{attachemntList:"div[data-name=task-detail-attachment-list]",attachment:"[data-name=attachment]",workScan:"[data-name=daily-work-scan]",remindOthers:"[data-name=remind-others]"},initialize:function(b){this._attachmentDeal(),this.initAttachment=a._.clone(this.model.get("attachment")),this.settings=a._.extend({},this.defaults,b)},templateHelpers:function(){var b=(a.Context.getGlobal("loginUserInfo"),this._replaceText(this.model.get("content"))?!0:!1),c=this._replaceText(this.model.get("workPlan"))?!0:!1;return{isShowSummary:b,isShowNext:c,content:this.model.get("content").replace(/[\n]/g,"</br>"),workPlan:this.model.get("workPlan").replace(/[\n]/g,"</br>")}},events:function(){var a={};return a["click "+this.ui.description]="_clickDesHandler",a},onRender:function(){this._pageRenderView()},_replaceText:function(a){return a.replace(/(^(\<p\>\<br\>\<\/p\>)*)|((\<p\>\<br\>\<\/p\>)*$)/g,"")},_pageRenderView:function(){this._renderWorkScan(),this._renderDetialRemind(),this._renderFileUploadView(),this._renderAttachmentList(this.model.get("attachment")||[]);var a=this.model.get("attachment");a&&0==a.length&&this.ui.attachment.hide();var b=this.model.get("remindUsers");b&&0==b.length&&this.ui.remindOthers.hide()},_attachmentDeal:function(){var b=this.model.get("attachment"),c=[];a._.each(b,function(a){obj={createDate:a.CreateDate,createUserId:a.CreateUserId,createUserName:a.CreateUserName,deleteable:a.Deleteable,documentId:a.DocumentId,documentSource:a.DocumentSource,downloadUrl:a.DownloadUrl,fileName:a.FileName,fileSourceType:a.FileSourceType,fileType:a.FileType,imageUrl:a.ImageUrl,previewUrl:a.PreviewUrl,relatedFileId:a.RelatedFileId,size:a.Size,sourceObjUrl:a.SourceObjUrl,thumbnailGenerated:a.ThumbnailGenerated},c.push(obj)}),this.model.set("attachment",c)},_renderWorkScan:function(){var a=this,b=this.model.get("taskOverview"),c=b.expirePlan.total+b.finishPlan.total;this.model.set("wantDailyId",!0),c||this.model.set("taskTotalCheck",!1),this.workScanView&&this.workScanView.close(),this.workScanView=new f({model:a.model,taskData:{doingPlan:b.doingPlan,expirePlan:b.expirePlan,finishPlan:b.finishPlan},isMore:!0,heightLimit:!1}),this.ui.workScan.append(this.workScanView.render().$el)},_renderDetialRemind:function(){var b=this;this.detialRemind&&this.detialRemind.close(),this.detialRemind=new g({model:new a.Model({dailyId:b.model.get("dailyId"),isSendEmail:!1,routerData:b.model.get("routerData")}),collection:new a.Collection(b.model.get("remindUsers"))}),this.ui.remindOthers.append(this.detialRemind.render().$el)},_renderFileUploadView:function(){var b=['<a href="javascript:void(0);" title="" data-name="file" class="upload_node <%if(!openYFY){%>upload_new_file<%}%>">点击上传</a>',"<%if(openYFY){%>",'<div class="tt_upload_type_container" data-name="upload-type">','<dl class="upload_type_item"><span class="upload_new_file">本地上传</span></dl>','<dl class="upload_type_item"><span id="fc_upload" class="fang_cloud_btn">亿方云</span></dl>',"</div>","<%}%>"].join(""),c=e.UploaderComponentView.extend({template:a._.template(b)}),d=a.Context.IsOpenYifangyun();this.fileUploadView=new c({container:this.$el,openYFY:d}),this.listenTo(this.fileUploadView,"uploadEnd",function(a,b){this._addAttachment(b.dfs,b.YFYresp)},this),this.fileUploadView.render()},_deleteAttachment:function(b){a.app.request("Daily:deleteAttachment",{plan_item_id:this.model.get("dailyId"),document_id:b}).done(function(a){}).fail(function(a){})},_addAttachment:function(b,c){var d=this;a.app.request("Daily:addAttachment",{objId:this.model.get("dailyId"),dfsUrls:b.join(","),documents:c}).done(function(a){a=d._dealOldResp(a),d.attachmentListView.collection.add(a)}).fail(function(a){})},_dealOldResp:function(b){if(b&&b.length){var c=a._.map(b,function(a){var b={};for(var c in a){var d=c.substring(0,1).toLowerCase()+c.substring(1);b[d]=a[c]}return b});return c}},_renderAttachmentList:function(b){this.attachmentListView&&this.attachmentListView.close(),this.attachmentListView=new e.AttachmentListView({collection:new a.Collection(b)}),this.listenTo(this.attachmentListView,"deleted",function(a){this._deleteAttachment(a)}),this.ui.attachemntList.html(this.attachmentListView.render().el)}})}),define("views/daily/detail/detail-base-view",["talent","templates/daily"],function(a,b){return a.ItemView.extend({template:b["daily/detail/detail-base"],ui:{},events:function(){var a={};return a},initialize:function(){},onRender:function(){},onClose:function(){}})}),define("views/daily/detail/detail-operation-note-view",["talent","templates/daily","TitaWidget"],function(a,b,c){return a.ItemView.extend({template:b["daily/detail/detail-operation-note"],ui:{dailyDoList:"div[data-name=daily-operate-content]"},events:function(){var a={};return a},initialize:function(){},onRender:function(){this._renderOperateView()},onClose:function(){},_renderOperateView:function(){var b=this,d=this.model.get("feedData"),e=d.feedOperations.comments||[];this.trackView=new c.TrackView({defaultCount:5,model:new a.Model({total:d.feedOperations.total,comments:e})}),this.listenTo(this.trackView,"showAll",function(){a.app.request("Comment:getFeedItemComment",{feed_id:this.model.get("feedId"),comment_type:1}).done(function(a){b.isClosed||b.trackView.model.set("comments",a.comments)})},b),this.ui.dailyDoList.append(this.trackView.render().$el)}})}),define("views/daily/detail/detail-index-page-view",["talent","templates/daily","views/daily/detail/detail-top-bar-view","views/daily/detail/detail-feed-view","views/daily/detail/detail-info-view","TitaWidget","views/common/edit-daily/edit-daily-main-view","views/daily/detail/detail-base-view","views/daily/detail/detail-operation-note-view"],function(a,b,c,d,e,f,g,h,i){return a.Layout.extend({template:b["daily/detail/detail-index-page"],className:"daily-detail",ui:{topBar:"div[data-name=top-bar]",container:"div[data-name=container]",info:"div[data-name=info]",feed:"div[data-name=feed]",evaluation:"div[data-name=evaluation-daily]"},regions:{topBar:"div[data-name=top-bar]",container:"div[data-name=container]",info:"div[data-name=info]",feed:"div[data-name=feed]",evaluation:"div[data-name=evaluation-daily]",dailyDoList:"div[data-name=daily-operation]",reward:"[data-name=reward]",tagContent:"div[data-name=tag-content]",baseInfo:"div[data-name=base-info]"},defaults:{id:"",isShowClosed:!0,isShowScroll:!0},events:function(){var a={};return a["click "+this.ui.activeGroup]="_clickChangeGroupHandler",a},initialize:function(){this.settings=a._.extend({},this.defaults,this.options),this.userInfo=a.Context.getUserInfo(),this.tagCollection=new a.Collection},_changeHandler:function(){a.app.vent.trigger("global-daily-detail-model",this.model.toJSON())},onRender:function(){this._getRouterData(),this._getDailyDetailData()},onShow:function(){var b=this;this.settings.isShowScroll&&(a.$(window).off("resize.Detail-Index-Page-View"),a.$(window).on("resize.Detail-Index-Page-View",function(){b._setPosition()}),this._setPosition(),this._bindScrollContent())},onClose:function(){a.$(window).off("resize.Detail-Index-Page-View"),a.app.vent.off("global-daily-detail-model")},_bindScrollContent:function(){var a=this;this.ui.container.on("scroll",function(){var b=$(this).scrollTop();b?a.ui.topBar.addClass("topbar-shadown"):a.ui.topBar.removeClass("topbar-shadown")})},_getRouterData:function(){var b=this,c=a.app.request("history:getQueryObject"),d=new a.$.Deferred;return c.done(function(a){b.routerData=a||{},b.routerData.to_user_id=b.routerData.to_user_id?b.routerData.to_user_id:b.userInfo.Id,b.routerData.isMySelf=b.routerData.to_user_id==b.userInfo.Id,b.model.set({routerData:b.routerData})}),d},_getDailyDetailData:function(){var b=this,c=this.settings.id;a.app.request("Daily:getDetailDaiyData",{daily_id:c}).done(function(a){if(!b.isClosed){if(null==a)return void b._renderErrorView();var c=b._dealOldResp(a.Attachments);a.Attachments={},a.Attachments=c,a.Publisher&&(b.routerData.to_user_id=a.Publisher.UserId,b.routerData.isMySelf=b.routerData.to_user_id==b.userInfo.Id),b.model.set(a),b._renderPageView()}})},_renderPageView:function(){this._renderBaseView(),this._renderTopBarView(),this._renderDetailInfoView(),this._renderDetailEView(),this._getFeedData(),this._renderTagSimView()},_renderBaseView:function(){this.detailBaseView=new h({model:this.model}),this.baseInfo.show(this.detailBaseView)},_getFeedData:function(){var b=this;a.app.request("Feed:getItemFeed",{feed_id:this.model.get("feedId"),comment_count:5}).done(function(a){b.isClosed||(b.model.set("feedData",a),b._renderRewardUserListView(),b._renderFeedView(),b._renderOperateView())})},_renderRewardUserListView:function(){var a=this.model.get("feedData");this.rewardDetailView=new f.RewardDetailView({feedId:a.feedId,feedType:a.feedType,user:a.publishUser}),this.reward.show(this.rewardDetailView)},_renderDetailInfoView:function(){this.detailInfoView&&this.detailInfoView.close(),this.detailInfoView=new e({model:this.model}),this.listenTo(this.detailInfoView,"submit:description",function(a){this._updataDaily(a)},this),this.info.show(this.detailInfoView)},_renderDetailEView:function(){var b=this.model.get("Publisher"),c=this.model.get("evaluateModels");if(this.userInfo.Id!=b.UserId||c.length){var d=this.model.get("evaluateModels")||[];this.evaluationView=new f.EvaluationView({collection:new a.Collection(d),customOptions:this.model.get("evaluateSettingsModel"),evaluationObject:"完成评价，有助于调动工作积极性",isAdd:!0}),this.listenTo(this.evaluationView,"saveEvaluation",function(a,b){this._requestEvaluation(a,b)}),this.evaluation.show(this.evaluationView)}},_requestEvaluation:function(b,c){var d=this,e=[];$(c.evaluateInfos).each(function(a,b){e.push({evaluateType:b.type,cType:b.cType,value:b.value,name:b.name,goal:b.goal,lvl:b.lvl})}),a.app.request("Daily:EvaluateDaily:",{objId:this.model.get("feedId"),objType:8,evaluateInfo:e,remark:c.remark}).done(function(a){d.isClosed||(d.model.set({evaluateModels:a}),d.evaluationView&&d.evaluationView.render(),d._changeHandler())}).fail(function(a){})},_renderTopBarView:function(){this.detailTopBarView||(this.detailTopBarView=new c({model:this.model,isShowClosed:this.settings.isShowClosed}),this.listenTo(this.detailTopBarView,"deleteSuccess",function(){this._renderErrorView(),a.app.vent.trigger("global-daily-detail-model",this.model.toJSON())}),this.listenTo(this.detailTopBarView,"addTag",function(a){this._renderTagView(a)}),this.listenTo(this.detailTopBarView,"editDaily",function(a){this.model.set(a),this.render(),this._setPosition(),this._changeHandler()})),this.topBar.show(this.detailTopBarView)},_renderErrorView:function(){this.errorPageView=new f.ErrorMessageView({content:"该总结已被主人删除了~"}),this.$el.html(this.errorPageView.render().$el)},_renderTagView:function(a){this.tagAddView&&this.tagAddView.close(),this.tagAddView=new f.TagAddDialogView({collection:this.tagCollection,objId:this.model.get("feedId"),objType:10,container:this.$el,node:a,pos:"bottom"}),this.listenTo(this.tagAddView,"checked",function(a){this.detailBaseView.$el.find("[data-name=daily-tag-container]").show(),this.feedTagAddView.addTagView(a.toJSON())}),this.$el.append(this.tagAddView.render().$el)},_renderTagSimView:function(){var a=this.model.get("tagList")||[];_.each(a,function(a){a.del=!0}),this.tagCollection.set(a),this.feedTagAddView&&this.feedTagAddView.close(),this.feedTagAddView=new f.TagAddView({collection:this.tagCollection,objId:this.model.get("feedId"),objType:10,container:this.$el.find("[data-name=daily-tag-container]"),pos:"bottomRight"}),this.listenTo(this.feedTagAddView,"tagBeClick",function(a){this.trigger("tagBeClick",a)}),this.tagContent.show(this.feedTagAddView),0==a.length?this.detailBaseView.$el.find("[data-name=daily-tag-container]").hide():this.detailBaseView.$el.find("[data-name=daily-tag-container]").show()},_renderFeedView:function(){var b=a.Context.getGlobal("tenant_function");b.social&&(this.detailFeedView=new d({model:this.model}),this.feed&&this.feed.show(this.detailFeedView))},_renderOperateView:function(){this.detailOperationView&&this.detailOperationView.close(),this.detailOperationView=new i({model:this.model}),this.dailyDoList.show(this.detailOperationView)},_dealOldResp:function(b){if(b&&b.length){var c=a._.map(b,function(a){var b={};for(var c in a){var d=c.substring(0,1).toLowerCase()+c.substring(1);b[d]=a[c]}return b});return c}},_updataDaily:function(b){var c=this;a.app.request("Daily:postUpdateDaily",{daily_id:this.model.get("daily_Id"),content:b.edit_description,fileUrls:""}).done(function(a){c.isClosed||(c.detailInfoView.model.set({description:a.description,edit_description:a.description}),c.detailInfoView&&c.detailInfoView.render(),c._renderFeedView())}).fail(function(a){c.detailInfoView&&c.detailInfoView.render()})},_setPosition:function(){var b=a.$(window).height(),c=a.$("[data-name=header-region]").outerHeight(),d=(a.$(document).scrollTop(),this.ui.topBar.outerHeight()||44);this.ui.container.css({height:b-c-d,"overflow-y":"auto"})}})}),define("notification",[],function(){function a(){return"external"in window&&"msIsSiteMode"in window.external?window.external.msIsSiteMode()?c:e:"webkitNotifications"in window?0===window.webkitNotifications.checkPermission()?c:d:"mozNotification"in window.navigator?c:e}function b(){return window.Notification.permission=a(),window.Notification.permission}var c="granted",d="denied",e="unknown";return Object(window.Notification).permission||(window.Notification=function(a,b){if(!(this instanceof window.Notification))return new window.Notification(a,b);var c,d=this;if(b=b||{},this.body=b.body||"",this.icon=b.icon||"",this.lang=b.lang||"",this.tag=b.tag||"",this.close=function(){Object(c).close&&c.close(),d.onclose()},this.onclick=function(){},this.onclose=function(){},"external"in window&&"msIsSiteMode"in window.external)window.external.msIsSiteMode()&&(window.external.msSiteModeActivate(),this.icon&&window.external.msSiteModeSetIconOverlay(this.icon,a));else if("webkitNotifications"in window)0===window.webkitNotifications.checkPermission()&&(c=window.webkitNotifications.createNotification(this.icon,a,this.body),c.show(),c.onclick=function(){d.onclick(),window.focus(),setTimeout(function(){c.cancel()},1e3)});else if("mozNotification"in window.navigator){var e=window.navigator.mozNotification.createNotification(a,this.body,this.icon);e.show()}},window.Notification.requestPermission=function(a){if(a=a||function(){},"external"in window&&"msIsSiteMode"in window.external){try{window.external.msIsSiteMode()||(window.external.msAddSiteMode(),a(e))}catch(c){}a(b())}else"webkitNotifications"in window?window.webkitNotifications.requestPermission(function(){a(b())}):a(b())},b()),window.Notification}),define("views/common/guide-modal/guide-modal-view",["talent","templates/common"],function(a,b){return a.Layout.extend({defaults:{tipType:"default",bindNode:null,width:30,container:"body",circleBias:{left:0,top:0},tipBias:{left:0,top:0},GuideName:"workGuide"},className:"guide-modal",template:b["common/guide-modal/guide-modal"],ui:{close:"div[data-name=guide-modal-btn]",modalTarget:"div[data-name=guide-modal-target]",modalCover:"div[data-name=guide-modal-cover]",guideBox:"[data-name=guide-box]"},events:function(){var a={};return a["click "+this.ui.close]="_closeModal",a},initialize:function(){this.settings=a._.extend({},this.defaults,this.options),this.settings.container=this.settings.container instanceof jQuery?this.settings.container:$(this.settings.container),this.settings.bindNode=this.settings.bindNode instanceof jQuery?this.settings.bindNode:$(this.settings.bindNode),this.userInfo=a.Context.getUserInfo()},templateHelpers:function(){return{width:this.settings.width,tipType:this.settings.tipType}},_closeModal:function(){var b=this.settings.GuideName,c=a.Context.getGlobal("userGuides")?a.Context.getGlobal("userGuides")[b]:{};c&&c.value&&a.app.request("Users:cancelUserGuide",{type:c.type}).done(function(c){var d=a.Context.getGlobal("userGuides");d[b].value=!1,a.Context.setGlobal("userGuides",d)}).fail(function(){var c=a.Context.getGlobal("userGuides");c[b].value=!1,a.Context.setGlobal("userGuides",c)}),this.$el.remove()},show:function(){var a=this;this.settings.container.append(this.render().$el),this.$el.click(function(){a._closeModal()})},onRender:function(){var a=this.settings.container.width(),b=this.settings.container.height(),c=a>b?a:b,d=this.settings.bindNode,e=d.offset().top-this.settings.container.offset().top+this.settings.circleBias.top,f=d.offset().left-this.settings.container.offset().left+this.settings.circleBias.left;this.$el.find(".guide-modal-cover").css({width:this.settings.width,height:this.settings.width,"border-width":c,"margin-left":-c,"margin-top":-c,top:e,left:f}),this.ui.guideBox.css({top:e+this.settings.tipBias.top,left:f+this.settings.tipBias.left})}})}),function(a){a.fn.extend({slimScroll:function(b){var c={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},d=a.extend(c,b);return this.each(function(){function c(b){if(j){var b=b||window.event,c=0;b.wheelDelta&&(c=-b.wheelDelta/120),b.detail&&(c=b.detail/3);var f=b.target||b.srcTarget||b.srcElement;a(f).closest("."+d.wrapperClass).is(v.parent())&&e(c,!0),b.preventDefault&&!u&&b.preventDefault(),u||(b.returnValue=!1)}}function e(a,b,c){u=!1;var e=a,f=v.outerHeight()-A.outerHeight();if(b&&(e=parseInt(A.css("top"))+a*parseInt(d.wheelStep)/100*A.outerHeight(),e=Math.min(Math.max(e,0),f),e=a>0?Math.ceil(e):Math.floor(e),A.css({top:e+"px"})),p=parseInt(A.css("top"))/(v.outerHeight()-A.outerHeight()),e=p*(v[0].scrollHeight-v.outerHeight()),c){e=a;var g=e/v[0].scrollHeight*v.outerHeight();g=Math.min(Math.max(g,0),f),A.css({top:g+"px"})}v.scrollTop(e),v.trigger("slimscrolling",~~e),h(),i()}function f(a){window.addEventListener?(a.addEventListener("DOMMouseScroll",c,!1),a.addEventListener("mousewheel",c,!1)):document.attachEvent("onmousewheel",c)}function g(){o=Math.max(v.outerHeight()/v[0].scrollHeight*v.outerHeight(),s),A.css({height:o+"px"});var a=o==v.outerHeight()?"none":"block";A.css({display:a})}function h(){if(g(),clearTimeout(m),p==~~p){if(u=d.allowPageScroll,q!=p){var a=0==~~p?"top":"bottom";v.trigger("slimscroll",a)}}else u=!1;return q=p,o>=v.outerHeight()?void(u=!0):(A.stop(!0,!0).fadeIn("fast"),void(d.railVisible&&z.stop(!0,!0).fadeIn("fast")))}function i(){d.alwaysVisible||(m=setTimeout(function(){d.disableFadeOut&&j||k||l||(A.fadeOut("slow"),z.fadeOut("slow"))},1e3))}var j,k,l,m,n,o,p,q,r="<div></div>",s=30,u=!1,v=a(this);if(v.parent().hasClass(d.wrapperClass)){var w=v.scrollTop();if(A=v.closest("."+d.barClass),z=v.closest("."+d.railClass),g(),a.isPlainObject(b)){if("height"in b&&"auto"==b.height){v.parent().css("height","auto"),v.css("height","auto");var x=v.parent().parent().height();v.parent().css("height",x),v.css("height",x)}if("scrollTo"in b)w=parseInt(d.scrollTo);else if("scrollBy"in b)w+=parseInt(d.scrollBy);else if("destroy"in b)return A.remove(),z.remove(),void v.unwrap();e(w,!1,!0)}}else if(!(a.isPlainObject(b)&&"destroy"in b)){d.height="auto"==d.height?v.parent().height():d.height;var y=a(r).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width,height:d.height});v.css({overflow:"hidden",width:d.width,height:d.height});var z=a(r).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:d.alwaysVisible&&d.railVisible?"block":"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:90}),A=a(r).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:d.alwaysVisible?"block":"none","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:99}),B="right"==d.position?{right:d.distance}:{left:d.distance};z.css(B),A.css(B),v.wrap(y),v.parent().append(A),v.parent().append(z),d.railDraggable&&A.bind("mousedown",function(b){var c=a(document);return l=!0,t=parseFloat(A.css("top")),pageY=b.pageY,c.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,A.css("top",currTop),e(0,A.position().top,!1)}),c.bind("mouseup.slimscroll",function(a){l=!1,i(),c.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),z.hover(function(){h()},function(){i()}),A.hover(function(){k=!0},function(){k=!1}),v.hover(function(){j=!0,h(),i()},function(){j=!1,i()}),v.bind("touchstart",function(a,b){a.originalEvent.touches.length&&(n=a.originalEvent.touches[0].pageY)}),v.bind("touchmove",function(a){if(u||a.originalEvent.preventDefault(),a.originalEvent.touches.length){var b=(n-a.originalEvent.touches[0].pageY)/d.touchScrollStep;e(b,!0),n=a.originalEvent.touches[0].pageY}}),g(),"bottom"===d.start?(A.css({top:v.outerHeight()-A.outerHeight()}),e(0,!0)):"top"!==d.start&&(e(a(d.start).position().top,null,!0),d.alwaysVisible||A.hide()),f(this)}}),this}}),a.fn.extend({slimscroll:a.fn.slimScroll})}(jQuery),define("$.slimScroll",function(){}),define("views/common/layouts/colum-nav-view",["talent","templates/common","jquery.ui","$.slimScroll"],function(a,b,c,d){var e=a.ItemView.extend({template:_.template('<a href=<%=( (type== "hash" || type=="extLink" || type=="newPage") ? href : "javascript:void(0);")%> <%if(type=="extLink" || type=="newPage"){%>target="_blank"<%}%> class="colum-navs__title tu-font-h5 tu-db" data-trigger="false"><%=title%></a>'),tagName:"li",className:"colum-navs_item",initialize:function(){this.$el.attr({"data-name":"colum-nav-title",id:this.model.get("id")}),"undefined"!=typeof this.model.get("active")&&this.model.get("active")&&this.$el.addClass("active")},templateHelpers:function(){return{activeId:this.options.activeId}}});return a.CompositeView.extend({defaults:{routerData:{},minWidth:100},className:"tu-height-full",template:b["common/layouts/colum-nav"],itemViewContainer:"ul",itemView:e,ui:{li:"[data-name=colum-nav-title]",containerRegion:".tu-page-colum-container",columNavLine:"[data-name=colum-navs-line]",nav:"[data-name=nav]",navContainer:"[data-name=nav-container]",container:"[data-name=container]"},events:function(){var a={};return a["click "+this.ui.li]="__liHandler",a["mousedown "+this.ui.columNavLine]="_downdHandler",a["mouseup "+this.ui.columNavLine]="_updHandler",a},initialize:function(){this.settings=a._.extend({},this.defaults,this.options),this.$el.css("minHeight","inherit");var b=this.options.routerData.iTalentNavCode;b?this.activeModel=this.collection.findWhere({code:b}):this.activeModel=this.collection.get(this.options.routerData.iTalentNavId),this.isMove=!1,this.localStorage=a.Context.localStorage(),this.activeModel?this.activeModel.set("active",!0):this.collection.models[0].set("active",!0)},onShow:function(){this._bindDrag(),this.ui.navContainer.slimScroll({alwaysVisible:!0,disableFadeOut:!1,height:"100%",distance:"2px",cursorAt:{left:5}});var a=this.localStorage.get("columNavWidth");this.setColumNavWidth(a)},itemViewOptions:function(){return{activeId:this.activeId}},__liHandler:function(b){var c=a.$(b.currentTarget),d=c.attr("id"),e=this.collection.get(d);this.activeId=d,this.ui.li.removeClass("active"),c.addClass("active"),this.trigger("navItemClick",e.toJSON())},_bindDrag:function(){var a=this;this.ui.columNavLine.draggable({addClasses:!1,containment:this.$el,iframeFix:!0}),this.ui.columNavLine.on("dragstart",function(b,c){a.ui.columNavLine.addClass("active")}),this.ui.columNavLine.on("dragstop",function(b,c){a.ui.columNavLine.removeClass("active"),a.changeWidth(b)})},changeWidth:function(a){var b=this.$el.offset(),c=a.clientX,d=(a.clientY,c-b.left<this.settings.minWidth?this.settings.minWidth:c-b.left);this.localStorage.set("columNavWidth",d),this.setColumNavWidth(d)},setColumNavWidth:function(a){this.ui.columNavLine.css({left:a-5}),this.ui.container.css({marginLeft:a}),this.ui.nav.css({width:a})}})}),define("views/common/nature/empty/index-page-view",["talent","templates/common"],function(a,b){return a.Layout.extend({template:b["common/nature/empty/index-page"],className:"nature-empty tu-height-full",defaults:{type:"balloon",imgSize:"xxl",textAlign:"bottom",padding:"50px",emptyText:"这里什么都没有..."},initialize:function(b){this.settings=a._.extend({},this.defaults,b),this.$el.css("padding",this.settings.padding)},templateHelpers:function(){var b={m:"4",l:"3",xl:"2",xxl:"1"},c=a.Context.getStaticUrl("images/empty/"+this.settings.type+"-"+b[this.settings.imgSize]+".png");return{type:this.settings.type,textAlign:this.settings.textAlign,imageUrl:c,emptyText:this.settings.emptyText}},onRender:function(){},onShow:function(){},onClose:function(){}})}),define("views/common/layouts/reward-view",["talent","templates/common"],function(a,b){var c=a.ItemView.extend({template:b["common/layouts/reward-item"],tagName:"li",className:"rewardheader-msg__item tu-fr bounceIn",initialize:function(){var a=this;this.$el.on("animationend webkitAnimationEnd",function(){a.$el.removeClass("bounceIn")})},onRender:function(){this.$el.attr("id",this.model.get("orderId"))}});return a.CompositeView.extend({itemView:c,className:"rewardheader-msg",template:b["common/layouts/reward"],tagName:"ul",ui:{},events:function(){var a={};return a["click li"]="_onClickName",a},initialize:function(b){this.collection.model=a.Model.extend({idAttribute:"orderId"})},_onClickName:function(b){var c=$(b.currentTarget),d=this.collection.get(c.attr("id"));a.app.vent.trigger("Global-Reward-Open",{data:d.toJSON(),needMask:!0,onOpen:function(a){c.addClass("zoomOut"),setTimeout(function(){c.remove()},1e3)}})},addItemView:function(a,b,c){var d=this,e=Marionette.getOption(this,"itemViewOptions");_.isFunction(e)&&(e=e.call(this,a,c));var f=this.buildItemView(a,b,e);this.addChildViewEventForwarding(f),this.triggerMethod("before:item:added",f),this.children.add(f),setTimeout(function(){f.render(),d.$el.append(f.el)},500*c),this._isShown&&Marionette.triggerMethod.call(f,"show"),this.triggerMethod("after:item:added",f)}})}),define("views/common/layouts/activity-view",["talent","templates/common","simplemodal","moment"],function(a,b,c,d){return a.Layout.extend({template:_.template("<div></div>"),className:"",defaults:{},initialize:function(a){},templateHelpers:function(){},onRender:function(){this._requestActivity()},_renderTopActivity:function(b){var c='<div class="activity-top"><a href="'+b.link+'" target="_blank"><div class="activity-top-left tu-fl"></div><div class="activity-top-center tu-fl">'+b.name+'</div><div class="activity-top-right tu-fl"></div></a></div>';a.$(".btns-group").before(c)},_requestActivity:function(){var b=this;a.app.request("Discountcard:saleActivity").done(function(a){a&&(a&&a.dealLine&d().isAfter(a.deadLine)||(a&&!a.isNewSaleGuide?b._renderTopActivity(a):b._renderModal(a)));
})},_renderModal:function(b){var d=this;this.editDialog=new c({autoResize:!0,minHeight:371,minWidth:656,zIndex:1e4,closeClass:"activity-close",onClose:function(){this.close(),d._renderTopActivity(b)}});var e='<a target="_blank" href="'+b.link+'"><image src="'+a.Context.getStaticUrl("/images/activity/gan-en-hua-fei.png")+'"/></a>';this.editDialog.render(e).appendTo("body")},onClose:function(){}})}),define("views/common/marketingCampaign/marketing-campaign-view",["talent","templates/common"],function(a,b){return a.ItemView.extend({template:b["common/marketingCampaign/marketing-campaign-view"],className:"marketing-campaign",initialize:function(a){this.options=a},ui:{close:'[data-name="close"]',tip:'[data-name="tip"]'},templateHelpers:function(){return{isNewSaleCornerGuide:this.options.isNewSaleCornerGuide,link:this.options.link,logoDfsUrl:this.options.logoDfsUrl,marketingPicUrl:this.options.marketingPicUrl}},events:function(){var a={};return a["click "+this.ui.close]="_closeBtnClickHandler",a},onRender:function(){},_closeBtnClickHandler:function(a){a.stopPropagation(),this.ui.tip.remove()}})}),define("views/common/layouts/italent-layout",["talent","templates/common","TitaWidget","iTalent-header","iTalent-sidebar","views/more/guide/index-page-view","moment","views/common/onlineservice/onlineservice-view","views/common/system-upgrade-view","views/common/guidance/titaUpdate/index","views/common/guidance/newClient/index","views/common/guidance/extraGuidance/index","views/common/remindme-widget/remindme-widget-view","webim","views/daily/detail/detail-index-page-view","notification","views/common/guide-modal/guide-modal-view","views/common/layouts/colum-nav-view","$.slimScroll","views/common/nature/empty/index-page-view","views/common/layouts/reward-view","simplemodal","views/common/layouts/activity-view","views/common/marketingCampaign/marketing-campaign-view"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){function y(){}y.prototype={inin:function(){this.hasDesktopNotice=!1},show:function(b,c,d){if(!this.hasDesktopNotice){var e=this,f=a.Context.getStaticUrl("images/common/logo-v2.png");b=b?b:f,"granted"!==p.permission&&p.requestPermission(),this.hasDesktopNotice=!0,310040==BSGlobal.tenantInfo.Id&&(f=a.Context.getStaticUrl("extras/images/oem/oem-icon-40x40.png"),c=BSGlobal.tenantInfo.Abbreviation||"",c+="提醒"),this.DNotification=new p(c,{body:d,icon:f,onClose:function(){e.hasDesktopNotice=!1}}),this.Timer&&clearTimeout(this.Timer),this.Timer=setTimeout(function(){e.DNotification.close(),e.hasDesktopNotice=!1},6e3)}},hide:function(){this.DNotification&&this.DNotification.close()}};var z=a.BaseMasterLayout.extend({template:b["common/layouts/italent-layout"],regions:{header:"div[data-name=header-region]",sidebar:"div[data-name=nav-region]",subNav:"div[data-name=sub-nav-region]",rightSidebar:"div[data-name=rightbar-region]",rightView:"div[data-name=rightview-region]",mainInner:"div[data-name=main-container-innner-region]"},initialize:function(){var b=this;this._getRouterData(),this.userInfo=a.Context.getUserInfo(),this.apiPath=BSGlobal.apiPath,this.__scrollBarWidth=null,this.headerHeight=41,this.rightbarWidth=0,this.isFirstRender=!0,this.model=new a.Model,this.navigationObjData={},this.navigationObjDataCode={},this.mainInnerMinHeight=0,this.ISVType=a.Context.getGlobal("ISVType"),this.model.set({messageRedCount:0,todoRedCount:0,mRedPackIndicator:0}),this.model.on("change:messageRedCount",function(){b._updateMsgData(),b._showDesktopNotice()}),this.model.on("change:todoRedCount",function(){b._updateTodoData(),b._showDesktopNotice()}),this.model.on("change:mRedPackIndicator",function(){b._renderReward()});var c=a.Collection.extend({model:a.Model.extend({idAttribute:"type"})});this.showUpaasEnterpriseMedal=!1,this.indicatorCollection=new c,this.todoCollection=new a.Collection,this.navCollection=new a.Collection,window.iTalentSDK&&window.iTalentSDK.register(),a.app.vent.on("webimLogin:Italent-Layout",function(){b.headerView&&b.headerView.reloadWebIM()}),a.app.vent.on("Layout:PageLinePos",function(){b._setPageLinePos()}),a.app.vent.off("global-daily-detail-pull-screen"),a.app.vent.on("global-daily-detail-pull-screen",function(a){a&&b._openDailyDetailPageView(a)}),window.iTalentSDK&&window.iTalentSDK.register({listenEvent:"upaas_home_menuList",cb:function(c){c.groupId;switch(c.type){case"hash":if(1===c.appId||100===c.appId){var d=c.href;d+=-1==d.indexOf("?")?"?":"&",d+="iTalentNavId="+c.id+"&iTalentNavCode="+c.code,a.app.execute("history:navigate",d,{trigger:!0,forceTrigger:!0})}break;case"iframe":var e=c;e.children&&e.children.length&&(e=e.children[0]),b.routerData.iTalentNavId=e.id,b.routerData.iTalentNavCode=e.code,b._navHrefIframe(e,!0);break;case"newPage":window.open(c.href)}}})},className:"tu-page-layout tu-height-full",regionsClass:{header:d,sidebar:e},onShow:function(){$("html,body").css({overflow:"hidden"});var b=this;this.ui={pageContainer:this.$el.find(".tu-page-container"),rightSidebar:this.$el.find("div[data-name=rightbar-region]"),mainContainer:this.$el.find("div[data-name=main-container-region]"),mainInner:this.$el.find("div[data-name=main-container-innner-region]"),rightView:"div[data-name=rightview-region]"},this._getActiveChannel(),this._getScrollBarWidth(),this._renderGuideView(),this._listenRouterChange(),this._clearGlobalIndicator(),this._renderHeadView(),a.Context.getGlobal("newNavigation")||window.top!=window.self?this._renderSidebarView():this._getNewNavgationData().done(function(){b._renderSidebarView()}),this.refresh(),this._renderRightView(),this._renderMessage(),this._renderPopUpgrade();var d=new h;d.render();var e=a._.debounce(function(a){b._setMainInngerWidth(),b._setPageLinePos()});$(window).off("resize.Tita-Layout"),$(window).on("resize.Tita-Layout",e),this._openPullScreen(),this.inintDesktopNotice=!0,navigator.userAgent.indexOf("MSIE")>=0?this.inintDesktopNotice=!1:this.desktopNotice=new y,this._showUpaasMedal(),c.util.rewardGetFile(),this._renderIMView(),1e4==this.ISVType&&this.showMarketingCampaign()},_renderActivity:function(){1e4===this.ISVType&&(this.activityView=new w,this.activityView.render())},_renderIMView:function(){var b=a.Context.IsOpenApp("951"),c=this.userInfo.UserType,d=navigator.userAgent,e="MSIE",f=d.indexOf(e),g=!1,h=a.Context.getGlobal("webPath");if(f>=0){var i=Number(d.substr(f+e.length));g=i>9?!1:!0}!b||3!=c||g&&"tita.gift"!=h&&"italent.link"!=h||this._renderWebim()},_showUpaasMedal:function(){var b=a.Context.getGlobal("medalDetail");b&&c.util.upaasMedal()(b)},_showUpaasEnterpriseMedal:function(){c.util.upaasEnterpriseMedal()},_getActiveChannel:function(){var a=decodeURIComponent(location.hash),b=a.indexOf("?"),c=[];b>-1&&(a=a.slice(1,b)),""!==a&&(c=a.split("/")),c.length&&(this.activeChannel=c[0])},_renderGuideModalView:function(){this.guideModalView&&this.guideModalView.close(),this.guideModalView=new q({}),this.guideModalView.show()},_showDesktopNotice:function(){this.inintDesktopNotice&&this.desktopNotice.show("","tita提醒","您有新的消息！请查收。")},_renderWebim:function(){var b=this,c=a.Context.getUserInfo().Id,d=a.Context.getTenantInfo().Id,e=a.Context.getStaticUrl("extras/scripts/components/webim/"),f="//webim."+a.Context.getGlobal("webPath"),g=function(){$.ajax({url:f+"/api/v1/"+d+"/"+c+"/webim/identity",type:"GET",success:function(f){if(1==f.Code){var g=new n({accid:c,token:f.Data.Token,tenantId:d,appId:1,appKey:f.Data.Appkey,resourceFileUrl:e,callBack:function(){b.isClosed||(a.Context.setGlobal("webimLoaded",!0),a.app.vent.trigger("webimLogin:Italent-Layout"),window.iTalentSDK&&window.iTalentSDK.sendMessage({publishEvent:"webIMLoaded",data:{webimLoaded:!0}}))},onError:function(){}});g.init()}}})};a.Context._getXSSAjax("webim",g)},_renderDiagnosticTool:function(){a.$("#clinic-btn-start")},_renderSystemUpgrade:function(){var a=new i;this.$el.find(".tu-page-header").append(a.render().$el)},_renderPopUpgrade:function(){var b=a.Context.getGlobal("userGuides")||{},c=b.newUserGuide&&b.newUserGuide.value,d=b.upgradeGuide&&b.upgradeGuide.value,e=b.externalNewUserGuide&&b.externalNewUserGuide.value;c?(this.guidanceView=new k({isShow:!1}),this.guidanceView.showGuidance()):d?(this.guidanceView=new j({isShow:!1}),this.guidanceView.showGuidance()):e&&(this.guidanceView=new l({isShow:!1}),this.guidanceView.showGuidance())},refresh:function(){var a=this,b=this.options,c=b.showRightSidebar;c&&2!==this.userInfo.UserType?this.rightbarWidth=65:this.rightbarWidth=0,this.hideSidebar?(this.SidebarViewClass=null,this.$el.addClass("tu-page-hidesidebar")):this.$el.removeClass("tu-page-hidesidebar"),setTimeout(function(){a._getRouterData().done(function(){a._renderMainView(),a._renderSidebarRight(),a.trigger("refresh")})},0)},_getRouterData:function(){var b=new a.$.Deferred,c=this;return a.app.request("history:getQueryObject").done(function(a){c.routerData=a,b.resolve()}),b},_listenRouterChange:function(){var b=this;a.app.vent.on("route",function(c,d,e){b.activeChannel=c[0],b.guideIndexPageView&&b.guideIndexPageView.close(),a.app.request("history:getQueryObject").done(function(c){var d=decodeURIComponent(location.hash),e=d.split("?")[0];"#bench"==e&&b._renderGuideView(),a.app.vent.trigger("__iTalent_Sidebar_Click"),b.routerData=c,b.routerData.iTalentNavCode=b.routerData.iTalentNavCode||"",b.routerData.iTalentNavId=b.routerData.iTalentNavId||"",b._hightLightNav()})})},_renderGuideView:function(){var b=this;a.app.request("Plan:getMockDateData",{group_id:0,date:g().format("YYYY/MM/DD")}).done(function(c){var d=c&&c.Data&&c.Data.taglist?c.Data.taglist:[];b._getActiveData(d),b.guideIndexPageView=new f({planTableId:b.planTableId}),b.ui.mainContainer.append(b.guideIndexPageView.render().$el),b._adjustGuideView(),b.routerData.show_guide&&"true"==b.routerData.show_guide&&(b.guideIndexPageView.show(),b.routerData.show_guide=!1,a.Context.changeHash(b.routerData))})},_adjustGuideView:function(){this.guideIndexPageView&&this.guideIndexPageView.$el.addClass("page-sidebar-anmite").css("paddingLeft",this.sidebarWidth)},_getActiveData:function(b){var c=b;this.activeGroup=a._.findWhere(c,{Active:!0})||c[0];var d=this.activeGroup.PlanTableListModels,e=a._.findWhere(d,{Active:!0})||d[0];this.planTableId=e.PlanTableModels[0].PlanTableId},_renderHeadView:function(){var b=a.Context.getTenantInfo(),c=this.userInfo,d=a.Context.getGlobal("titaHost"),e={},f=b.Logo,g=a.Context.getGlobal("ISVType");f||(10001==g?f=a.Context.getStaticUrl("images/logo_italent.png"):1e4==g&&(f=a.Context.getStaticUrl("images/logo_tita.png")));var h="#set?url="+d+"/u/"+c.Id+"/Setting/Avatar&page_id=avatar",i=b.Source,j=a.Context.getGlobal("isNewSetting"),k=!1,l=a.Context.getGlobal("tm"),d=a.Context.getGlobal("titaHost"),m=[];if("undefined"!=typeof j&&j&&(h="#widget/italent?iTalentFrame="+encodeURIComponent(d+"/"+c.Id+"/UIBuilder#/PersonalSettings")),830!==i&&this.userInfo.IsUserManager&&(k=!0),this.todoBtn={type:"Todos",iconName:"header-icon-daiban",id:"",title:"待办",href:"#more/messages?messageType=1&isRead=1",reminds:{remindCount:0,viewAllHref:"#more/messages?messageType=1&isRead=1&autoApply=true",remindList:[]}},this.messageBtn={type:"Message",iconName:"header-icon-xiaoxi",id:"",title:"通知",href:"#more/messages?messageType=2&isRead=1",reminds:{remindCount:0,viewAllHref:"#more/messages?messageType=2&isRead=1",remindList:[]}},"10001"==g){m=[{content:"个人设置",className:"tu-icon-gerenshezhi tu-ft_m4 tu-vam",href:h,target:"_blank"}],k&&m.push({content:"企业设置",className:"tu-icon-qiyeshezhi tu-ft_m4 tu-vam",href:l,target:"_blank"});var n={type:"Settings",iconName:"header-icon-shezhi",id:"",title:"设置",href:k?"":h,target:"_blank",reminds:{remindCount:0,viewAllHref:"",remindList:m}};this.headerBtn=[n,this.todoBtn,this.messageBtn]}else this.headerBtn=[this.todoBtn,this.messageBtn];var o="undefined"!=typeof BSGlobal.isHunter?a.Context.getGlobal("isHunter"):!0;o&&this.headerBtn.unshift({type:"Search",iconName:"header-icon-sousuo",id:"",title:"搜索同事、动态、项目等",href:"javascript:void(0)",reminds:{remindCount:0,viewAllHref:"#",remindList:[]}});var p=this._getUserInfoDropDown(h,l,k);e=a._.extend({},e,{companyInfo:{logo:f,name:b.Abbreviation,href:d},showWebIM:a.Context.IsOpenApp("951")&&3==this.userInfo.UserType,userInfo:{name:c.Name,avatar:{color:c.UserAvatar.Color,hasAvatar:c.UserAvatar.HasAvatar,small:c.UserAvatar.Small}},oprBtn:this.headerBtn,userInfoDropDown:p}),this.headerView=new this.regionsClass.header(e),this.listenTo(this.headerView,"iconClickEvent",function(a){switch(a.type){case"Todos":this._getTodoData()}}),this.listenTo(this.headerView,"iconOprEvents",function(a){switch(a.target){case"Search":this._search(a.exportData)}}),this.header.show(this.headerView),this._addTelphone(),$("body").trigger("OEMHideHomePageHeader.loadSuccess",this.headerView.$el);var q=this.headerView.$el.outerHeight();this.headerHeight!==q&&(this.headerHeight=q,this.ui.pageContainer.css({top:q}))},_addTelphone:function(){if(1e4===this.ISVType){var b=a.Context.getGlobal("tenantAuthentication"),c=b&&b.Version||1,d=this.headerView.$el.find(".btns-group");1===c?d.after('<div class="header-consult-telphone">咨询电话：18511391190</div>'):d.after('<div class="header-consult-telphone">您的专属咨询顾问：小冬（18511391191）</div>')}},showMarketingCampaign:function(){var b=this;a.$.ajax({url:a.Context.getApiUrl("sale/activity"),type:"GET",contentType:"application/json;charset=utf-8"}).done(function(a){if(1==a.Code){var c=a.Data||[],d=c[0]||{};b.MarketingCampaign=new x({isNewSaleCornerGuide:d.isNewSaleCornerGuide,link:d.link,logoDfsUrl:d.logoDfsUrl,marketingPicUrl:d.marketingPicUrl});var e=b.headerView.$el.find(".header-right");e&&e.append(b.MarketingCampaign.render().el)}})},_getUserInfoDropDown:function(b,c,d){var e=[{title:"个人设置",href:b,target:"_self",type:"header-userSetting"},{title:"退出登录",href:"/Account/Logout",target:"_self",type:"header-logout"}];if(1e4==this.ISVType&&d){var c=a.Context.getGlobal("tm"),f=c+"/"+this.userInfo.Id+"/TmHome#?iTalentFrameType=iframe&iTalentFrame="+encodeURIComponent(c+"/"+this.userInfo.Id+"/indexV2#/advancedSettings");e.splice(1,0,{title:"企业管理后台",href:c,target:"_blank",type:""},{title:"开启高级功能",href:f,target:"_blank",type:""})}return 2!==this.userInfo.UserType&&e.unshift({title:"个人主页",href:a.Context.getUserUrl(),target:"_self",type:"header-mainPage"}),e},_search:function(b){var c=encodeURIComponent(this._searchEncode(b.searchValue)),d=a.Context.getGlobal("titaHost"),e=encodeURIComponent("?search="+c),f=window.location.pathname,g=d+f+"#search"+e;window.location.href=g},_searchEncode:function(a){var b="";return 0==a.length?"":(b=a.replace(/&/g,"&amp;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/\\s+/g,"&nbsp;"),b=b.replace(/\'/g,"&apos;"),b=b.replace(/\"/g,"&quot;"),b=b.replace(/\n/g,""))},_parseUrl:function(){var a={},b=decodeURIComponent(location.hash).split("?");if(a.hash=b[0],b[1]&&""!==b[1])for(var c=b[1].split("&"),d=0;d<c.length;d++){var e=c[d].split("=");a[e[0]]=e[1]}return a},_renderSidebarView:function(){var b=this.sidebarViewClass?this.sidebarViewClass:this.regionsClass.sidebar;if(this.SidebarViewClass!==b||this.refreshSidebar){var c=a.Context.getGlobal("newNavigation")||[];this._parseUrl();if(!c.length)return;this._formatNavgationData(c),this.navCollection.reset(c),this.SidebarViewClass=b,this.sidebarView=new this.SidebarViewClass({menuArry:c}),this.listenTo(this.sidebarView,"layoutChanged",function(b){this.sidebarWidth=this.hideSidebar?0:b.width,this.hideSidebar||(this._adjustSidebarView(),this._adjustGuideView(),a.app.vent.trigger("rightSideChange:italent-layout"))}),this.listenTo(this.sidebarView,"hashChanged",function(b){this.routerData.iTalentNavId=b.id,this.routerData.iTalentNavCode=b.code;var c=b,d=this.routerData.iTalentNavCode&&this.navigationObjDataCode[this.routerData.iTalentNavCode];d||(d=this.navigationObjData[this.routerData.iTalentNavId]),2==d.level&&d.children&&d.children.length&&(c=d.children[0],d.children.length>1&&"iframe"!==c.type?(c=a._.findWhere(d.children,{type:"iframe"}),c&&(this.routerData.iTalentNavId=c.id,this.routerData.iTalentNavCode=c.code)):(this.routerData.iTalentNavId=c.id,this.routerData.iTalentNavCode=c.code)),b.MenuPoint&&b.MenuPoint.value&&this._closeMenuNewPoint(b),this._navHrefIframe(c,!0);var e=b.indicatorType||null;e&&b.newCount&&a.app.vent.trigger("GlobalIndicatorDelete",{indicatorType:e,messageType:0})}),this.sidebarWidth=this.sidebarView.getWidth().width,this.ui.pageContainer.css({marginLeft:this.sidebarWidth}),this.sidebar.show(this.sidebarView),$("body").trigger("OEMHideItalentIndex.loadSuccess",this.sidebarView.$el),this._hightLightNav()}else this.ui.pageContainer.css({marginLeft:this.sidebarWidth})},_closeMenuNewPoint:function(b){a.app.request("Users:cancelMenuGuide",{type:b.MenuPoint.key}).done(function(c){var d=a.Context.getGlobal("newNavigation")||[],e=d.map(function(a){return a.id==b.id&&(a.MenuPoint.value=!1),a});a.Context.setGlobal("newNavigation",e)}).fail(function(){})},_hightLightNav:function(){var a=this.routerData,b=a.iTalentNavCode,c=a.iTalentNavId,d=b&&this.navigationObjDataCode[a.iTalentNavCode];if(d||(d=this.navigationObjData[a.iTalentNavId]),d){if(3==d.level){var e=this.navigationObjData[d.pId];b=e.code,c=e.id}this.sidebarView&&this.sidebarView.highLightSet({code:b,id:c})}},_navHrefIframe:function(b,c){var d=b&&b.title||"italent",e=b.type;if("newPage"!==e&&"extLink"!==e&&a.Context.setPageTitle(d),"iframe"==b.type){var f="widget/italent?iTalentNavId="+b.id+"&iTalentFrameType="+b.type+"&iTalentFrame="+encodeURIComponent(b.href);a.app.execute("history:navigate","#"+f,{trigger:c,forceTrigger:!0,replace:!0})}},_getNewNavgationData:function(){var b=new a.$.Deferred;return a.app.request("Menu:getHomeLeft",{}).done(function(c){a.Context.setGlobal("newNavigation",c),b.resolve()}).fail(function(){b.reject()}),b},_formatNavgationData:function(b){function c(b,e,f){e+=1;for(var g=0;g<b.length;g++){var h=b[g],i=h.id;if(h.level=e,h.pId=f,d.navigationObjData[h.id]=h,h.code&&(d.navigationObjDataCode[h.code]=h),(h.code===d.routerData.iTalentNavCode||h.id==d.routerData.iTalentNavId)&&a.Context.setPageTitle(h.title),"hash"==h.type){var j="iTalentNavId="+h.id+(h.code?"&iTalentNavCode="+h.code:"");h.href.indexOf("?")>0?h.href+="&"+j:h.href+="?"+j}h.children.length&&c(h.children,e,i)}}var d=this,e=0;c(b,0,e)},_updateNavData:function(a){var b=this,c={feedIndicator:148};this.indicatorCollection.each(function(a){var d=a.get("type");if("feedAboutMeIndicator"==d){var e=c.feedIndicator,f=b.navCollection.get(e);if(!f)return;f.set("newCount",!0),b.sidebarView.setMsgNotice({id:f.get("id"),newCount:a.get("value")>0?!0:!1})}})},_adjustSidebarView:function(a){this._setMainInngerWidth(),this.options.hideSubMenu||this._setPageLinePos(),this.ui.pageContainer.addClass("page-sidebar-anmite2").css("marginLeft",this.sidebarWidth)},_setMainInngerWidth:function(){var a=this.__scrollBarWidth.vertical||0,b=this.hideSidebar?0:this.sidebarWidth,c=this.$el.width(),d=this.$el.height();"undefined"!=typeof this.options.scrolling&&"no"==this.options.scrolling?(a=0,this.ui.mainContainer.removeClass("tu-scroll")):this.ui.mainContainer.addClass("tu-scroll"),this.mainInnerMinHeight=d-this.headerHeight,this.ui.mainInner.css({marginRight:this.rightbarWidth,width:c-b-this.rightbarWidth-a,minHeight:this.mainInnerMinHeight})},_getNav_3_Data:function(){var a=this.navigationObjData[this.routerData.iTalentNavId];this.routerData.iTalentNavCode&&(a=this.navigationObjDataCode[this.routerData.iTalentNavCode]),this.nav_3_data=[],a&&2===a.level&&(this.nav_3_data=a.children),a&&3===a.level&&(this.nav_3_data=this.navigationObjData[a.pId].children)},_renderMainView:function(){var b=this;this.__scrollBarWidth.vertical||0,this.hideSidebar?0:this.sidebarWidth,this.$el.width(),this.$el.height();this.ui.mainInner.attr("style",""),this._setMainInngerWidth();var c=["bench","daily","document","management","plan","staff","sitemap","report"];if(c.indexOf(this.activeChannel)>-1&&2==this.userInfo.UserType){var d=new t({});return void this.mainInner.show(d)}return this.mainView=new this.mainViewClass(this.options),this._getNav_3_Data(),this.nav_3_data.length?(this.columNavView=new r({collection:new a.Collection(this.nav_3_data),routerData:this.routerData}),this.listenTo(this.columNavView,"navItemClick",function(a){this.routerData.iTalentNavId=a.id,this.routerData.iTalentNavCode=a.code,this.routerData.iTalentFrame=a.href,this._navHrefIframe(a,!1),setTimeout(function(){b.mainView=new b.mainViewClass(b.options),b.columNavView.ui.containerRegion.html(b.mainView.render().$el)},100)}),this.mainInner.show(this.columNavView),this.columNavView.ui.containerRegion.html(this.mainView.render().$el),void(this.mainView.onShow&&this.mainView.onShow())):(this.listenTo(this.mainView,"show",function(){this._adjustPagelinePos()}),void this.mainInner.show(this.mainView))},_renderSidebarRight:function(){var a=this.options,b=a.showRightSidebar,c=b&&b(),b=c&&c.showRightSidebar,d=c&&c.rightSidebarView;if(2==this.userInfo.UserType&&(b=!1),!b)return this.rightSidebar.close(),this.RightSidebarView=null,void this.ui.rightSidebar.detach();var e=c&&c.refreshSidebarRight?c.refreshSidebarRight:!1;if(this._getFragments(e),b&&this.RightSidebarView){if(!this.refreshSidebarRight)return;this.RightSidebarView=c.rightSidebarView,this.rightSidebar.show(this.RightSidebarView),this._adjustSidebarRight()}else b&&!this.RightSidebarView?(this.ui.pageContainer.append(this.ui.rightSidebar),this.RightSidebarView=d,this.rightSidebar.show(this.RightSidebarView),this._adjustSidebarRight()):(this.rightSidebar.close(),this.RightSidebarView=null,this.ui.rightSidebar.detach())},_adjustSidebarRight:function(){var a=this.__scrollBarWidth.vertical||0;this.ui.rightSidebar.css({right:a}).show(),this.ui.rightSidebar.find(".membership_right").css({right:this.__scrollBarWidth.vertical})},_adjustPagelinePos:function(){return"undefined"==typeof this.options.hideSubMenu?void this.$el.addClass("tu-page-hidesubmenu").removeClass("tu-page-dividing").removeClass("tu-page-submenu"):void(this.options.hideSubMenu?this.$el.addClass("tu-page-hidesubmenu").removeClass("tu-page-submenu").removeClass("tu-page-dividing"):("undefined"!=typeof this.options.isDividing&&this.options.isDividing?this.$el.removeClass("tu-page-hidesubmenu").removeClass("tu-page-submenu").addClass("tu-page-dividing"):this.$el.removeClass("tu-page-hidesubmenu").removeClass("tu-page-dividing").addClass("tu-page-submenu"),this._setPageLinePos()))},_setPageLinePos:function(){var a=this.$el.find("[data-tu-submenu=tu-submenu]").width(),b=this.$el.find(".tu-row-fuild").first();"undefined"!=typeof this.options.isDividing&&this.options.isDividing?b.css({backgroundPosition:a-1+"px 0"}):b.css({backgroundPosition:-(2e3-a)+"px 0"})},_renderRightView:function(){var a=this.__scrollBarWidth.vertical||0,b=new c.PullScreenView({topBias:this.headerHeight,showFullScreenButton:!0});this.listenTo(b,"open",function(b){this.ui.mainInner.css("minHeight",this.mainInnerMinHeight-a),this.ui.mainContainer.stop().animate({marginRight:b.width},b.duration)}),this.listenTo(b,"closed",function(a){this.ui.mainContainer.animate({marginRight:0},a.duration),this.ui.mainContainer.removeClass("tu-scroll").addClass("tu-scroll")}),this.rightView.show(b)},_getFragments:function(b){var c=this;a.app.request("history:getFragments").done(function(d){c.refreshSidebarRight=b?!0:!1,a._.difference(c.routerFragments,d).length&&(c.refreshSidebarRight=!0),c.routerFragments=d})},_getScrollBarWidth:function(){if(this.__scrollBarWidth)return this.__scrollBarWidth;var a=document.createElement("div");return a.setAttribute("class","tu-scroll"),a.style.cssText="overflow:scroll;width:100px;height:100px; position: absolute;top:-9999px;",document.body.appendChild(a),a&&(this.__scrollBarWidth={horizontal:a.offsetHeight-a.clientHeight-1,vertical:a.offsetWidth-a.clientWidth}),document.body.removeChild(a),this.__scrollBarWidth},_renderMessage:function(){var a=this;this._getAjaxObjRemindData(),this.Timer&&clearInterval(this.Timer),this.Timer=setInterval(function(){a._getAjaxObjRemindData()},15e3)},_getDate:function(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate();return 10>c&&(c="0"+c),10>d&&(d="0"+d),b+"/"+c+"/"+d},_getAjaxObjRemindData:function(){var b=this,c=this.model.get("time")||this._getDate(),d=location.host,e=decodeURIComponent(location.hash);e.split("?")[0];if(this.apiPath.split("//")[1]===d)var f=window;else var f=$('iframe[src="'+this.apiPath+'/iframe.html"]')[0].contentWindow;var g=f.XMLHttpRequest?new f.XMLHttpRequest:f.ActiveXObject?new f.ActiveXObject("Microsoft.XMLHTTP"):new f.XMLHttpRequest;g.open("GET",a.Context.getApiUrl("RemindV2/Get?dateTime=")+c,!0),g.onreadystatechange=function(){if(4===g.readyState){if(200===g.status){if(b.isClosed)return;var c={};try{c=JSON.parse(g.responseText)}catch(d){}var e=c.Data&&c.Data.indicators||[],f=(c.Data&&c.Data.reminds||[],a._.findWhere(e,{messageType:1,indicatorType:1969002}));f&&!b.showUpaasEnterpriseMedal&&(b.showUpaasEnterpriseMedal=!0,b._showUpaasEnterpriseMedal()),b.indicatorCollection.reset(e),b._setGlobalIndicator();var h=b.indicatorCollection.get("messageIndicator")&&b.indicatorCollection.get("messageIndicator").get("value")||0,i=b.indicatorCollection.get("todoIndicator")&&b.indicatorCollection.get("todoIndicator").get("value")||0,j=b.indicatorCollection.get("mRedPackIndicator")&&b.indicatorCollection.get("mRedPackIndicator").get("value")||0;b.model.set({messageRedCount:h,todoRedCount:i,mRedPackIndicator:j}),b._renderRemindMeView(c),b._updateNavData()}if(401===g.status){a.Context.getGlobal("logoutUrl")||"/Account/Logout";location.reload()}}},g.setRequestHeader("Accept","*"),g.setRequestHeader("Content-Type","application/json;charset=utf-8"),g.setRequestHeader("X-Beisen-ts",(new Date).getTime()),g.setRequestHeader("X-XSRF-Token",a.Context.getGlobal("webApiToken")),g.send(null)},_renderRemindMeView:function(a){this.remindmeWidgetItemView?(this.remindmeWidgetItemView.model.set({time:a.Data&&a.Data.date||"",data:a.Data&&a.Data.reminds||[]}),this.remindmeWidgetItemView.modelDataChange()):(this.remindmeWidgetItemView=new m,this.$el.append(this.remindmeWidgetItemView.render().$el),this.remindmeWidgetItemView.model.set({time:a.Data&&a.Data.date||"",data:a.Data&&a.Data.reminds||[]}))},_setGlobalIndicator:function(b){a.app.vent.trigger("GlobalIndicatorUpdate",this.indicatorCollection),window.BSGlobal||(window.BSGlobal={}),window.BSGlobal.indicator=b},_clearGlobalIndicator:function(){a.app.vent.on("GlobalIndicatorDelete",function(a){this._requestClearIndicator(a)},this)},_requestClearIndicator:function(b){var c={indicatorType:"",messageType:"",indicatorNum:0},d=this,b=a._.extend({},c,b);a.app.request("Indicator:indicatorClear",{messageType:b.messageType||0,indicatorType:b.indicatorType||""}).done(function(c){if(""==b.indicatorType&&b.indicatorNum){var e=d.indicatorCollection.where({messageType:b.messageType});return d.indicatorCollection.remove(e),1==b.messageType&&d._reduce_messageIndicator(b.indicatorNum),void(2==b.messageType&&d._reduce_totoIndicator(b.indicatorNum))}for(var f=b.indicatorType.split(","),g=0;g<f.length;g++){var h=f[g],i=d.indicatorCollection.get(h);if(i){var j=Number(i.get("value"))||0;if(0!=j){d.indicatorCollection.remove(i);var k=["mCommentIndicator","mLeaveIndicator","mLeaveAllIndicator","mWorkIndicator","mfollowIndicator","mLeaveWorkIndicator","mLeaveDepartmentIndicator","mtitaIndicator","messageIndicator","mSuccessionIndicator","mRecruitIndicator","mEMPIndicator","mTalentReviewIndicator","mGoalIndicator","mApprove","mApprovalCentre","mtitadashang","mTaoShangIndicator"],l=["todotitaIndicator","todoIndicator","tSuccessionIndicator","tRecruitIndicator","tEMPIndicator","tTalentReviewIndicator","tGoalIndicator","tApprove"];if(a._.indexOf(k,h)>-1&&d._reduce_messageIndicator(j),a._.indexOf(l,h)>-1&&d._reduce_totoIndicator(j),"feedAboutMeIndicator"==h){var m=d.navCollection.get(148);if(!m)return;m.set("newCount",!0),d.sidebarView.setMsgNotice({id:m.get("id"),newCount:!1})}}}}})},_reduce_messageIndicator:function(b){var c=this.indicatorCollection.get("messageIndicator")||new a.Model,d=c.get("value")||0,e=0>d-b?0:d-b;c.set("value",e),this.model.set("messageRedCount",e)},_reduce_totoIndicator:function(){var b=this.indicatorCollection.get("todoIndicator")||new a.Model,c=b.get("value")||0,d=c-num<0?0:c-num;b.set("value",d),this.model.set("todoRedCount",d)},_getMessageListData:function(a){var b=this.indicatorCollection.where({messageType:1})||[],c=[];if(!b.length)return[];for(var d=0;d<b.length;d++){var e=b[d];if(18!=e.get("indicatorType")){var f=this._getMessageUrl(e);c.push({content:e.get("content"),date:"",length:e.get("value"),className:f.className,href:f.url})}}return c},_getMessageUrl:function(a){var b=a.get("type"),c=a.get("indicatorType"),d=a.get("appId");appType=a.get("appType");var e={className:"header-icon-reply",url:"#more/messages?messageType=2&isRead=1&tabAppId="+d+"&tabAppType="+appType};switch(b){case"mZan":e.className="sys-icon-98";break;case"mCommentIndicator":e={className:"header-icon-reply",url:"#more/indicatormsg?indicatorType="+c};break;case"mLeaveIndicator":e={className:"header-icon-at-me",url:"#more/indicatormsg?indicatorType="+c};break;case"mTaoShangIndicator":e={className:"header-icon-ex-reward",url:"#more/messages?messageType=2&isRead=1&tabAppId="+d+"&tabAppType="+appType};break;case"mLeaveAllIndicator":e={className:"header-icon-at-notice",url:"#more/indicatormsg?indicatorType="+c};break;case"mWorkIndicator":e={className:"header-icon-work-notice",url:"#more/messages?messageType=2&isRead=1&tabAppId="+d+"&tabAppType="+appType};break;case"mfollowIndicator":e={className:"header-icon-fans",url:"#staff?name=fans"};break;case"mLeaveWorkIndicator":e={className:"header-icon-at-project",url:"#more/indicatormsg?indicatorType="+c};break;case"mLeaveDepartmentIndicator":e={className:"header-icon-at-department",url:"#more/indicatormsg?indicatorType="+c};break;case"mLeaveTeamIndicator":e={className:"header-icon-at-team",url:"#more/indicatormsg?indicatorType="+c};break;case"mtitadashang":e={className:"header-icon-in-reward",url:"#more/messages?messageType=2&isRead=1&tabAppId="+d+"&tabAppType="+appType};break;case"mTeamIndicator":e={className:"header-icon-work-notice",url:"#more/messages?messageType=2&isRead=1&tabAppId="+d+"&tabAppType="+appType};break;case"mLeaveandComment":e={className:"header-icon-at-me",url:"#more/messages?messageType=2&isRead=1&messageSubNav=2"}}return e},_updateMsgData:function(){var b=this._getMessageListData();this.messageBtn.reminds=a._.extend({},this.messageBtn.reminds,{remindCount:this.model.get("messageRedCount"),remindList:b||[]}),this.headerView.reloadMessage(this.messageBtn)},_getTodoData:function(){var b=this;a.app.request("Todo:getTodoData:",{pageNum:1,page_size:50,status:1}).done(function(a){var c=[];a.todos&&(c=a.todos.length>5?a.todos.slice(0,5):a.todos),b.todoCollection.reset(c),b._updateTodoData(c)}).fail(function(a){})},_updateTodoData:function(b){if(b){var c=this._getRemindListData();this.todoBtn.reminds=a._.extend({},this.todoBtn.reminds,{remindList:c})}else this.todoBtn.reminds=a._.extend({},this.todoBtn.reminds,{remindCount:this.model.get("todoRedCount"),remindList:[]});this.headerView.reloadMessage(this.todoBtn)},_getRemindListData:function(){for(var a=this.todoCollection.toJSON(),b=[],c=this,d=0;d<a.length;d++){var e=a[d];b.push({userName:e.User.name,userPic:e.User.avatar.Medium,teskName:e.subTitle,date:e.createDate,taskContent:e.content,href:c._getUrl(e),avatar:{color:e.User.avatar.Color,hasAvatar:e.User.avatar.HasAvatar,medium:e.User.avatar.Medium}})}return b},_getUrl:function(a){var b=a.todoType,c="//"+location.host+location.pathname,d=c+"#more/messages?messageType=1",e=a.isPush;return a.objUrl&&""!=a.objUrl?a.objUrl:(1==b?e?d+="&pullScreeId="+a.objId+'&pullScreenOpen=true&pullScreenType=task"':d=a.objUrl:2==b?d=c+"#more/apply?name=plan":3==b?d=c+"#more/apply?name=work":4==b&&(d=a.objUrl),d)},_dealOldResp:function(b){if(b&&b.length){var c=a._.map(b,function(a){var b={};for(var c in a){
var d=c.substring(0,1).toLowerCase()+c.substring(1);b[d]=a[c]}return b});return c}},_openDailyDetailPageView:function(b){this.detailIndexPageView=new o({id:b}),a.app.vent.trigger("global-pull-screen",b,"dailyDetail",this.detailIndexPageView)},_openPullScreen:function(){var a=this.routerData;if(a.pullScreenOpen&&"true"==a.pullScreenOpen){var b=a.pullScreenType,c=a.pullScreeId;if(!b||!c)return;"dailyDetail"==b&&this._openDailyDetailPageView(c)}},_renderReward:function(){var b=a.Context.IsOpenApp("950");if(b){var c=this;a.app.request("Wxpay:received",{}).done(function(b){c.rewardView||(c.rewardView=new u,c.$el.append(c.rewardView.render().$el));var d=b.orders||[];if(!d.length)return void c.rewardView.collection.reset([]);for(var e=c.rewardView.collection.pluck("orderId")||[],f=a._.pluck(d,"orderId"),g=0;g<e.length;g++){var h=e[g];-1==f.indexOf(h)&&c.rewardView.collection.remove(c.rewardView.collection.get(h))}c.rewardView.collection.add(b.orders)})}}});return new z}),define("views/common/layouts/master-layout",["views/common/layouts/italent-layout"],function(a){return a}),define("views/common/layouts/empty-layout",["talent","templates/common","TitaWidget"],function(a,b,c){var d=a.BaseEmptyLayout.extend({template:b["common/layouts/empty-layout"],className:"tu-height-full",regions:{main:"#main-region",pullScreen:"#pull-screen-region"},initialize:function(){this._inIframeHandler()},_inIframeHandler:function(){var a=this;if(window.top!=window){window.iTalentSDK&&window.iTalentSDK.register();var b=Talent.Collection.extend({model:Talent.Model.extend({idAttribute:"type"})});this.indicatorCollection=new b,window.iTalentSDK&&window.iTalentSDK.register({listenEvent:"uxNavMean_home_remindData",cb:function(b){var c=b.data&&b.data.indicators||[];a.indicatorCollection.reset(c),Talent.app.vent.trigger("GlobalIndicatorUpdate",a.indicatorCollection)}}),window.iTalentSDK&&window.iTalentSDK.register({listenEvent:"uxNavMenu_home_hashChange",cb:function(a){var b=a.hash;Talent.app.execute("history:navigate",b,{trigger:!0,forceTrigger:!0})}}),this._clearGlobalIndicator()}},refresh:function(){this.main.show(new this.mainViewClass(this.options)),this.trigger("refresh")},onShow:function(){var a=this;this.refresh(),this._adjustPagelinePos(),this._renderPullScreenLayoutView();var b=Talent._.debounce(function(){a._setPageLinePos()},300);$(window).off("resize.Tita-Layout"),$(window).on("resize.Tita-Layout",b)},onClose:function(){this.t&&clearInterval(this.t)},_clearGlobalIndicator:function(){Talent.app.vent.on("GlobalIndicatorDelete",function(a){window.iTalentSDK&&window.iTalentSDK.sendMessage({publishEvent:"Tita-GlobalIndicatorDelete",data:a})},this)},_adjustPagelinePos:function(){return"undefined"==typeof this.options.hideSubMenu?void this.$el.addClass("tu-page-hidesubmenu").removeClass("tu-grid-3-13"):void(this.options.hideSubMenu?this.$el.addClass("tu-page-hidesubmenu").removeClass("tu-grid-3-13"):(this.$el.removeClass("tu-page-hidesubmenu").addClass("tu-grid-3-13"),this._setPageLinePos()))},_setPageLinePos:function(){var a=this.$el.find(".tu-col-3").width();$(this.regions.main).css({backgroundPosition:a-1+"px 0"})},_renderPullScreenLayoutView:function(){var a=new c.PullScreenView({topBias:0,showFullScreenButton:!0});this.pullScreen.show(a),Talent.app.vent.on("route",function(a,b,c){Talent.app.request("history:getQueryObject").done(function(a){a.pullScreenOpen||Talent.app.vent.trigger("global-pull-screen","closed")})})}});return new d}),!function(a,b){if("object"==typeof exports&&"object"==typeof module)module.exports=b();else if("function"==typeof define&&define.amd)define("error-cacher",[],b);else{var c=b();for(var d in c)("object"==typeof exports?exports:a)[d]=c[d]}}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){var d=c(2),e=c(5),f=c(4),g=function(a,b,c,g){var h=e.getEnv().toUpperCase();g&&g.env&&(h=g.env);var i=d.init({env:h}),j=i.tryWrapper;this.attachToJQueryEvent=function(){var a=jQuery.event.add;jQuery.event.add=function(){var b=Array.prototype.slice.call(arguments);b[2]=j(b[2]),a.apply(this,b)}},this.attachToBackboneDelegateEvents=function(){_.extend(b.View.prototype,{delegateEvents:function(a){if(!a&&!(a=_.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(_.isFunction(c)||(c=this[a[b]]),c){var d=b.match(/^(\S+)\s*(.*)$/),e=d[1],f=d[2];c=_.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,j(c,{usage:"Backbone.View: delegateEvents: event on self"})):this.$el.on(e,f,j(c,{usage:"Backbone.View: delegateEvents: event delegate"}))}}return this}})};var k=function(a){var b=a.done;a.done=function(){var a=Array.prototype.slice.call(arguments);return"function"==typeof a[0]&&(a[0]=j(a[0],{usage:"Backbone.sync: done()"})),b.apply(this,a)};var c=a.fail;a.fail=function(){var a=Array.prototype.slice.call(arguments);return"function"==typeof a[0]&&(a[0]=j(a[0],{usage:"Backbone.sync: fail()"})),c.apply(this,a)};var d=a.then;return a.then=function(){for(var a=Array.prototype.slice.call(arguments),b=0;b<a.length;b++)if("function"==typeof a[b]){var c="";0===b&&(c="Backbone.sync: then.fnDone()"),1===b&&(c="Backbone.sync: then.fnFail()"),2===b&&(c="Backbone.sync: then.fnProgress()"),a[b]=j(a[b],{usage:c})}return d.apply(this,a)},a},l=function(a,b){var c=a.status,d=a.statusText,e=a.responseText,g=(b.url||"").replace(/\?[\S]+$/,""),h=["XHR failed( msg: '",d,"'; status: '",c,"' ): "+g].join(""),i={headers:b.headers,contentType:b.contentType,async:b.async,cache:b.cache,dataType:b.dataType,type:b.type,data:b.data,url:b.url};200==c?(i.responseText=(e||"").slice(0,1024),h=["XHR failed( msg: '",d,"'; status: '200' )"].join("")):0==c&&(i.responseText=(e||"").slice(0,1024),h=["XHR failed( msg: '",d,"'; status: '0' )"].join(""),d.match(/NetworkError\: Failed to execute 'send' on 'XMLHttpRequest'/)&&(h=["XHR failed( msg: 'NetworkError: Failed to execute 'send' on 'XMLHttpRequest'.'; status: '",c,"' ): "+g].join(""))),f.record(function(a,b){return a.exceptionType=h,a.message.XMLHttpRequest=i,a.stackTrace="",a.throwLineNum="-1",a.throwColumnNum="-1",a.catchLineNum="-1",a.catchColumnNum="-1",a.throwSourceFileName="{}",a.catchSourceFileName="{}",a.throwMethodName="{}",a.catchMethodName="{}",a})};this.attachToBackboneSync=function(){var a=b.sync;b.sync=function(b,c,d){var e=a.apply(this,arguments);return e=k(e)}},this.attachToBackboneInitialize=function(){var a=b.View.prototype.constructor;b.View.prototype.constructor=function(){a=j(a,{usage:"Backbone.View.prototype.constructor"}),a.apply(this,arguments),this.render=j(this.render,{usage:"Backbone.View.render"})}},this.attachToMarionetteRegionShow=function(){c.Region.prototype.show=j(c.Region.prototype.show)},this.attachToJqueryAjax=function(){var a=jQuery.ajax;jQuery.ajax=function(){var b=Array.prototype.slice.call(arguments);b[0]&&(b[0].success&&(b[0].success=j(b[0].success)),b[0].error&&(b[0].error=j(b[0].error)));var c=a.apply(this,b);return c=k(c)}},this.attachToXHRErrorHandler=function(){var a=jQuery.ajax;jQuery.ajax=function(){var b=Array.prototype.slice.call(arguments);if(b[0])if(b[0].error){var c=b[0].error;b[0].error=function(a){l(a,b[0]),c.apply(this,arguments)}}else b[0].error=function(a){l(a,b[0])};var d=a.apply(this,b);return d}},this.attachToJqueryProxy=function(){var a=jQuery.proxy;jQuery.proxy=function(){var b=a.apply(this,arguments);return j(b)}},this.initExpStore=function(){a.exceptionTrajectory=[]},this.init=function(){this.initExpStore(),this.attachToJQueryEvent(),this.attachToBackboneInitialize(),this.attachToMarionetteRegionShow(),this.attachToJqueryAjax(),this.attachToXHRErrorHandler()}};a.exports={ErrorAttacher:g}},function(a,b,c){var d=c(3),e=c(4),f=function(a){window.tryCount=0;var b=function(a,b){var c=b&&b.c?b.c:"info";window.console&&window.console[c]&&window.console[c](a)},c=a.env,f=function(a,f){return a&&"function"==typeof a?(window.tryCount++,a.tryWrap||(a.tryWrap=function(){try{return a.apply(this,arguments)}catch(f){if(f.isPenetrable)throw f;if(f.isPenetrable=!0,"PRODUCTION"===c){var g=(new Date).getTime();if(window.exceptionTrajectory.push(g),e.log(f,{env:c,exceptionId:g}),d.IE>0){var h=f.message||f.description;f=new Error("ErrorCacher: "+h),f.isPenetrable=!0}(d.Chrome>0||d.FireFox>0)&&(f.message="ErrorCacher: "+f.message)}throw d.Safari>0&&b(f.stack,{c:"error"}),f}},a.tryWrap.tryWrap=a.tryWrap),a.tryWrap):a};return{tryWrapper:f}};a.exports={init:f}},function(a,b){var c=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a},d=function(){var a=-1;return navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Chromium/)&&(a=1),a},e=function(){var a=-1;return navigator.userAgent.match(/Firefox/)&&!navigator.userAgent.match(/Seamonkey/)&&(a=1),a},f=function(){var a=-1;return!navigator.userAgent.match(/Safari/)||navigator.userAgent.match(/Chrome/)||navigator.userAgent.match(/Chromium/)||(a=1),a};a.exports={Chrome:d(),FireFox:e(),Safari:f(),IE:c(),toString:function(){return["Chrome: ",d(),"; ","FireFox: ",e(),"; ","Safari: ",f(),"; ","IE: ",c()].join("")}}},function(module,exports,__webpack_require__){!function(a,b){module.exports=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){var d=c(2),e=c(6),f=c(5),g=c(3),h=c(4);a.exports={record:function(a){try{throw new Error("ET.record()")}catch(b){var c=f.init({errorObj:b});if(!c.formatSuccess)return!1;d.recordError(c,a)}},log:function(a,b){var c=h.getEnv().toUpperCase();b&&b.env&&(c=b.env);var i=b&&b.exceptionId||null;if("PRODUCTION"===c)try{var j=f.init({errorObj:a});if(!j.formatSuccess)return!1;d.triggerError(j,{exceptionId:i})}catch(k){var l='The function "ETModules.log(e)" throws an error. Maybe et.js hasn\'t been inserted.';console&&console.warn&&console.warn(l),e.sendErrorToET({exception:"ETModules.log(...) throws an error",message:{describe:l,"exp.stack":g.getErrorStack(k)}})}}}},function(a,b,c){var d=c(3),e=(c(5),c(6)),f=c(7),g=function(a){try{for(var b=a.getBottomFrame(),c=a.getTopFrame(),g={action:f.getAction(),netInfo:"",exceptionType:a.errorMsg,exceptionFullName:a.errorMsg,stackTrace:a.stack,throwClassFullName:"",throwMethodName:c.fnName,throwSourceFileName:c.fileName,throwLineNum:c.lineNum,throwColumnNum:c.colNum,catchClassFullName:"",catchMethodName:b.fnName,catchSourceFileName:b.fileName,catchLineNum:b.lineNum,catchColumnNum:b.colNum,userId:f.getUserId(),tenantId:f.getTenantId(),applicationName:f.getAppName(),message:{viewport:d.getViewport(),screen:d.getScreen(),router:d.getRouter(),pagePath:window.location.href,etVersion:"0.1.8"},customId:"-1"},h=f.getExtendEtParams(),i=0;i<f.availableExtendEtParams.length;i++){var j=f.availableExtendEtParams[i],k=g[j];g[j]=h[j]||k||""}var l={},m=f.getFieldsFormatter();for(var n in g){var o=g[n];n in m&&(o=m[n](g[n])),l[n]=o}return{oriParams:g,formattedParams:l}}catch(p){e.sendError({exception:"ET: analyzing failed -901"}),e.sendErrorToET({exception:"onerror.js triggerError(): error",message:{stackFrame:{errorMsg:a.errorMsg,stack:a.stack,progressDeep:a.progressDeep,formatSuccess:a.formatSuccess,statusDescribe:a.statusDescribe},eStack:d.getErrorStack(p),eMsg:p.toString()||""}})}},h=function(a){var b=a.formattedParams.throwSourceFileName;return b=b.replace(/\?[\S\s]+$/,""),[a.formattedParams.applicationName,a.formattedParams.exceptionType,b].join("_")};a.exports={triggerError:function(a,b){var c=g(a),e="exceptionId";b&&b[e]&&(c.formattedParams.customId=b[e]),c.formattedParams.catchClassFullName=h(c),c.formattedParams.throwSourceFileName=c.formattedParams.throwSourceFileName.replace(/\?[\S\s]+$/,""),c.formattedParams.catchSourceFileName=c.formattedParams.catchSourceFileName.replace(/\?[\S\s]+$/,""),d.request({data:c.formattedParams})},recordError:function(a,b){b=b||function(a,b){return b};var c=g(a);c.formattedParams=b(c.oriParams,c.formattedParams);var e=new RegExp(d.getManualRecordKey());c.formattedParams.exceptionFullName.match(e)&&(c.formattedParams.exceptionFullName=c.formattedParams.exceptionType),c.formattedParams.catchClassFullName=h(c),c.formattedParams.throwSourceFileName=c.formattedParams.throwSourceFileName.replace(/\?[\S\s]+$/,""),c.formattedParams.catchSourceFileName=c.formattedParams.catchSourceFileName.replace(/\?[\S\s]+$/,""),d.request({data:c.formattedParams})}}},function(module,exports,__webpack_require__){var Env=__webpack_require__(4);module.exports={getViewport:function(){var a=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.offsetWidth,b=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.offsetHeight;return{width:a,height:b}},getScreen:function(){var a=window.screen.width,b=window.screen.height;return{width:a,height:b}},isMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},getDomain:function(){var a=window.location.href.split(/\//),b=a[2];return b||"null"},request:function(a){var b={url:"",type:"",data:{}};for(var c in a)b[c]=a[c];if(b.url||(b.url="//opsapi.beisen.com/api/ErrorTracker","PRODUCTION"!==Env.getEnv().toUpperCase()&&(b.url="//10.129.8.21/api/ErrorTracker")),b.type||(b.type="GET"),"get"==b.type.toLowerCase()){var d=[];for(var e in b.data){var f=b.data[e];"string"!=typeof f&&(f=JSON.stringify(f)),d.push(e+"="+encodeURIComponent(f))}d.push("r="+Math.random());var g=b.url+"?"+d.join("&");g=(window.location.protocol||"").match(/https/)?"https:"+g:"http:"+g,(new Image).src=g}},getRouter:function(){var a="";try{var b=window.location.href,c=b.match(/\#[\S\s]+/);c&&(a=c[0],a=a.replace(/\?[\S\s]+$/,""))}catch(d){a=""}return a},getET:function(){return window.ET},getManualRecordKey:function(){return"ET\\.record\\(\\)"},getErrorStack:function(a){return a.stack||a.backtrace||a.stacktrace||""},isScriptError:function(a){return!!a.match(/^script\serror\.$/i)||!!a.match(/^script\serror$/i)},console:function(){return!1},error:function(a){throw console&&console.error&&console.error(a),new Error(a)},getClearPath:function(a){return a=a||window.location.href,(a||"").replace(/\?[\S\s]+$/,"")},getValFromMultiPath:function _self(pathList){if(!pathList||!pathList.length)return!1;var path=pathList[0],val="";try{val=eval("window."+path)}catch(e){return pathList=pathList.slice(1,pathList.length),_self(pathList)}return val}}},function(a,b){a.exports={getEnv:function(){var a="Unknown";if(window.BSGlobal){var b="";try{b=window.BSGlobal.env}catch(c){b=a}return b||a}return a}}},function(a,b,c){var d=(c(3),c(6)),e=function(a){var b=a.errorObj,c=function(){this.errorMsg="",this.frames=[],this.stack="",this.progressDeep=0,this.formatSuccess=!1,this.format()};c.prototype={crossBrowserStackExp:{spaceMark:[/\s+at\s+/g,/\n+/g],infoGroup:[/^([\S\s]+?)@((?:file\:){0,1}[\S]+?)\:([-]*\d+)\:([-]*\d+)$/,,/^([\S\s]+?)\s\(([\S]+?)\:([-]*\d+)\:([-]*\d+)\)$/,/^([\S\s]+?)@([\S]+?)\:([-]*\d+)\:([-]*\d*)$/,/^()(http[\S]+?)\:([-]*\d+)\:([-]*\d*)$/,/^()@([\S]+?)\:([-]*\d+)\:([-]*\d+)$/,/^([\S\s]+?)@([\S]+?)\:([-]*\d+)(?:\:)*([-]*\d*)$/],excludeStack:[/[\S\s]+?\(eval at \([\S]+?\)\,\s*?\:[-]*\d*?\:[-]*\d*?\)/]},getErrorStack:function(a){return a=a||b,a.stack||a.backtrace||a.stacktrace||""},getStackList:function(){var a=this,b=a.getErrorStack();if(!b)return[];for(var c=a.crossBrowserStackExp,d=[],e=0;e<c.spaceMark.length;e++){var f=c.spaceMark[e];if(d=b.split(f),d&&d.length>1)return d}return d=[b.replace(/^[\s]*|[\s]*$/,"")]},createFrame:function(a){a=a||{};var b={fnName:a.fnName||"",fileName:a.fileName||"",lineNum:a.lineNum||"-1",colNum:a.colNum||"-1",ori:a.ori||"",hasFormated:!0};return b.fnName||b.fileName||(b.hasFormated=!1),b},getStackInfo:function(a){for(var b=this,c=b.crossBrowserStackExp,d=null,e=0;e<c.infoGroup.length;e++){var f=c.infoGroup[e];if(d=a.match(f),d&&d.length>4)return b.createFrame({fnName:d[1]||"[anonymous]",fileName:d[2],lineNum:d[3],colNum:d[4],ori:a})}return b.createFrame({ori:a})},checkFrames:function(){var a=this;if(!a.frames.length){var c=b?b.toString():"";return d.sendErrorToET({exception:"stackFrame.js format(): frames.length is 0",message:{errorMsg:c,unParsedStack:a.getErrorStack()||""}}),!1}return!0},beforeFormat:function(){for(var a=this,b=!1,c=a.getErrorStack(),d=0;d<a.crossBrowserStackExp.infoGroup.length;d++){var e=a.crossBrowserStackExp.infoGroup[d];if(c.match(e)){b=!0;break}}if(b)for(var d=0;d<a.crossBrowserStackExp.excludeStack.length;d++){var f=a.crossBrowserStackExp.excludeStack[d];if(c.match(f)){b=!1;break}}return b},format:function(){var a=this;try{if(a.beforeFormat()){for(var c=a.getStackList(),e=0;e<c.length;e++){var f=a.getStackInfo(c[e]);f&&a.frames.push(f)}a.checkFrames(),a.progressDeep=a.frames.length,a.stack=this.toString()}else a.progressDeep=0,a.stack=a.getErrorStack();a.formatSuccess=!0,a.errorMsg=b.toString()}catch(g){d.sendError({exception:"ET: analyzing failed -902"}),d.sendErrorToET({exception:"stackFrame.js format(): error",message:{unParseStackTrace:a.getErrorStack()||"",eStack:a.getErrorStack(g)}})}},toString:function(){for(var a=this,b="",c=[],d=0;d<a.frames.length;d++){var e=a.frames[d];e.hasFormated?c.push([e.fnName,"@","(",e.fileName,")",":",e.lineNum,":",e.colNum].join("")):c.push(e.ori)}return b+=c.join(";")},getBottomFrame:function(){return this.frames[this.progressDeep-1]||this.createFrame({})},getTopFrame:function(){var a=this,b=function c(b){if(b.length<=0)return a.createFrame({});var d=b[0];return d.hasFormated||(b=b.slice(1,b.length),d=c(b)),d}(this.frames);return b}};var e=new c(a);return e};a.exports={init:e}},function(a,b,c){var d=c(3),e=c(7);a.exports={sendError:function(a){var b=e.getAppName(),c={action:e.getAction(),applicationName:b,exceptionType:a.exception,exceptionFullName:a.exception,catchClassFullName:[b,a.exception].join("_"),message:a.message||"{}",customId:"-1"};a.stackTrace&&(c.stackTrace=a.stackTrace),d.request({data:c})},sendErrorToET:function(a){d.request({data:{action:e.getAction(),applicationName:e.getETAppName(),exceptionType:a.exception,exceptionFullName:a.exception,catchClassFullName:[e.getETAppName(),a.exception].join("_"),message:a.message||"{}"}})}}},function(a,b,c){var d=c(3);a.exports={availableExtendEtParams:["applicationName","applicationVersion","userId","tenantId","customId","tag","queryParams","postParams","netInfo"],getETAppName:function(){return"ux.et"},getAction:function(){var a=d.getET(),b=2;return a&&(b=a.getAction()),b},getExtendEtParams:function(){var a=d.getET(),b={};return a&&(b=a.getExtendEtParams()),b},getFieldsFormatter:function(){var a=d.getET(),b={};return a&&(b=a.getFieldsFormatter()),b},getAppName:function(){var a=this.getExtendEtParams(),b=a.applicationName;if(b)return b;var c=d.isMobile(),e=c?"m":"pc",f=(window.location.host||"").replace(/\:\d+$/,""),g=["ux",e,f].join(".");if(window.BSGlobal){var b="";try{b=window.BSGlobal.appName}catch(h){b=g}return b||g}return g},getUserId:function(){var a=this.getExtendEtParams(),b=a.userId;return b?b:window.BSGlobal?(b=d.getValFromMultiPath(["BSGlobal.loginUserInfo.UserId","BSGlobal.generalData.CurrentUser.UserID"]),b===!1&&(b="-2"),b):"-1"},getTenantId:function(){var a=this.getExtendEtParams(),b=a.tenantId;return b?b:window.BSGlobal?(b=d.getValFromMultiPath(["BSGlobal.tenantInfo.Id","BSGlobal.generalData.CurrentTenant.ID"]),b===!1&&(b="-2"),b):"-1"}}}])})},function(a,b){var c=function(){var a="Unknown";if(window.BSGlobal){var b="";try{b=window.BSGlobal.env}catch(c){b=a}return b||a}return a};a.exports={getEnv:c}}])}),define("tita-network",["talent"],function(a){var b,c=a.$,d=BSGlobal.apiPath,e=location.host,f=d.split("//")[1]===e;c.support.cors=!0,c.ajaxPrefilter(function(a){var d=BSGlobal.apiPath,e=!1;a.url.indexOf(d)>-1&&(e=!0),"jsonp"!=a.dataType&&e&&(a.xhr=function(){var a=f?window:b[0].contentWindow;return a.XMLHttpRequest?new a.XMLHttpRequest:a.ActiveXObject?new a.ActiveXObject("Microsoft.XMLHTTP"):new a.XMLHttpRequest}),a.headers=c.extend({},a.headers,{"x-referer":location.hash})});var g=(new Date,new c.Deferred);return f?(g.resolve(),g):(b=c('<iframe style="display:none" src="'+BSGlobal.apiPath+'/iframe.html" id="tita-apipath-iframe"></iframe>'),b.on("load",function(){g.resolve()}),b.appendTo("body"),g)});
